/*! For license information please see main.8a10dd6e.js.LICENSE.txt */
(()=>{"use strict";var t={914:(t,e,n)=>{var i=n(483),r=n(557);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var O=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function v(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!u.call(p,t)||!u.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(O,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(O,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(O,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),Q=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var $=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}var M,D=Object.assign;function q(t){if(void 0===M)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M=e&&e[1]||""}return"\n"+M+t}var j=!1;function U(t,e){if(!t||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&"string"===typeof h.stack){for(var r=h.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?q(t):""}function L(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function W(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case x:return"Portal";case P:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case E:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case Q:return(t.displayName||"Context")+".Consumer";case _:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case R:return null!==(e=t.displayName||null)?e:W(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return W(t(e))}catch(n){}}return null}function z(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function V(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function Z(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=Z(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Z(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function F(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(po){return t.body}}function B(t,e){var n=e.checked;return D({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function G(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=V(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function H(t,e){null!=(e=e.checked)&&v(t,"checked",e,!1)}function K(t,e){H(t,e);var n=V(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,V(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&F(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+V(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return D({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:V(n)}}function st(t,e){var n=V(e.value),i=V(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ht,ct,ut=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ht.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var Ot=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(Ot[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function vt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,kt=null,St=null;function Pt(t){if(t=vr(t)){if("function"!==typeof xt)throw Error(s(280));var e=t.stateNode;e&&(e=wr(e),xt(t.stateNode,t.type,e))}}function _t(t){kt?St?St.push(t):St=[t]:kt=t}function Qt(){if(kt){var t=kt,e=St;if(St=kt=null,Pt(t),e)for(t=0;t<e.length;t++)Pt(e[t])}}function Tt(t,e){return t(e)}function Ct(){}var Et=!1;function Rt(t,e,n){if(Et)return t(e,n);Et=!0;try{return Tt(t,e,n)}finally{Et=!1,(null!==kt||null!==St)&&(Ct(),Qt())}}function At(t,e){var n=t.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var $t=!1;if(c)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(ct){$t=!1}function It(t,e,n,i,r,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(c){this.onError(c)}}var Mt=!1,Dt=null,qt=!1,jt=null,Ut={onError:function(t){Mt=!0,Dt=t}};function Lt(t,e,n,i,r,s,o,a,l){Mt=!1,Dt=null,It.apply(Ut,arguments)}function Wt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(Wt(t)!==t)throw Error(s(188))}function Zt(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=Wt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Vt(r),t;if(o===i)return Vt(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),null!==t?Xt(t):null}function Xt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Xt(t);if(null!==e)return e;t=t.sibling}return null}var Yt=r.unstable_scheduleCallback,Ft=r.unstable_cancelCallback,Bt=r.unstable_shouldYield,Gt=r.unstable_requestPaint,Ht=r.unstable_now,Kt=r.unstable_getCurrentPriorityLevel,Jt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var he=64,ce=4194304;function ue(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=ue(a):0!==(s&=o)&&(i=ue(s))}else 0!==(o=n&~r)?i=ue(o):0!==s&&(i=ue(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=he;return 0===(4194240&(he<<=1))&&(he=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oe(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ve=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,xe,ke,Se,Pe,_e=!1,Qe=[],Te=null,Ce=null,Ee=null,Re=new Map,Ae=new Map,$e=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ie(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Ce=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":Re.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ae.delete(e.pointerId)}}function Me(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=vr(e))&&xe(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function De(t){var e=yr(t.target);if(null!==e){var n=Wt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=zt(n)))return t.blockedOn=e,void Pe(t.priority,(function(){ke(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function qe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Be(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=vr(n))&&xe(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);bt=i,n.target.dispatchEvent(i),bt=null,e.shift()}return!0}function je(t,e,n){qe(t)&&n.delete(e)}function Ue(){_e=!1,null!==Te&&qe(Te)&&(Te=null),null!==Ce&&qe(Ce)&&(Ce=null),null!==Ee&&qe(Ee)&&(Ee=null),Re.forEach(je),Ae.forEach(je)}function Le(t,e){t.blockedOn===e&&(t.blockedOn=null,_e||(_e=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ue)))}function We(t){function e(e){return Le(e,t)}if(0<Qe.length){Le(Qe[0],t);for(var n=1;n<Qe.length;n++){var i=Qe[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Te&&Le(Te,t),null!==Ce&&Le(Ce,t),null!==Ee&&Le(Ee,t),Re.forEach(e),Ae.forEach(e),n=0;n<$e.length;n++)(i=$e[n]).blockedOn===t&&(i.blockedOn=null);for(;0<$e.length&&null===(n=$e[0]).blockedOn;)De(n),null===n.blockedOn&&$e.shift()}var ze=b.ReactCurrentBatchConfig,Ve=!0;function Ze(t,e,n,i){var r=ve,s=ze.transition;ze.transition=null;try{ve=1,Ye(t,e,n,i)}finally{ve=r,ze.transition=s}}function Xe(t,e,n,i){var r=ve,s=ze.transition;ze.transition=null;try{ve=4,Ye(t,e,n,i)}finally{ve=r,ze.transition=s}}function Ye(t,e,n,i){if(Ve){var r=Be(t,e,n,i);if(null===r)Vi(t,e,i,Fe,n),Ie(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Te=Me(Te,t,e,n,i,r),!0;case"dragenter":return Ce=Me(Ce,t,e,n,i,r),!0;case"mouseover":return Ee=Me(Ee,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Re.set(s,Me(Re.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ae.set(s,Me(Ae.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Ie(t,i),4&e&&-1<Ne.indexOf(t)){for(;null!==r;){var s=vr(r);if(null!==s&&we(s),null===(s=Be(t,e,n,i))&&Vi(t,e,i,Fe,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Vi(t,e,i,null,n)}}var Fe=null;function Be(t,e,n,i){if(Fe=null,null!==(t=yr(t=wt(i))))if(null===(e=Wt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=zt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fe=t,null}function Ge(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var He=null,Ke=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Ke,i=n.length,r="value"in He?He.value:He.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Je=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(hn),un=D({},hn,{view:0,detail:0}),dn=sn(un),fn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),gn=sn(D({},fn,{dataTransfer:0})),mn=sn(D({},un,{relatedTarget:0})),On=sn(D({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vn=sn(yn),bn=sn(D({},hn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function Pn(){return Sn}var _n=D({},un,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Qn=sn(_n),Tn=sn(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),En=sn(D({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Rn),$n=[9,13,27,32],Nn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Mn=c&&"TextEvent"in window&&!In,Dn=c&&(!Nn||In&&8<In&&11>=In),qn=String.fromCharCode(32),jn=!1;function Un(t,e){switch(t){case"keyup":return-1!==$n.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Wn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zn[t.type]:"textarea"===e}function Zn(t,e,n,i){_t(i),0<(e=Xi(e,"onChange")).length&&(n=new cn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Xn=null,Yn=null;function Fn(t){qi(t,0)}function Bn(t){if(Y(br(t)))return t}function Gn(t,e){if("change"===t)return e}var Hn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Jn="function"===typeof ti.oninput}Kn=Jn}else Kn=!1;Hn=Kn&&(!document.documentMode||9<document.documentMode)}function ei(){Xn&&(Xn.detachEvent("onpropertychange",ni),Yn=Xn=null)}function ni(t){if("value"===t.propertyName&&Bn(Yn)){var e=[];Zn(e,Yn,t,wt(t)),Rt(Fn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Yn=n,(Xn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Bn(Yn)}function si(t,e){if("click"===t)return Bn(e)}function oi(t,e){if("input"===t||"change"===t)return Bn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!u.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function hi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var n,i=hi(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=hi(i)}}function ui(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ui(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=F();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=F((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ci(n,s);var o=ci(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,Oi=null,yi=null,vi=!1;function bi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==mi||mi!==F(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Xi(Oi,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function wi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ki={},Si={};function Pi(t){if(ki[t])return ki[t];if(!xi[t])return t;var e,n=xi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Si)return ki[t]=n[e];return t}c&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var _i=Pi("animationend"),Qi=Pi("animationiteration"),Ti=Pi("animationstart"),Ci=Pi("transitionend"),Ei=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){Ei.set(t,e),l(e,[t])}for(var $i=0;$i<Ri.length;$i++){var Ni=Ri[$i];Ai(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Ai(_i,"onAnimationEnd"),Ai(Qi,"onAnimationIteration"),Ai(Ti,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Ci,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Di(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,h){if(Lt.apply(this,arguments),Mt){if(!Mt)throw Error(s(198));var c=Dt;Mt=!1,Dt=null,qt||(qt=!0,jt=c)}}(i,e,void 0,t),t.currentTarget=null}function qi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Di(r,a,h),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,h=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Di(r,a,h),s=l}}}if(qt)throw t=jt,qt=!1,jt=null,t}function ji(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(zi(e,t,2,!1),n.add(i))}function Ui(t,e,n){var i=0;e&&(i|=4),zi(n,t,i,e)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Wi(t){if(!t[Li]){t[Li]=!0,o.forEach((function(e){"selectionchange"!==e&&(Mi.has(e)||Ui(e,!1,t),Ui(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Li]||(e[Li]=!0,Ui("selectionchange",!1,e))}}function zi(t,e,n,i){switch(Ge(e)){case 1:var r=Ze;break;case 4:r=Xe;break;default:r=Ye}n=r.bind(null,e,n,t),r=void 0,!$t||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Vi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}Rt((function(){var i=s,r=wt(n),o=[];t:{var a=Ei.get(t);if(void 0!==a){var l=cn,h=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Qn;break;case"focusin":h="focus",l=mn;break;case"focusout":h="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case _i:case Qi:case Ti:l=On;break;case Ci:l=En;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&e),u=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=At(p,d))&&c.push(Zi(p,g,f)))),u)break;p=p.return}0<c.length&&(a=new l(a,h,null,n,r),o.push({event:a,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(h=n.relatedTarget||n.fromElement)||!yr(h)&&!h[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(h=(h=n.relatedTarget||n.toElement)?yr(h):null)&&(h!==(u=Wt(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(l=null,h=i),l!==h)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Tn,g="onPointerLeave",d="onPointerEnter",p="pointer"),u=null==l?a:br(l),f=null==h?a:br(h),(a=new c(g,p+"leave",l,n,r)).target=u,a.relatedTarget=f,g=null,yr(r)===i&&((c=new c(d,p+"enter",h,n,r)).target=f,c.relatedTarget=u,g=c),u=g,l&&h)t:{for(d=h,p=0,f=c=l;f;f=Yi(f))p++;for(f=0,g=d;g;g=Yi(g))f++;for(;0<p-f;)c=Yi(c),p--;for(;0<f-p;)d=Yi(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=Yi(c),d=Yi(d)}c=null}else c=null;null!==l&&Fi(o,a,l,c,!1),null!==h&&null!==u&&Fi(o,u,h,c,!0)}if("select"===(l=(a=i?br(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Gn;else if(Vn(a))if(Hn)m=oi;else{m=ri;var O=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(t,i))?Zn(o,m,n,r):(O&&O(t,a,i),"focusout"===t&&(O=a._wrapperState)&&O.controlled&&"number"===a.type&&tt(a,"number",a.value)),O=i?br(i):window,t){case"focusin":(Vn(O)||"true"===O.contentEditable)&&(mi=O,Oi=i,yi=null);break;case"focusout":yi=Oi=mi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,bi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":bi(o,n,r)}var y;if(Nn)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Wn?Un(t,n)&&(v="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(v="onCompositionStart");v&&(Dn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Wn&&(y=tn()):(Ke="value"in(He=r)?He.value:He.textContent,Wn=!0)),0<(O=Xi(i,v)).length&&(v=new bn(v,t,null,n,r),o.push({event:v,listeners:O}),y?v.data=y:null!==(y=Ln(n))&&(v.data=y))),(y=Mn?function(t,e){switch(t){case"compositionend":return Ln(e);case"keypress":return 32!==e.which?null:(jn=!0,qn);case"textInput":return(t=e.data)===qn&&jn?null:t;default:return null}}(t,n):function(t,e){if(Wn)return"compositionend"===t||!Nn&&Un(t,e)?(t=tn(),Je=Ke=He=null,Wn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Xi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}qi(o,e)}))}function Zi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=At(t,n))&&i.unshift(Zi(t,s,r)),null!=(s=At(t,e))&&i.push(Zi(t,s,r))),t=t.return}return i}function Yi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Fi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,h=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==h&&(a=h,r?null!=(l=At(n,s))&&o.unshift(Zi(n,l,a)):r||null!=(l=At(n,s))&&o.push(Zi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Bi=/\r\n?/g,Gi=/\u0000|\uFFFD/g;function Hi(t){return("string"===typeof t?t:""+t).replace(Bi,"\n").replace(Gi,"")}function Ki(t,e,n){if(e=Hi(e),Hi(t)!==e&&n)throw Error(s(425))}function Ji(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void We(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);We(e)}function hr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var ur=Math.random().toString(36).slice(2),dr="__reactFiber$"+ur,fr="__reactProps$"+ur,pr="__reactContainer$"+ur,gr="__reactEvents$"+ur,mr="__reactListeners$"+ur,Or="__reactHandles$"+ur;function yr(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=cr(t);null!==t;){if(n=t[dr])return n;t=cr(t)}return e}n=(t=n).parentNode}return null}function vr(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function br(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function wr(t){return t[fr]||null}var xr=[],kr=-1;function Sr(t){return{current:t}}function Pr(t){0>kr||(t.current=xr[kr],xr[kr]=null,kr--)}function _r(t,e){kr++,xr[kr]=t.current,t.current=e}var Qr={},Tr=Sr(Qr),Cr=Sr(!1),Er=Qr;function Rr(t,e){var n=t.type.contextTypes;if(!n)return Qr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ar(t){return null!==(t=t.childContextTypes)&&void 0!==t}function $r(){Pr(Cr),Pr(Tr)}function Nr(t,e,n){if(Tr.current!==Qr)throw Error(s(168));_r(Tr,e),_r(Cr,n)}function Ir(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,z(t)||"Unknown",r));return D({},n,i)}function Mr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,Er=Tr.current,_r(Tr,t),_r(Cr,Cr.current),!0}function Dr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Ir(t,e,Er),i.__reactInternalMemoizedMergedChildContext=t,Pr(Cr),Pr(Tr),_r(Tr,t)):Pr(Cr),_r(Cr,n)}var qr=null,jr=!1,Ur=!1;function Lr(t){null===qr?qr=[t]:qr.push(t)}function Wr(){if(!Ur&&null!==qr){Ur=!0;var t=0,e=ve;try{var n=qr;for(ve=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}qr=null,jr=!1}catch(r){throw null!==qr&&(qr=qr.slice(t+1)),Yt(Jt,Wr),r}finally{ve=e,Ur=!1}}return null}var zr=[],Vr=0,Zr=null,Xr=0,Yr=[],Fr=0,Br=null,Gr=1,Hr="";function Kr(t,e){zr[Vr++]=Xr,zr[Vr++]=Zr,Zr=t,Xr=e}function Jr(t,e,n){Yr[Fr++]=Gr,Yr[Fr++]=Hr,Yr[Fr++]=Br,Br=t;var i=Gr;t=Hr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Gr=1<<32-oe(e)+r|n<<r|i,Hr=s+t}else Gr=1<<s|n<<r|i,Hr=t}function ts(t){null!==t.return&&(Kr(t,1),Jr(t,1,0))}function es(t){for(;t===Zr;)Zr=zr[--Vr],zr[Vr]=null,Xr=zr[--Vr],zr[Vr]=null;for(;t===Br;)Br=Yr[--Fr],Yr[Fr]=null,Hr=Yr[--Fr],Yr[Fr]=null,Gr=Yr[--Fr],Yr[Fr]=null}var ns=null,is=null,rs=!1,ss=null;function os(t,e){var n=$h(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=hr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Br?{id:Gr,overflow:Hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=$h(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function hs(t){if(rs){var e=is;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=hr(n.nextSibling);var i=ns;e&&as(t,e)?os(i,n):(t.flags=-4097&t.flags|2,rs=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,ns=t}}}function cs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function us(t){if(t!==ns)return!1;if(!rs)return cs(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=hr(e.nextSibling)}if(cs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=hr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?hr(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=is;t;)t=hr(t.nextSibling)}function fs(){is=ns=null,rs=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var gs=b.ReactCurrentBatchConfig;function ms(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Os(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ys(t){return(0,t._init)(t._payload)}function vs(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ih(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=jh(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function h(t,e,n,i){var s=n.type;return s===k?u(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===e.type)?((i=r(e,n.props)).ref=ms(t,e,n),i.return=t,i):((i=Mh(n.type,n.key,n.props,null,t.mode,i)).ref=ms(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Uh(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function u(t,e,n,i,s){return null===e||7!==e.tag?((e=Dh(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=jh(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Mh(e.type,e.key,e.props,null,t.mode,n)).ref=ms(t,null,e),n.return=t,n;case x:return(e=Uh(e,t.mode,n)).return=t,e;case A:return d(t,(0,e._init)(e._payload),n)}if(et(e)||I(e))return(e=Dh(e,t.mode,n,null)).return=t,e;Os(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?h(t,e,n,i):null;case x:return n.key===r?c(t,e,n,i):null;case A:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||I(n))return null!==r?null:u(t,e,n,i,null);Os(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return h(e,t=t.get(null===i.key?n:i.key)||null,i,r);case x:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case A:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||I(i))return u(e,t=t.get(n)||null,i,r,null);Os(e,i)}return null}function g(r,s,a,l){for(var h=null,c=null,u=s,g=s=0,m=null;null!==u&&g<a.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var O=f(r,u,a[g],l);if(null===O){null===u&&(u=m);break}t&&u&&null===O.alternate&&e(r,u),s=o(O,s,g),null===c?h=O:c.sibling=O,c=O,u=m}if(g===a.length)return n(r,u),rs&&Kr(r,g),h;if(null===u){for(;g<a.length;g++)null!==(u=d(r,a[g],l))&&(s=o(u,s,g),null===c?h=u:c.sibling=u,c=u);return rs&&Kr(r,g),h}for(u=i(r,u);g<a.length;g++)null!==(m=p(u,r,g,a[g],l))&&(t&&null!==m.alternate&&u.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?h=m:c.sibling=m,c=m);return t&&u.forEach((function(t){return e(r,t)})),rs&&Kr(r,g),h}function m(r,a,l,h){var c=I(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var u=c=null,g=a,m=a=0,O=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(O=g,g=null):O=g.sibling;var v=f(r,g,y.value,h);if(null===v){null===g&&(g=O);break}t&&g&&null===v.alternate&&e(r,g),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,g=O}if(y.done)return n(r,g),rs&&Kr(r,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,h))&&(a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return rs&&Kr(r,m),c}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,h))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return t&&g.forEach((function(t){return e(r,t)})),rs&&Kr(r,m),c}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:t:{for(var h=o.key,c=s;null!==c;){if(c.key===h){if((h=o.type)===k){if(7===c.tag){n(i,c.sibling),(s=r(c,o.props.children)).return=i,i=s;break t}}else if(c.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===A&&ys(h)===c.type){n(i,c.sibling),(s=r(c,o.props)).ref=ms(i,c,o),s.return=i,i=s;break t}n(i,c);break}e(i,c),c=c.sibling}o.type===k?((s=Dh(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Mh(o.type,o.key,o.props,null,i.mode,l)).ref=ms(i,s,o),l.return=i,i=l)}return a(i);case x:t:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=Uh(o,i.mode,l)).return=i,i=s}return a(i);case A:return t(i,s,(c=o._init)(o._payload),l)}if(et(o))return g(i,s,o,l);if(I(o))return m(i,s,o,l);Os(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=jh(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var bs=vs(!0),ws=vs(!1),xs=Sr(null),ks=null,Ss=null,Ps=null;function _s(){Ps=Ss=ks=null}function Qs(t){var e=xs.current;Pr(xs),t._currentValue=e}function Ts(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Cs(t,e){ks=t,Ps=Ss=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(wa=!0),t.firstContext=null)}function Es(t){var e=t._currentValue;if(Ps!==t)if(t={context:t,memoizedValue:e,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=t,ks.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return e}var Rs=null;function As(t){null===Rs?Rs=[t]:Rs.push(t)}function $s(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,As(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ns(t,i)}function Ns(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Ms(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&El)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ns(t,n)}return null===(r=i.interleaved)?(e.next=e,As(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ns(t,n)}function Us(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Ls(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ws(t,e,n,i){var r=t.updateQueue;Is=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,h=l.next;l.next=null,null===o?s=h:o.next=h,o=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=l))}if(null!==s){var u=r.baseState;for(o=0,c=h=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(f,u,d);break t}u=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,u,d):p)||void 0===d)break t;u=D({},u,d);break t;case 2:Is=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(h=c=f,l=u):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=u),r.baseState=l,r.firstBaseUpdate=h,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);ql|=o,t.lanes=o,t.memoizedState=u}}function zs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Vs={},Zs=Sr(Vs),Xs=Sr(Vs),Ys=Sr(Vs);function Fs(t){if(t===Vs)throw Error(s(174));return t}function Bs(t,e){switch(_r(Ys,e),_r(Xs,t),_r(Zs,Vs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Pr(Zs),_r(Zs,e)}function Gs(){Pr(Zs),Pr(Xs),Pr(Ys)}function Hs(t){Fs(Ys.current);var e=Fs(Zs.current),n=lt(e,t.type);e!==n&&(_r(Xs,t),_r(Zs,n))}function Ks(t){Xs.current===t&&(Pr(Zs),Pr(Xs))}var Js=Sr(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function no(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var io=b.ReactCurrentDispatcher,ro=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,ho=!1,co=!1,uo=0,fo=0;function go(){throw Error(s(321))}function mo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function Oo(t,e,n,i,r,o){if(so=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,io.current=null===t||null===t.memoizedState?ea:na,t=n(i,r),co){o=0;do{if(co=!1,uo=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,e.updateQueue=null,io.current=ia,t=n(i,r)}while(co)}if(io.current=ta,e=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,ho=!1,e)throw Error(s(300));return t}function yo(){var t=0!==uo;return uo=0,t}function vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=t:lo=lo.next=t,lo}function bo(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===lo?oo.memoizedState:lo.next;if(null!==e)lo=e,ao=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=t:lo=lo.next=t}return lo}function wo(t,e){return"function"===typeof e?e(t):e}function xo(t){var e=bo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=ao,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,h=null,c=o;do{var u=c.lane;if((so&u)===u)null!==h&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===h?(l=h=d,a=i):h=h.next=d,oo.lanes|=u,ql|=u}c=c.next}while(null!==c&&c!==o);null===h?a=i:h.next=l,ai(i,e.memoizedState)||(wa=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,oo.lanes|=o,ql|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ko(t){var e=bo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(wa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function So(){}function Po(t,e){var n=oo,i=bo(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,wa=!0),i=i.queue,Do(To.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ao(9,Qo.bind(null,n,i,r,e),void 0,null),null===Rl)throw Error(s(349));0!==(30&so)||_o(n,e,r)}return r}function _o(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Qo(t,e,n,i){e.value=n,e.getSnapshot=i,Co(e)&&Eo(t)}function To(t,e,n){return n((function(){Co(e)&&Eo(t)}))}function Co(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Eo(t){var e=Ns(t,1);null!==e&&rh(e,t,1,-1)}function Ro(t){var e=vo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},e.queue=t,t=t.dispatch=Bo.bind(null,oo,t),[e.memoizedState,t]}function Ao(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function $o(){return bo().memoizedState}function No(t,e,n,i){var r=vo();oo.flags|=t,r.memoizedState=Ao(1|e,n,void 0,void 0===i?null:i)}function Io(t,e,n,i){var r=bo();i=void 0===i?null:i;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==i&&mo(i,o.deps))return void(r.memoizedState=Ao(e,n,s,i))}oo.flags|=t,r.memoizedState=Ao(1|e,n,s,i)}function Mo(t,e){return No(8390656,8,t,e)}function Do(t,e){return Io(2048,8,t,e)}function qo(t,e){return Io(4,2,t,e)}function jo(t,e){return Io(4,4,t,e)}function Uo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Lo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Io(4,4,Uo.bind(null,e,t),n)}function Wo(){}function zo(t,e){var n=bo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&mo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Vo(t,e){var n=bo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&mo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Zo(t,e,n){return 0===(21&so)?(t.baseState&&(t.baseState=!1,wa=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),oo.lanes|=n,ql|=n,t.baseState=!0),e)}function Xo(t,e){var n=ve;ve=0!==n&&4>n?n:4,t(!0);var i=ro.transition;ro.transition={};try{t(!1),e()}finally{ve=n,ro.transition=i}}function Yo(){return bo().memoizedState}function Fo(t,e,n){var i=ih(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Go(t))Ko(e,n);else if(null!==(n=$s(t,e,n,i))){rh(n,t,i,nh()),Jo(n,e,i)}}function Bo(t,e,n){var i=ih(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(t))Ko(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,As(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(h){}null!==(n=$s(t,e,r,i))&&(rh(n,t,i,r=nh()),Jo(n,e,i))}}function Go(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Ko(t,e){co=ho=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jo(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var ta={readContext:Es,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ea={readContext:Es,useCallback:function(t,e){return vo().memoizedState=[t,void 0===e?null:e],t},useContext:Es,useEffect:Mo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,No(4194308,4,Uo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return No(4194308,4,t,e)},useInsertionEffect:function(t,e){return No(4,2,t,e)},useMemo:function(t,e){var n=vo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=vo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Fo.bind(null,oo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},vo().memoizedState=t},useState:Ro,useDebugValue:Wo,useDeferredValue:function(t){return vo().memoizedState=t},useTransition:function(){var t=Ro(!1),e=t[0];return t=Xo.bind(null,t[1]),vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=oo,r=vo();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Rl)throw Error(s(349));0!==(30&so)||_o(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Mo(To.bind(null,i,o,t),[t]),i.flags|=2048,Ao(9,Qo.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=vo(),e=Rl.identifierPrefix;if(rs){var n=Hr;e=":"+e+"R"+(n=(Gr&~(1<<32-oe(Gr)-1)).toString(32)+n),0<(n=uo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},na={readContext:Es,useCallback:zo,useContext:Es,useEffect:Do,useImperativeHandle:Lo,useInsertionEffect:qo,useLayoutEffect:jo,useMemo:Vo,useReducer:xo,useRef:$o,useState:function(){return xo(wo)},useDebugValue:Wo,useDeferredValue:function(t){return Zo(bo(),ao.memoizedState,t)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Po,useId:Yo,unstable_isNewReconciler:!1},ia={readContext:Es,useCallback:zo,useContext:Es,useEffect:Do,useImperativeHandle:Lo,useInsertionEffect:qo,useLayoutEffect:jo,useMemo:Vo,useReducer:ko,useRef:$o,useState:function(){return ko(wo)},useDebugValue:Wo,useDeferredValue:function(t){var e=bo();return null===ao?e.memoizedState=t:Zo(e,ao.memoizedState,t)},useTransition:function(){return[ko(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Po,useId:Yo,unstable_isNewReconciler:!1};function ra(t,e){if(t&&t.defaultProps){for(var n in e=D({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function sa(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:D({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var oa={isMounted:function(t){return!!(t=t._reactInternals)&&Wt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=nh(),r=ih(t),s=qs(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=js(t,s,r))&&(rh(e,t,r,i),Us(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=nh(),r=ih(t),s=qs(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=js(t,s,r))&&(rh(e,t,r,i),Us(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nh(),i=ih(t),r=qs(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=js(t,r,i))&&(rh(e,t,i,n),Us(e,t,i))}};function aa(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function la(t,e,n){var i=!1,r=Qr,s=e.contextType;return"object"===typeof s&&null!==s?s=Es(s):(r=Ar(e)?Er:Tr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Rr(t,r):Qr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=oa,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ha(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&oa.enqueueReplaceState(e,e.state,null)}function ca(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ms(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Es(s):(s=Ar(e)?Er:Tr.current,r.context=Rr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(sa(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&oa.enqueueReplaceState(r,r.state,null),Ws(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function ua(t,e){try{var n="",i=e;do{n+=L(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function da(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fa(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function ga(t,e,n){(n=qs(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Xl||(Xl=!0,Yl=i),fa(0,e)},n}function ma(t,e,n){(n=qs(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){fa(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){fa(0,e),"function"!==typeof i&&(null===Fl?Fl=new Set([this]):Fl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function Oa(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new pa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Qh.bind(null,t,e,n),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function va(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=qs(-1,1)).tag=2,js(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var ba=b.ReactCurrentOwner,wa=!1;function xa(t,e,n,i){e.child=null===t?ws(e,null,n,i):bs(e,t.child,n,i)}function ka(t,e,n,i,r){n=n.render;var s=e.ref;return Cs(e,r),i=Oo(t,e,n,i,s,r),n=yo(),null===t||wa?(rs&&n&&ts(e),e.flags|=1,xa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Xa(t,e,r))}function Sa(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Nh(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Mh(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Pa(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Xa(t,e,r)}return e.flags|=1,(t=Ih(s,i)).ref=e.ref,t.return=e,e.child=t}function Pa(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(wa=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Xa(t,e,r);0!==(131072&t.flags)&&(wa=!0)}}return Ta(t,e,n,i,r)}function _a(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Il,Nl),Nl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_r(Il,Nl),Nl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,_r(Il,Nl),Nl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,_r(Il,Nl),Nl|=i;return xa(t,e,r,n),e.child}function Qa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,i,r){var s=Ar(n)?Er:Tr.current;return s=Rr(e,s),Cs(e,r),n=Oo(t,e,n,i,s,r),i=yo(),null===t||wa?(rs&&i&&ts(e),e.flags|=1,xa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Xa(t,e,r))}function Ca(t,e,n,i,r){if(Ar(n)){var s=!0;Mr(e)}else s=!1;if(Cs(e,r),null===e.stateNode)Za(t,e),la(e,n,i),ca(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;"object"===typeof h&&null!==h?h=Es(h):h=Rr(e,h=Ar(n)?Er:Tr.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==h)&&ha(e,o,i,h),Is=!1;var d=e.memoizedState;o.state=d,Ws(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Cr.current||Is?("function"===typeof c&&(sa(e,n,c,i),l=e.memoizedState),(a=Is||aa(e,n,a,i,d,l,h))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=h,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Ds(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:ra(e.type,a),o.props=h,u=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Es(l):l=Rr(e,l=Ar(n)?Er:Tr.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&ha(e,o,i,l),Is=!1,d=e.memoizedState,o.state=d,Ws(e,i,o,r);var p=e.memoizedState;a!==u||d!==p||Cr.current||Is?("function"===typeof f&&(sa(e,n,f,i),p=e.memoizedState),(h=Is||aa(e,n,h,i,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=h):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ea(t,e,n,i,s,r)}function Ea(t,e,n,i,r,s){Qa(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Dr(e,n,!1),Xa(t,e,s);i=e.stateNode,ba.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=bs(e,t.child,null,s),e.child=bs(e,null,a,s)):xa(t,e,a,s),e.memoizedState=i.state,r&&Dr(e,n,!0),e.child}function Ra(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),Bs(t,e.containerInfo)}function Aa(t,e,n,i,r){return fs(),ps(r),e.flags|=256,xa(t,e,n,i),e.child}var $a,Na,Ia,Ma,Da={dehydrated:null,treeContext:null,retryLane:0};function qa(t){return{baseLanes:t,cachePool:null,transitions:null}}function ja(t,e,n){var i,r=e.pendingProps,o=Js.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),_r(Js,1&o),null===t)return hs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=qh(l,r,0,null),t=Dh(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=qa(n),e.memoizedState=Da,t):Ua(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,La(t,e,a,i=da(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=qh({mode:"visible",children:i.children},r,0,null),(o=Dh(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&bs(e,t.child,null,a),e.child.memoizedState=qa(a),e.memoizedState=Da,o);if(0===(1&e.mode))return La(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,La(t,e,a,i=da(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),wa||l){if(null!==(i=Rl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ns(t,r),rh(i,t,r,-1))}return Oh(),La(t,e,a,i=da(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Ch.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,is=hr(r.nextSibling),ns=e,rs=!0,ss=null,null!==t&&(Yr[Fr++]=Gr,Yr[Fr++]=Hr,Yr[Fr++]=Br,Gr=t.id,Hr=t.overflow,Br=e),e=Ua(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var h={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=h,e.deletions=null):(r=Ih(o,h)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Ih(i,a):(a=Dh(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?qa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Da,r}return t=(a=t.child).sibling,r=Ih(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ua(t,e){return(e=qh({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function La(t,e,n,i){return null!==i&&ps(i),bs(e,t.child,null,n),(t=Ua(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Wa(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Ts(t.return,e,n)}function za(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Va(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(xa(t,e,i.children,n),0!==(2&(i=Js.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Wa(t,n,e);else if(19===t.tag)Wa(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(_r(Js,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===to(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),za(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===to(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}za(e,!0,n,null,s);break;case"together":za(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Za(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),ql|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Ih(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ih(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ya(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Fa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ba(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fa(e),null;case 1:case 17:return Ar(e.type)&&$r(),Fa(e),null;case 3:return i=e.stateNode,Gs(),Pr(Cr),Pr(Tr),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(us(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(lh(ss),ss=null))),Na(t,e),Fa(e),null;case 5:Ks(e);var r=Fs(Ys.current);if(n=e.type,null!==t&&null!=e.stateNode)Ia(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return Fa(e),null}if(t=Fs(Zs.current),us(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[dr]=e,i[fr]=o,t=0!==(1&e.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(r=0;r<Ii.length;r++)ji(Ii[r],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":G(i,o),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ji("invalid",i);break;case"textarea":rt(i,o),ji("invalid",i)}for(var l in yt(n,o),r=null,o)if(o.hasOwnProperty(l)){var h=o[l];"children"===l?"string"===typeof h?i.textContent!==h&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,h,t),r=["children",h]):"number"===typeof h&&i.textContent!==""+h&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,h,t),r=["children",""+h]):a.hasOwnProperty(l)&&null!=h&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":X(i),J(i,o,!0);break;case"textarea":X(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Ji)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,$a(t,e,!1,!1),e.stateNode=t;t:{switch(l=vt(n,i),n){case"dialog":ji("cancel",t),ji("close",t),r=i;break;case"iframe":case"object":case"embed":ji("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ii.length;r++)ji(Ii[r],t);r=i;break;case"source":ji("error",t),r=i;break;case"img":case"image":case"link":ji("error",t),ji("load",t),r=i;break;case"details":ji("toggle",t),r=i;break;case"input":G(t,i),r=B(t,i),ji("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=D({},i,{value:void 0}),ji("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),ji("invalid",t)}for(o in yt(n,r),h=r)if(h.hasOwnProperty(o)){var c=h[o];"style"===o?mt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ut(t,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&dt(t,c):"number"===typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&ji("scroll",t):null!=c&&v(t,o,c,l))}switch(n){case"input":X(t),J(t,i,!1);break;case"textarea":X(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+V(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Fa(e),null;case 6:if(t&&null!=e.stateNode)Ma(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=Fs(Ys.current),Fs(Zs.current),us(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(o=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Ki(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ki(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return Fa(e),null;case 13:if(Pr(Js),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=us(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Fa(e),o=!1}else null!==ss&&(lh(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&Js.current)?0===Ml&&(Ml=3):Oh())),null!==e.updateQueue&&(e.flags|=4),Fa(e),null);case 4:return Gs(),Na(t,e),null===t&&Wi(e.stateNode.containerInfo),Fa(e),null;case 10:return Qs(e.type._context),Fa(e),null;case 19:if(Pr(Js),null===(o=e.memoizedState))return Fa(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Ya(o,!1);else{if(0!==Ml||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=to(t))){for(e.flags|=128,Ya(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _r(Js,1&Js.current|2),e.child}t=t.sibling}null!==o.tail&&Ht()>Vl&&(e.flags|=128,i=!0,Ya(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=to(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ya(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Fa(e),null}else 2*Ht()-o.renderingStartTime>Vl&&1073741824!==n&&(e.flags|=128,i=!0,Ya(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ht(),e.sibling=null,n=Js.current,_r(Js,i?1&n|2:1&n),e):(Fa(e),null);case 22:case 23:return fh(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Nl)&&(Fa(e),6&e.subtreeFlags&&(e.flags|=8192)):Fa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ga(t,e){switch(es(e),e.tag){case 1:return Ar(e.type)&&$r(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Gs(),Pr(Cr),Pr(Tr),no(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Ks(e),null;case 13:if(Pr(Js),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Pr(Js),null;case 4:return Gs(),null;case 10:return Qs(e.type._context),null;case 22:case 23:return fh(),null;default:return null}}$a=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Ia=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Fs(Zs.current);var s,o=null;switch(n){case"input":r=B(t,r),i=B(t,i),o=[];break;case"select":r=D({},r,{value:void 0}),i=D({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Ji)}for(c in yt(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var h=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&h!==l&&(null!=h||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in h)h.hasOwnProperty(s)&&l[s]!==h[s]&&(n||(n={}),n[s]=h[s])}else n||(o||(o=[]),o.push(c,n)),n=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(o=o||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(o=o||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&ji("scroll",t),o||l===h||(o=[])):(o=o||[]).push(c,h))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Ma=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ha=!1,Ka=!1,Ja="function"===typeof WeakSet?WeakSet:Set,tl=null;function el(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){_h(t,e,i)}else n.current=null}function nl(t,e,n){try{n()}catch(i){_h(t,e,i)}}var il=!1;function rl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&nl(e,n,s)}r=r.next}while(r!==i)}}function sl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[gr],delete e[mr],delete e[Or])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ll(t){return 5===t.tag||3===t.tag||4===t.tag}function hl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ll(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Ji));else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var dl=null,fl=!1;function pl(t,e,n){for(n=n.child;null!==n;)gl(t,e,n),n=n.sibling}function gl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Ka||el(n,e);case 6:var i=dl,r=fl;dl=null,pl(t,e,n),fl=r,null!==(dl=i)&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),We(t)):lr(dl,n.stateNode));break;case 4:i=dl,r=fl,dl=n.stateNode.containerInfo,fl=!0,pl(t,e,n),dl=i,fl=r;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&nl(n,e,o),r=r.next}while(r!==i)}pl(t,e,n);break;case 1:if(!Ka&&(el(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){_h(n,e,a)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:1&n.mode?(Ka=(i=Ka)||null!==n.memoizedState,pl(t,e,n),Ka=i):pl(t,e,n);break;default:pl(t,e,n)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var i=Eh.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function Ol(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break t;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break t}l=l.return}if(null===dl)throw Error(s(160));gl(o,a,r),dl=null,fl=!1;var h=r.alternate;null!==h&&(h.return=null),r.return=null}catch(c){_h(r,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ol(e,t),vl(t),4&i){try{rl(3,t,t.return),sl(3,t)}catch(RS){_h(t,t.return,RS)}try{rl(5,t,t.return)}catch(RS){_h(t,t.return,RS)}}break;case 1:Ol(e,t),vl(t),512&i&&null!==n&&el(n,n.return);break;case 5:if(Ol(e,t),vl(t),512&i&&null!==n&&el(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(RS){_h(t,t.return,RS)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,h=t.updateQueue;if(t.updateQueue=null,null!==h)try{"input"===l&&"radio"===o.type&&null!=o.name&&H(r,o),vt(l,a);var c=vt(l,o);for(a=0;a<h.length;a+=2){var u=h[a],d=h[a+1];"style"===u?mt(r,d):"dangerouslySetInnerHTML"===u?ut(r,d):"children"===u?dt(r,d):v(r,u,d,c)}switch(l){case"input":K(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(RS){_h(t,t.return,RS)}}break;case 6:if(Ol(e,t),vl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(RS){_h(t,t.return,RS)}}break;case 3:if(Ol(e,t),vl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{We(e.containerInfo)}catch(RS){_h(t,t.return,RS)}break;case 4:default:Ol(e,t),vl(t);break;case 13:Ol(e,t),vl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(zl=Ht())),4&i&&ml(t);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&t.mode?(Ka=(c=Ka)||u,Ol(e,t),Ka=c):Ol(e,t),vl(t),8192&i){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!u&&0!==(1&t.mode))for(tl=t,u=t.child;null!==u;){for(d=tl=u;null!==tl;){switch(p=(f=tl).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(RS){_h(i,n,RS)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(d);continue}}null!==p?(p.return=f,tl=p):kl(d)}u=u.sibling}t:for(u=null,d=t;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(h=d.memoizedProps.style)&&null!==h&&h.hasOwnProperty("display")?h.display:null,l.style.display=gt("display",a))}catch(RS){_h(t,t.return,RS)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(RS){_h(t,t.return,RS)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ol(e,t),vl(t),4&i&&ml(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ll(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),ul(t,hl(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cl(t,hl(t),o);break;default:throw Error(s(161))}}catch(a){_h(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){tl=t,wl(t,e,n)}function wl(t,e,n){for(var i=0!==(1&t.mode);null!==tl;){var r=tl,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ha;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Ha;var h=Ka;if(Ha=o,(Ka=l)&&!h)for(tl=r;null!==tl;)l=(o=tl).child,22===o.tag&&null!==o.memoizedState?Sl(r):null!==l?(l.return=o,tl=l):Sl(r);for(;null!==s;)tl=s,wl(s,e,n),s=s.sibling;tl=r,Ha=a,Ka=h}xl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,tl=s):xl(t)}}function xl(t){for(;null!==tl;){var e=tl;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ka||sl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Ka)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ra(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&zs(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}zs(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&We(d)}}}break;default:throw Error(s(163))}Ka||512&e.flags&&ol(e)}catch(f){_h(e,e.return,f)}}if(e===t){tl=null;break}if(null!==(n=e.sibling)){n.return=e.return,tl=n;break}tl=e.return}}function kl(t){for(;null!==tl;){var e=tl;if(e===t){tl=null;break}var n=e.sibling;if(null!==n){n.return=e.return,tl=n;break}tl=e.return}}function Sl(t){for(;null!==tl;){var e=tl;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sl(4,e)}catch(l){_h(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){_h(e,r,l)}}var s=e.return;try{ol(e)}catch(l){_h(e,s,l)}break;case 5:var o=e.return;try{ol(e)}catch(l){_h(e,o,l)}}}catch(l){_h(e,e.return,l)}if(e===t){tl=null;break}var a=e.sibling;if(null!==a){a.return=e.return,tl=a;break}tl=e.return}}var Pl,_l=Math.ceil,Ql=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,El=0,Rl=null,Al=null,$l=0,Nl=0,Il=Sr(0),Ml=0,Dl=null,ql=0,jl=0,Ul=0,Ll=null,Wl=null,zl=0,Vl=1/0,Zl=null,Xl=!1,Yl=null,Fl=null,Bl=!1,Gl=null,Hl=0,Kl=0,Jl=null,th=-1,eh=0;function nh(){return 0!==(6&El)?Ht():-1!==th?th:th=Ht()}function ih(t){return 0===(1&t.mode)?1:0!==(2&El)&&0!==$l?$l&-$l:null!==gs.transition?(0===eh&&(eh=ge()),eh):0!==(t=ve)?t:t=void 0===(t=window.event)?16:Ge(t.type)}function rh(t,e,n,i){if(50<Kl)throw Kl=0,Jl=null,Error(s(185));Oe(t,n,i),0!==(2&El)&&t===Rl||(t===Rl&&(0===(2&El)&&(jl|=n),4===Ml&&hh(t,$l)),sh(t,i),1===n&&0===El&&0===(1&e.mode)&&(Vl=Ht()+500,jr&&Wr()))}function sh(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=de(t,t===Rl?$l:0);if(0===i)null!==n&&Ft(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Ft(n),1===e)0===t.tag?function(t){jr=!0,Lr(t)}(ch.bind(null,t)):Lr(ch.bind(null,t)),or((function(){0===(6&El)&&Wr()})),n=null;else{switch(be(i)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Rh(n,oh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oh(t,e){if(th=-1,eh=0,0!==(6&El))throw Error(s(327));var n=t.callbackNode;if(Sh()&&t.callbackNode!==n)return null;var i=de(t,t===Rl?$l:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=yh(t,i);else{e=i;var r=El;El|=2;var o=mh();for(Rl===t&&$l===e||(Zl=null,Vl=Ht()+500,ph(t,e));;)try{bh();break}catch(l){gh(t,l)}_s(),Ql.current=o,El=r,null!==Al?e=0:(Rl=null,$l=0,e=Ml)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=ah(t,r))),1===e)throw n=Dl,ph(t,0),hh(t,i),sh(t,Ht()),n;if(6===e)hh(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=yh(t,i))&&(0!==(o=pe(t))&&(i=o,e=ah(t,o))),1===e))throw n=Dl,ph(t,0),hh(t,i),sh(t,Ht()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:kh(t,Wl,Zl);break;case 3:if(hh(t,i),(130023424&i)===i&&10<(e=zl+500-Ht())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){nh(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(kh.bind(null,t,Wl,Zl),e);break}kh(t,Wl,Zl);break;case 4:if(hh(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Ht()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_l(i/1960))-i)){t.timeoutHandle=ir(kh.bind(null,t,Wl,Zl),i);break}kh(t,Wl,Zl);break;default:throw Error(s(329))}}}return sh(t,Ht()),t.callbackNode===n?oh.bind(null,t):null}function ah(t,e){var n=Ll;return t.current.memoizedState.isDehydrated&&(ph(t,e).flags|=256),2!==(t=yh(t,e))&&(e=Wl,Wl=n,null!==e&&lh(e)),t}function lh(t){null===Wl?Wl=t:Wl.push.apply(Wl,t)}function hh(t,e){for(e&=~Ul,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function ch(t){if(0!==(6&El))throw Error(s(327));Sh();var e=de(t,0);if(0===(1&e))return sh(t,Ht()),null;var n=yh(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=ah(t,i))}if(1===n)throw n=Dl,ph(t,0),hh(t,e),sh(t,Ht()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kh(t,Wl,Zl),sh(t,Ht()),null}function uh(t,e){var n=El;El|=1;try{return t(e)}finally{0===(El=n)&&(Vl=Ht()+500,jr&&Wr())}}function dh(t){null!==Gl&&0===Gl.tag&&0===(6&El)&&Sh();var e=El;El|=1;var n=Cl.transition,i=ve;try{if(Cl.transition=null,ve=1,t)return t()}finally{ve=i,Cl.transition=n,0===(6&(El=e))&&Wr()}}function fh(){Nl=Il.current,Pr(Il)}function ph(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Al)for(n=Al.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&$r();break;case 3:Gs(),Pr(Cr),Pr(Tr),no();break;case 5:Ks(i);break;case 4:Gs();break;case 13:case 19:Pr(Js);break;case 10:Qs(i.type._context);break;case 22:case 23:fh()}n=n.return}if(Rl=t,Al=t=Ih(t.current,null),$l=Nl=e,Ml=0,Dl=null,Ul=jl=ql=0,Wl=Ll=null,null!==Rs){for(e=0;e<Rs.length;e++)if(null!==(i=(n=Rs[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Rs=null}return t}function gh(t,e){for(;;){var n=Al;try{if(_s(),io.current=ta,ho){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ho=!1}if(so=0,lo=ao=oo=null,co=!1,uo=0,Tl.current=null,null===n||null===n.return){Ml=1,Dl=e,Al=null;break}t:{var o=t,a=n.return,l=n,h=e;if(e=$l,l.flags|=32768,null!==h&&"object"===typeof h&&"function"===typeof h.then){var c=h,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,e),1&p.mode&&Oa(o,c,e),h=c;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(h),e.updateQueue=m}else g.add(h);break t}if(0===(1&e)){Oa(o,c,e),Oh();break t}h=Error(s(426))}else if(rs&&1&l.mode){var O=ya(a);if(null!==O){0===(65536&O.flags)&&(O.flags|=256),va(O,a,l,0,e),ps(ua(h,l));break t}}o=h=ua(h,l),4!==Ml&&(Ml=2),null===Ll?Ll=[o]:Ll.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,ga(0,h,e));break t;case 1:l=h;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Fl||!Fl.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,ma(o,l,e));break t}}o=o.return}while(null!==o)}xh(n)}catch(b){e=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mh(){var t=Ql.current;return Ql.current=ta,null===t?ta:t}function Oh(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Rl||0===(268435455&ql)&&0===(268435455&jl)||hh(Rl,$l)}function yh(t,e){var n=El;El|=2;var i=mh();for(Rl===t&&$l===e||(Zl=null,ph(t,e));;)try{vh();break}catch(r){gh(t,r)}if(_s(),El=n,Ql.current=i,null!==Al)throw Error(s(261));return Rl=null,$l=0,Ml}function vh(){for(;null!==Al;)wh(Al)}function bh(){for(;null!==Al&&!Bt();)wh(Al)}function wh(t){var e=Pl(t.alternate,t,Nl);t.memoizedProps=t.pendingProps,null===e?xh(t):Al=e,Tl.current=null}function xh(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ba(n,e,Nl)))return void(Al=n)}else{if(null!==(n=Ga(n,e)))return n.flags&=32767,void(Al=n);if(null===t)return Ml=6,void(Al=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Al=e);Al=e=t}while(null!==e);0===Ml&&(Ml=5)}function kh(t,e,n){var i=ve,r=Cl.transition;try{Cl.transition=null,ve=1,function(t,e,n,i){do{Sh()}while(null!==Gl);if(0!==(6&El))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Rl&&(Al=Rl=null,$l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Bl||(Bl=!0,Rh(ee,(function(){return Sh(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=ve;ve=1;var l=El;El|=4,Tl.current=null,function(t,e){if(tr=Ve,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(Ho){n=null;break t}var a=0,l=-1,h=-1,c=0,u=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(h=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++c===r&&(l=a),f===o&&++u===i&&(h=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===h?null:{start:l,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},Ve=!1,tl=e;null!==tl;)if(t=(e=tl).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,tl=t;else for(;null!==tl;){e=tl;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,O=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ra(e.type,m),O);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Ho){_h(e,e.return,Ho)}if(null!==(t=e.sibling)){t.return=e.return,tl=t;break}tl=e.return}g=il,il=!1}(t,n),yl(n,t),pi(er),Ve=!!tr,er=tr=null,t.current=n,bl(n,t,r),Gt(),El=l,ve=a,Cl.transition=o}else t.current=n;if(Bl&&(Bl=!1,Gl=t,Hl=r),o=t.pendingLanes,0===o&&(Fl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),sh(t,Ht()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Xl)throw Xl=!1,t=Yl,Yl=null,t;0!==(1&Hl)&&0!==t.tag&&Sh(),o=t.pendingLanes,0!==(1&o)?t===Jl?Kl++:(Kl=0,Jl=t):Kl=0,Wr()}(t,e,n,i)}finally{Cl.transition=r,ve=i}return null}function Sh(){if(null!==Gl){var t=be(Hl),e=Cl.transition,n=ve;try{if(Cl.transition=null,ve=16>t?16:t,null===Gl)var i=!1;else{if(t=Gl,Gl=null,Hl=0,0!==(6&El))throw Error(s(331));var r=El;for(El|=4,tl=t.current;null!==tl;){var o=tl,a=o.child;if(0!==(16&tl.flags)){var l=o.deletions;if(null!==l){for(var h=0;h<l.length;h++){var c=l[h];for(tl=c;null!==tl;){var u=tl;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var d=u.child;if(null!==d)d.return=u,tl=d;else for(;null!==tl;){var f=(u=tl).sibling,p=u.return;if(al(u),u===c){tl=null;break}if(null!==f){f.return=p,tl=f;break}tl=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var O=m.sibling;m.sibling=null,m=O}while(null!==m)}}tl=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,tl=a;else t:for(;null!==tl;){if(0!==(2048&(o=tl).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,tl=y;break t}tl=o.return}}var v=t.current;for(tl=v;null!==tl;){var b=(a=tl).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,tl=b;else t:for(a=v;null!==tl;){if(0!==(2048&(l=tl).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(x){_h(l,l.return,x)}if(l===a){tl=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,tl=w;break t}tl=l.return}}if(El=r,Wr(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(x){}i=!0}return i}finally{ve=n,Cl.transition=e}}return!1}function Ph(t,e,n){t=js(t,e=ga(0,e=ua(n,e),1),1),e=nh(),null!==t&&(Oe(t,1,e),sh(t,e))}function _h(t,e,n){if(3===t.tag)Ph(t,t,n);else for(;null!==e;){if(3===e.tag){Ph(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Fl||!Fl.has(i))){e=js(e,t=ma(e,t=ua(n,t),1),1),t=nh(),null!==e&&(Oe(e,1,t),sh(e,t));break}}e=e.return}}function Qh(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=nh(),t.pingedLanes|=t.suspendedLanes&n,Rl===t&&($l&n)===n&&(4===Ml||3===Ml&&(130023424&$l)===$l&&500>Ht()-zl?ph(t,0):Ul|=n),sh(t,e)}function Th(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=nh();null!==(t=Ns(t,e))&&(Oe(t,e,n),sh(t,n))}function Ch(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Th(t,n)}function Eh(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Th(t,n)}function Rh(t,e){return Yt(t,e)}function Ah(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $h(t,e,n,i){return new Ah(t,e,n,i)}function Nh(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ih(t,e){var n=t.alternate;return null===n?((n=$h(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mh(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Nh(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case k:return Dh(n.children,r,o,e);case S:a=8,r|=8;break;case P:return(t=$h(12,n,e,2|r)).elementType=P,t.lanes=o,t;case C:return(t=$h(13,n,e,r)).elementType=C,t.lanes=o,t;case E:return(t=$h(19,n,e,r)).elementType=E,t.lanes=o,t;case $:return qh(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case _:a=10;break t;case Q:a=9;break t;case T:a=11;break t;case R:a=14;break t;case A:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=$h(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Dh(t,e,n,i){return(t=$h(7,t,i,e)).lanes=n,t}function qh(t,e,n,i){return(t=$h(22,t,i,e)).elementType=$,t.lanes=n,t.stateNode={isHidden:!1},t}function jh(t,e,n){return(t=$h(6,t,null,e)).lanes=n,t}function Uh(t,e,n){return(e=$h(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lh(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wh(t,e,n,i,r,s,o,a,l){return t=new Lh(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=$h(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),t}function zh(t){if(!t)return Qr;t:{if(Wt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Ar(n))return Ir(t,n,e)}return e}function Vh(t,e,n,i,r,s,o,a,l){return(t=Wh(n,i,!0,t,0,s,0,a,l)).context=zh(null),n=t.current,(s=qs(i=nh(),r=ih(n))).callback=void 0!==e&&null!==e?e:null,js(n,s,r),t.current.lanes=r,Oe(t,r,i),sh(t,i),t}function Zh(t,e,n,i){var r=e.current,s=nh(),o=ih(r);return n=zh(n),null===e.context?e.context=n:e.pendingContext=n,(e=qs(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=js(r,e,o))&&(rh(t,r,o,s),Us(t,r,o)),o}function Xh(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Yh(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Fh(t,e){Yh(t,e),(t=t.alternate)&&Yh(t,e)}Pl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Cr.current)wa=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return wa=!1,function(t,e,n){switch(e.tag){case 3:Ra(e),fs();break;case 5:Hs(e);break;case 1:Ar(e.type)&&Mr(e);break;case 4:Bs(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;_r(xs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(_r(Js,1&Js.current),e.flags|=128,null):0!==(n&e.child.childLanes)?ja(t,e,n):(_r(Js,1&Js.current),null!==(t=Xa(t,e,n))?t.sibling:null);_r(Js,1&Js.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Va(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),_r(Js,Js.current),i)break;return null;case 22:case 23:return e.lanes=0,_a(t,e,n)}return Xa(t,e,n)}(t,e,n);wa=0!==(131072&t.flags)}else wa=!1,rs&&0!==(1048576&e.flags)&&Jr(e,Xr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Za(t,e),t=e.pendingProps;var r=Rr(e,Tr.current);Cs(e,n),r=Oo(null,e,i,t,r,n);var o=yo();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(i)?(o=!0,Mr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ms(e),r.updater=oa,e.stateNode=r,r._reactInternals=e,ca(e,i,t,n),e=Ea(null,e,i,!0,o,n)):(e.tag=0,rs&&o&&ts(e),xa(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Za(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Nh(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===R)return 14}return 2}(i),t=ra(i,t),r){case 0:e=Ta(null,e,i,t,n);break t;case 1:e=Ca(null,e,i,t,n);break t;case 11:e=ka(null,e,i,t,n);break t;case 14:e=Sa(null,e,i,ra(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:ra(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ca(t,e,i,r=e.elementType===i?r:ra(i,r),n);case 3:t:{if(Ra(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Ds(t,e),Ws(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Aa(t,e,i,n,r=ua(Error(s(423)),e));break t}if(i!==r){e=Aa(t,e,i,n,r=ua(Error(s(424)),e));break t}for(is=hr(e.stateNode.containerInfo.firstChild),ns=e,rs=!0,ss=null,n=ws(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),i===r){e=Xa(t,e,n);break t}xa(t,e,i,n)}e=e.child}return e;case 5:return Hs(e),null===t&&hs(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),Qa(t,e),xa(t,e,a,n),e.child;case 6:return null===t&&hs(e),null;case 13:return ja(t,e,n);case 4:return Bs(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=bs(e,null,i,n):xa(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,ka(t,e,i,r=e.elementType===i?r:ra(i,r),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,_r(xs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Cr.current){e=Xa(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var h=l.firstContext;null!==h;){if(h.context===i){if(1===o.tag){(h=qs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?h.next=h:(h.next=u.next,u.next=h),c.pending=h}}o.lanes|=n,null!==(h=o.alternate)&&(h.lanes|=n),Ts(o.return,n,e),l.lanes|=n;break}h=h.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ts(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Cs(e,n),i=i(r=Es(r)),e.flags|=1,xa(t,e,i,n),e.child;case 14:return r=ra(i=e.type,e.pendingProps),Sa(t,e,i,r=ra(i.type,r),n);case 15:return Pa(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ra(i,r),Za(t,e),e.tag=1,Ar(i)?(t=!0,Mr(e)):t=!1,Cs(e,n),la(e,i,r),ca(e,i,r,n),Ea(null,e,i,!0,t,n);case 19:return Va(t,e,n);case 22:return _a(t,e,n)}throw Error(s(156,e.tag))};var Bh="function"===typeof reportError?reportError:function(t){console.error(t)};function Gh(t){this._internalRoot=t}function Hh(t){this._internalRoot=t}function Kh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function tc(){}function ec(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=Xh(o);a.call(t)}}Zh(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Xh(o);s.call(t)}}var o=Vh(e,i,t,0,null,!1,0,"",tc);return t._reactRootContainer=o,t[pr]=o.current,Wi(8===t.nodeType?t.parentNode:t),dh(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Xh(l);a.call(t)}}var l=Wh(t,0,!1,null,0,!1,0,"",tc);return t._reactRootContainer=l,t[pr]=l.current,Wi(8===t.nodeType?t.parentNode:t),dh((function(){Zh(e,l,n,i)})),l}(n,e,t,r,i);return Xh(o)}Hh.prototype.render=Gh.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Zh(t,e,null,null)},Hh.prototype.unmount=Gh.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;dh((function(){Zh(null,t,null,null)})),e[pr]=null}},Hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$e.length&&0!==e&&e<$e[n].priority;n++);$e.splice(n,0,t),0===n&&De(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ue(e.pendingLanes);0!==n&&(ye(e,1|n),sh(e,Ht()),0===(6&El)&&(Vl=Ht()+500,Wr()))}break;case 13:dh((function(){var e=Ns(t,1);if(null!==e){var n=nh();rh(e,t,1,n)}})),Fh(t,1)}},xe=function(t){if(13===t.tag){var e=Ns(t,134217728);if(null!==e)rh(e,t,134217728,nh());Fh(t,134217728)}},ke=function(t){if(13===t.tag){var e=ih(t),n=Ns(t,e);if(null!==n)rh(n,t,e,nh());Fh(t,e)}},Se=function(){return ve},Pe=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}},xt=function(t,e,n){switch(e){case"input":if(K(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=wr(i);if(!r)throw Error(s(90));Y(i),K(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Tt=uh,Ct=dh;var nc={usingClientEntryPoint:!1,Events:[vr,br,wr,_t,Qt,uh]},ic={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rc={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zt(t))?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{re=sc.inject(rc),se=sc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kh(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Kh(t))throw Error(s(299));var n=!1,i="",r=Bh;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Wh(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Wi(8===t.nodeType?t.parentNode:t),new Gh(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Zt(e))?null:t.stateNode},e.flushSync=function(t){return dh(t)},e.hydrate=function(t,e,n){if(!Jh(e))throw Error(s(200));return ec(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Kh(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Bh;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Vh(e,null,t,1,null!=n?n:null,r,0,o,a),t[pr]=e.current,Wi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Hh(e)},e.render=function(t,e,n){if(!Jh(e))throw Error(s(200));return ec(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(s(40));return!!t._reactRootContainer&&(dh((function(){ec(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=uh,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Jh(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return ec(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},775:(t,e,n)=>{var i=n(998);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},998:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(914)},9:(t,e,n)=>{var i=n(483),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,n){var i,s={},h=null,c=null;for(i in void 0!==n&&(h=""+n),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:h,ref:c,props:s,_owner:a.current}}e.Fragment=s,e.jsx=h,e.jsxs=h},146:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function O(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}O.prototype.isReactComponent={},O.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},O.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=O.prototype;var b=v.prototype=new y;b.constructor=v,g(b,O.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function P(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,r)&&!S.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];s.children=h}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:k.current}}function _(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var Q=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+T(l,0):s,w(o)?(r="",null!=t&&(r=t.replace(Q,"$&/")+"/"),C(o,e,r,"",(function(t){return t}))):null!=o&&(_(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Q,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",w(t))for(var h=0;h<t.length;h++){var c=s+T(a=t[h],h);l+=C(a,e,r,c,o)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),h=0;!(a=t.next()).done;)l+=C(a=a.value,e,r,c=s+T(a,h++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function E(t,e,n){if(null==t)return t;var i=[],r=0;return C(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function R(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var A={current:null},$={transition:null},N={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:$,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:E,forEach:function(t,e,n){E(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return E(t,(function(){e++})),e},toArray:function(t){return E(t,(function(t){return t}))||[]},only:function(t){if(!_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=O,e.Fragment=r,e.Profiler=o,e.PureComponent=v,e.StrictMode=s,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.act=I,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=k.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)x.call(e,h)&&!S.hasOwnProperty(h)&&(r[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)r.children=i;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=P,e.createFactory=function(t){var e=P.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=_,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=$.transition;$.transition={};try{t()}finally{$.transition=e}},e.unstable_act=I,e.useCallback=function(t,e){return A.current.useCallback(t,e)},e.useContext=function(t){return A.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return A.current.useDeferredValue(t)},e.useEffect=function(t,e){return A.current.useEffect(t,e)},e.useId=function(){return A.current.useId()},e.useImperativeHandle=function(t,e,n){return A.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return A.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return A.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return A.current.useMemo(t,e)},e.useReducer=function(t,e,n){return A.current.useReducer(t,e,n)},e.useRef=function(t){return A.current.useRef(t)},e.useState=function(t){return A.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return A.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return A.current.useTransition()},e.version="18.3.1"},483:(t,e,n)=>{t.exports=n(146)},723:(t,e,n)=>{t.exports=n(9)},122:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],h=a+1,c=t[h];if(0>s(l,n))h<r&&0>s(c,l)?(t[i]=c,t[h]=n,i=h):(t[i]=l,t[a]=n,i=a);else{if(!(h<r&&0>s(c,n)))break t;t[i]=c,t[h]=n,i=h}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var h=[],c=[],u=1,d=null,f=3,p=!1,g=!1,m=!1,O="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=i(c);null!==e;){if(null===e.callback)r(c);else{if(!(e.startTime<=t))break;r(c),e.sortIndex=e.expirationTime,n(h,e)}e=i(c)}}function w(t){if(m=!1,b(t),!g)if(null!==i(h))g=!0,$(x);else{var e=i(c);null!==e&&N(w,e.startTime-t)}}function x(t,n){g=!1,m&&(m=!1,y(_),_=-1),p=!0;var s=f;try{for(b(n),d=i(h);null!==d&&(!(d.expirationTime>n)||t&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(h)&&r(h),b(n)}else r(h);d=i(h)}if(null!==d)var l=!0;else{var u=i(c);null!==u&&N(w,u.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,P=null,_=-1,Q=5,T=-1;function C(){return!(e.unstable_now()-T<Q)}function E(){if(null!==P){var t=e.unstable_now();T=t;var n=!0;try{n=P(!0,t)}finally{n?k():(S=!1,P=null)}}else S=!1}if("function"===typeof v)k=function(){v(E)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=E,k=function(){A.postMessage(null)}}else k=function(){O(E,0)};function $(t){P=t,S||(S=!0,k())}function N(t,n){_=O((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,$(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:u++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(c,t),null===i(h)&&t===i(c)&&(m?(y(_),_=-1):m=!0,N(w,s-o))):(t.sortIndex=a,n(h,t),g||p||(g=!0,$(x))),t},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},557:(t,e,n)=>{t.exports=n(122)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.m=t,(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>i[t]));return o.default=()=>i,n.d(s,o),s}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".416237cf.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="dya:";n.l=(i,r,s,o)=>{if(t[i])t[i].push(r);else{var a,l;if(void 0!==s)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var u=h[c];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==e+s){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+s),a.src=i),t[i]=[r];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/DYA/",(()=>{var t={792:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((n,i)=>r=t[e]=[n,i]));i.push(r[2]=s);var o=n.p+n.u(e),a=new Error;n.l(o,(i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{var r,s,o=i[0],a=i[1],l=i[2],h=0;if(o.some((e=>0!==t[e]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(e&&e(i);h<o.length;h++)s=o[h],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},i=self.webpackChunkdya=self.webpackChunkdya||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i={};n.r(i),n.d(i,{hasBrowserEnv:()=>zX,hasStandardBrowserEnv:()=>VX,hasStandardBrowserWebWorkerEnv:()=>XX,origin:()=>YX});var r={};n.r(r),n.d(r,{Decoder:()=>TB,Encoder:()=>_B,PacketType:()=>PB,protocol:()=>SB});var s,o=n(483),a=n.t(o,2),l=n(775),h=n(998),c=n.t(h,2);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(s||(s={}));const d="popstate";function f(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function p(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function g(t,e){return{usr:t.state,key:t.key,idx:e}}function m(t,e,n,i){return void 0===n&&(n=null),u({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?y(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function O(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function y(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function v(t,e,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,l=s.Pop,h=null,c=p();function p(){return(a.state||{idx:null}).idx}function y(){l=s.Pop;let t=p(),e=null==t?null:t-c;c=t,h&&h({action:l,location:b.location,delta:e})}function v(t){let e="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof t?t:O(t);return n=n.replace(/ $/,"%20"),f(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==c&&(c=0,a.replaceState(u({},a.state,{idx:c}),""));let b={get action(){return l},get location(){return t(r,a)},listen(t){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(d,y),h=t,()=>{r.removeEventListener(d,y),h=null}},createHref:t=>e(r,t),createURL:v,encodeLocation(t){let e=v(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l=s.Push;let i=m(b.location,t,e);n&&n(i,t),c=p()+1;let u=g(i,c),d=b.createHref(i);try{a.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;r.location.assign(d)}o&&h&&h({action:l,location:b.location,delta:1})},replace:function(t,e){l=s.Replace;let i=m(b.location,t,e);n&&n(i,t),c=p();let r=g(i,c),u=b.createHref(i);a.replaceState(r,"",u),o&&h&&h({action:l,location:b.location,delta:0})},go:t=>a.go(t)};return b}var b;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(t,e,n){return void 0===n&&(n="/"),x(t,e,n,!1)}function x(t,e,n,i){let r=M(("string"===typeof e?y(e):e).pathname||"/",n);if(null==r)return null;let s=k(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let t=I(r);o=$(s[a],t,i)}return o}function k(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(t,r,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(f(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=L([i,o.relativePath]),l=n.concat(o);t.children&&t.children.length>0&&(f(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),k(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:A(a,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of S(t.path))r(t,e,i);else r(t,e)})),e}function S(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=S(i.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),r&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const P=/^:[\w-]+$/,_=3,Q=2,T=1,C=10,E=-2,R=t=>"*"===t;function A(t,e){let n=t.split("/"),i=n.length;return n.some(R)&&(i+=E),e&&(i+=Q),n.filter((t=>!R(t))).reduce(((t,e)=>t+(P.test(e)?_:""===e?T:C)),i)}function $(t,e,n){void 0===n&&(n=!1);let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let t=i[a],l=a===i.length-1,h="/"===s?e:e.slice(s.length)||"/",c=N({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},h),u=t.route;if(!c&&l&&n&&!i[i.length-1].route.index&&(c=N({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},h)),!c)return null;Object.assign(r,c.params),o.push({params:r,pathname:L([s,c.pathname]),pathnameBase:W(L([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=L([s,c.pathnameBase]))}return o}function N(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);p("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:s,pathnameBase:o,pattern:t}}function I(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return p(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function M(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function D(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function q(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function j(t,e){let n=q(t);return e?n.map(((t,e)=>e===n.length-1?t.pathname:t.pathnameBase)):n.map((t=>t.pathnameBase))}function U(t,e,n,i){let r;void 0===i&&(i=!1),"string"===typeof t?r=y(t):(r=u({},t),f(!r.pathname||!r.pathname.includes("?"),D("?","pathname","search",r)),f(!r.pathname||!r.pathname.includes("#"),D("#","pathname","hash",r)),f(!r.search||!r.search.includes("#"),D("#","search","hash",r)));let s,o=""===t||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let t=e.length-1;if(!i&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}s=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof t?y(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:z(i),hash:V(r)}}(r,s),h=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!c||(l.pathname+="/"),l}const L=t=>t.join("/").replace(/\/\/+/g,"/"),W=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",V=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function Z(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const X=["post","put","patch","delete"],Y=(new Set(X),["get",...X]);new Set(Y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function F(){return F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},F.apply(this,arguments)}const B=o.createContext(null);const G=o.createContext(null);const H=o.createContext(null);const K=o.createContext(null);const J=o.createContext({outlet:null,matches:[],isDataRoute:!1});const tt=o.createContext(null);function et(){return null!=o.useContext(K)}function nt(){return et()||f(!1),o.useContext(K).location}function it(t){o.useContext(H).static||o.useLayoutEffect(t)}function rt(){let{isDataRoute:t}=o.useContext(J);return t?function(){let{router:t}=pt(dt.UseNavigateStable),e=mt(ft.UseNavigateStable),n=o.useRef(!1);it((()=>{n.current=!0}));let i=o.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?t.navigate(i):t.navigate(i,F({fromRouteId:e},r)))}),[t,e]);return i}():function(){et()||f(!1);let t=o.useContext(B),{basename:e,future:n,navigator:i}=o.useContext(H),{matches:r}=o.useContext(J),{pathname:s}=nt(),a=JSON.stringify(j(r,n.v7_relativeSplatPath)),l=o.useRef(!1);it((()=>{l.current=!0}));let h=o.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let o=U(n,JSON.parse(a),s,"path"===r.relative);null==t&&"/"!==e&&(o.pathname="/"===o.pathname?e:L([e,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[e,i,a,s,t]);return h}()}function st(){let{matches:t}=o.useContext(J),e=t[t.length-1];return e?e.params:{}}function ot(t,e,n,i){et()||f(!1);let{navigator:r}=o.useContext(H),{matches:a}=o.useContext(J),l=a[a.length-1],h=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,d=nt();if(e){var p;let t="string"===typeof e?y(e):e;"/"===c||(null==(p=t.pathname)?void 0:p.startsWith(c))||f(!1),u=t}else u=d;let g=u.pathname||"/",m=g;if("/"!==c){let t=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(t.length).join("/")}let O=w(t,{pathname:m});let v=ut(O&&O.map((t=>Object.assign({},t,{params:Object.assign({},h,t.params),pathname:L([c,r.encodeLocation?r.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:L([c,r.encodeLocation?r.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,n,i);return e&&v?o.createElement(K.Provider,{value:{location:F({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},v):v}function at(){let t=function(){var t;let e=o.useContext(tt),n=gt(ft.UseRouteError),i=mt(ft.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=Z(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},e),n?o.createElement("pre",{style:r},n):null,null)}const lt=o.createElement(at,null);class ht extends o.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?o.createElement(J.Provider,{value:this.props.routeContext},o.createElement(tt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ct(t){let{routeContext:e,match:n,children:i}=t,r=o.useContext(B);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(J.Provider,{value:e},i)}function ut(t,e,n,i){var r;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==t){var s;if(null==(s=n)||!s.errors)return null;t=n.matches}let a=t,l=null==(r=n)?void 0:r.errors;if(null!=l){let t=a.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||f(!1),a=a.slice(0,Math.min(a.length,t+1))}let h=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let o=0;o<a.length;o++){let t=a[o];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=o),t.route.id){let{loaderData:e,errors:i}=n,r=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||r){h=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((t,i,r)=>{let s,u=!1,d=null,f=null;var p;n&&(s=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||lt,h&&(c<0&&0===r?(p="route-fallback",!1||Ot[p]||(Ot[p]=!0),u=!0,f=null):c===r&&(u=!0,f=i.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,r+1)),m=()=>{let e;return e=s?d:u?f:i.route.Component?o.createElement(i.route.Component,null):i.route.element?i.route.element:t,o.createElement(ct,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?o.createElement(ht,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var dt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dt||{}),ft=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ft||{});function pt(t){let e=o.useContext(B);return e||f(!1),e}function gt(t){let e=o.useContext(G);return e||f(!1),e}function mt(t){let e=function(){let t=o.useContext(J);return t||f(!1),t}(),n=e.matches[e.matches.length-1];return n.route.id||f(!1),n.route.id}const Ot={};a.startTransition;function yt(t){f(!1)}function vt(t){let{basename:e="/",children:n=null,location:i,navigationType:r=s.Pop,navigator:a,static:l=!1,future:h}=t;et()&&f(!1);let c=e.replace(/^\/*/,"/"),u=o.useMemo((()=>({basename:c,navigator:a,static:l,future:F({v7_relativeSplatPath:!1},h)})),[c,h,a,l]);"string"===typeof i&&(i=y(i));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:O="default"}=i,v=o.useMemo((()=>{let t=M(d,c);return null==t?null:{location:{pathname:t,search:p,hash:g,state:m,key:O},navigationType:r}}),[c,d,p,g,m,O,r]);return null==v?null:o.createElement(H.Provider,{value:u},o.createElement(K.Provider,{children:n,value:v}))}function bt(t){let{children:e,location:n}=t;return ot(wt(e),n)}new Promise((()=>{}));o.Component;function wt(t,e){void 0===e&&(e=[]);let n=[];return o.Children.forEach(t,((t,i)=>{if(!o.isValidElement(t))return;let r=[...e,i];if(t.type===o.Fragment)return void n.push.apply(n,wt(t.props.children,r));t.type!==yt&&f(!1),t.props.index&&t.props.children&&f(!1);let s={id:t.props.id||r.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=wt(t.props.children,r)),n.push(s)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(S5){}new Map;const xt=a.startTransition;c.flushSync,a.useId;function kt(t){let{basename:e,children:n,future:i,window:r}=t,s=o.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:r,v5Compat:!0})&&(a={}),v((function(t,e){let{pathname:n="/",search:i="",hash:r=""}=y(t.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),m("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let n=t.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");i=-1===n?e:e.slice(0,n)}return i+"#"+("string"===typeof e?e:O(e))}),(function(t,e){p("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")}),a)));let l=s.current,[h,c]=o.useState({action:l.action,location:l.location}),{v7_startTransition:u}=i||{},d=o.useCallback((t=>{u&&xt?xt((()=>c(t))):c(t)}),[c,u]);return o.useLayoutEffect((()=>l.listen(d)),[l,d]),o.createElement(vt,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var St,Pt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(St||(St={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Pt||(Pt={}));const _t=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Qt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,h=e>>2,c=(3&e)<<4|o>>4;let u=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(u=64)),i.push(n[h],n[c],n[u],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_t(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw new Tt;const l=e<<2|s>>4;if(i.push(l),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ct=function(t){return function(t){const e=_t(t);return Qt.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Et=function(t){try{return Qt.decodeString(t,!0)}catch(S5){console.error("base64Decode failed: ",S5)}return null};const Rt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,At=()=>{try{return Rt()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/DYA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(S5){return}const e=t&&Et(t[1]);return e&&JSON.parse(e)})()}catch(S5){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(S5))}},$t=t=>{var e,n;return null===(n=null===(e=At())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Nt=t=>{const e=$t(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},It=()=>{var t;return null===(t=At())||void 0===t?void 0:t.config},Mt=t=>{var e;return null===(e=At())||void 0===e?void 0:e["_".concat(t)]};class Dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function qt(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ct(JSON.stringify({alg:"none",type:"JWT"})),Ct(JSON.stringify(s)),""].join(".")}function jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return!function(){var t;const e=null===(t=At())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(S5){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lt(){try{return"object"===typeof indexedDB}catch(S5){return!1}}class Wt extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}}class zt{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(Vt,((t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new Wt(n,s,e)}}const Vt=/\{\$([^}]+)}/g;function Zt(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(Xt(n)&&Xt(s)){if(!Zt(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Xt(t){return null!==t&&"object"===typeof t}function Yt(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ft(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function Bt(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Gt{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=Ht),void 0===i.error&&(i.error=Ht),void 0===i.complete&&(i.complete=Ht);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(S5){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(S5){"undefined"!==typeof console&&console.error&&console.error(S5)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ht(){}function Kt(t){return t&&t._delegate?t._delegate:t}class Jt{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const te="[DEFAULT]";class ee{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Dt;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(S5){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(S5){if(i)return null;throw S5}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:te})}catch(S5){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(S5){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(YS){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===te?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(YS){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.component?this.component.multipleInstances?t:te:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ee(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const ie=[];var re;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(re||(re={}));const se={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},oe=re.INFO,ae={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},le=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=ae[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(t.name,":"),...s)};class he{constructor(t){this.name=t,this._logLevel=oe,this._logHandler=le,this._userLogHandler=null,ie.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?se[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const ce=(t,e)=>e.some((e=>t instanceof e));let ue,de;const fe=new WeakMap,pe=new WeakMap,ge=new WeakMap,me=new WeakMap,Oe=new WeakMap;let ye={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pe.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ge.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return we(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ve(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(xe(this),n),we(fe.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return we(t.apply(xe(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(xe(this),e,...i);return ge.set(s,e.sort?e.sort():[e]),we(s)}}function be(t){return"function"===typeof t?ve(t):(t instanceof IDBTransaction&&function(t){if(pe.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));pe.set(t,e)}(t),ce(t,ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,ye):t)}function we(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(we(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&fe.set(e,t)})).catch((()=>{})),Oe.set(e,t),e}(t);if(me.has(t))return me.get(t);const e=be(t);return e!==t&&(me.set(t,e),Oe.set(e,t)),e}const xe=t=>Oe.get(t);const ke=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Pe=new Map;function _e(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(Pe.get(e))return Pe.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Se.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!ke.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return Pe.set(e,s),s}!function(t){ye=t(ye)}((t=>({...t,get:(e,n,i)=>_e(e,n)||t.get(e,n,i),has:(e,n)=>!!_e(e,n)||t.has(e,n)})));class Qe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const Te="@firebase/app",Ce="0.10.7",Ee=new he("@firebase/app"),Re="@firebase/app-compat",Ae="@firebase/analytics-compat",$e="@firebase/analytics",Ne="@firebase/app-check-compat",Ie="@firebase/app-check",Me="@firebase/auth",De="@firebase/auth-compat",qe="@firebase/database",je="@firebase/database-compat",Ue="@firebase/functions",Le="@firebase/functions-compat",We="@firebase/installations",ze="@firebase/installations-compat",Ve="@firebase/messaging",Ze="@firebase/messaging-compat",Xe="@firebase/performance",Ye="@firebase/performance-compat",Fe="@firebase/remote-config",Be="@firebase/remote-config-compat",Ge="@firebase/storage",He="@firebase/storage-compat",Ke="@firebase/firestore",Je="@firebase/vertexai-preview",tn="@firebase/firestore-compat",en="firebase",nn="[DEFAULT]",rn={[Te]:"fire-core",[Re]:"fire-core-compat",[$e]:"fire-analytics",[Ae]:"fire-analytics-compat",[Ie]:"fire-app-check",[Ne]:"fire-app-check-compat",[Me]:"fire-auth",[De]:"fire-auth-compat",[qe]:"fire-rtdb",[je]:"fire-rtdb-compat",[Ue]:"fire-fn",[Le]:"fire-fn-compat",[We]:"fire-iid",[ze]:"fire-iid-compat",[Ve]:"fire-fcm",[Ze]:"fire-fcm-compat",[Xe]:"fire-perf",[Ye]:"fire-perf-compat",[Fe]:"fire-rc",[Be]:"fire-rc-compat",[Ge]:"fire-gcs",[He]:"fire-gcs-compat",[Ke]:"fire-fst",[tn]:"fire-fst-compat",[Je]:"fire-vertex","fire-js":"fire-js",[en]:"fire-js-all"},sn=new Map,on=new Map,an=new Map;function ln(t,e){try{t.container.addComponent(e)}catch(S5){Ee.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),S5)}}function hn(t){const e=t.name;if(an.has(e))return Ee.debug("There were multiple attempts to register component ".concat(e,".")),!1;an.set(e,t);for(const n of sn.values())ln(n,t);for(const n of on.values())ln(n,t);return!0}function cn(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return void 0!==t.settings}const dn=new zt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fn{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const pn="10.12.4";function gn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:nn,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw dn.create("bad-app-name",{appName:String(r)});if(n||(n=It()),!n)throw dn.create("no-options");const s=sn.get(r);if(s){if(Zt(n,s.options)&&Zt(i,s.config))return s;throw dn.create("duplicate-app",{appName:r})}const o=new ne(r);for(const l of an.values())o.addComponent(l);const a=new fn(n,i,o);return sn.set(r,a),a}function mn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;const e=sn.get(t);if(!e&&t===nn&&It())return gn();if(!e)throw dn.create("no-app",{appName:t});return e}function On(t,e,n){var i;let r=null!==(i=rn[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void Ee.warn(t.join(" "))}hn(new Jt("".concat(r,"-version"),(()=>({library:r,version:e})),"VERSION"))}const yn="firebase-heartbeat-database",vn=1,bn="firebase-heartbeat-store";let wn=null;function xn(){return wn||(wn=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=we(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(we(o.result),t.oldVersion,t.newVersion,we(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}(yn,vn,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(bn)}catch(S5){console.warn(S5)}}}).catch((t=>{throw dn.create("idb-open",{originalErrorMessage:t.message})}))),wn}async function kn(t,e){try{const n=(await xn()).transaction(bn,"readwrite"),i=n.objectStore(bn);await i.put(e,Sn(t)),await n.done}catch(S5){if(S5 instanceof Wt)Ee.warn(S5.message);else{const e=dn.create("idb-set",{originalErrorMessage:null===S5||void 0===S5?void 0:S5.message});Ee.warn(e.message)}}}function Sn(t){return"".concat(t.name,"!").concat(t.options.appId)}class Pn{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Qn(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_n();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((t=>t.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=_n(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),Tn(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Tn(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=Ct(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function _n(){return(new Date).toISOString().substring(0,10)}class Qn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Lt()&&new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await xn()).transaction(bn),n=await e.objectStore(bn).get(Sn(t));return await e.done,n}catch(S5){if(S5 instanceof Wt)Ee.warn(S5.message);else{const e=dn.create("idb-get",{originalErrorMessage:null===S5||void 0===S5?void 0:S5.message});Ee.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return kn(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return kn(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Tn(t){return Ct(JSON.stringify({version:2,heartbeats:t})).length}var Cn;Cn="",hn(new Jt("platform-logger",(t=>new Qe(t)),"PRIVATE")),hn(new Jt("heartbeat",(t=>new Pn(t)),"PRIVATE")),On(Te,Ce,Cn),On(Te,Ce,"esm2017"),On("fire-js","");On("firebase","10.12.4","app");function En(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Rn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const An=Rn,$n=new zt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nn=new he("@firebase/auth");function In(t){if(Nn.logLevel<=re.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Nn.error("Auth (".concat(pn,"): ").concat(t),...n)}}function Mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Ln(t,...n)}function Dn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Ln(t,...n)}function qn(t,e,n){const i=Object.assign(Object.assign({},An()),{[e]:n});return new zt("auth","Firebase",i).create(e,{appName:t.name})}function jn(t){return qn(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Un(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Mn(t,"argument-error"),qn(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ln(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("string"!==typeof t){const e=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(e,...i)}return $n.create(t,...n)}function Wn(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw Ln(e,...i)}}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw In(e),new Error(e)}function Vn(t,e){t||zn(e)}function Zn(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Xn(){return"http:"===Yn()||"https:"===Yn()}function Yn(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Fn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xn()||function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Bn{constructor(t,e){this.shortDelay=t,this.longDelay=e,Vn(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Fn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class Hn{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jn=new Bn(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ei(t,e,n,i){return ni(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=Yt(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Hn.fetch()(ri(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))}))}async function ni(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Kn),e);try{const e=new oi(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw ai(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ai(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ai(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw ai(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw qn(t,a,o);Mn(t,a)}}catch(S5){if(S5 instanceof Wt)throw S5;Mn(t,"network-request-failed",{message:String(S5)})}}async function ii(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ei(t,e,n,i,r);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ri(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i);return t.config.emulator?Gn(t.config,r):"".concat(t.config.apiScheme,"://").concat(r)}function si(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oi{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Dn(this.auth,"network-request-failed"))),Jn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ai(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Dn(t,e,i);return r.customData._tokenResponse=n,r}function li(t){return void 0!==t&&void 0!==t.enterprise}class hi{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return si(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}async function ci(t,e){return ei(t,"GET","/v2/recaptchaConfig",ti(t,e))}async function ui(t,e){return ei(t,"POST","/v1/accounts:lookup",e)}function di(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(S5){}}function fi(t){return 1e3*Number(t)}function pi(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return In("JWT malformed, contained fewer than 3 sections"),null;try{const t=Et(n);return t?JSON.parse(t):(In("Failed to decode base64 JWT payload"),null)}catch(S5){return In("Caught error parsing JWT payload as JSON",null===S5||void 0===S5?void 0:S5.toString()),null}}function gi(t){const e=pi(t);return Wn(e,"internal-error"),Wn("undefined"!==typeof e.exp,"internal-error"),Wn("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function mi(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(S5){throw S5 instanceof Wt&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(S5)&&t.auth.currentUser===t&&await t.auth.signOut(),S5}}class Oi{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(S5){return void((null===S5||void 0===S5?void 0:S5.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class yi{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vi(t){var e;const n=t.auth,i=await t.getIdToken(),r=await mi(t,ui(n,{idToken:i}));Wn(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?bi(s.providerUserInfo):[],a=(l=t.providerData,h=o,[...l.filter((t=>!h.some((e=>e.providerId===t.providerId)))),...h]);var l,h;const c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&u,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yi(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function bi(t){return t.map((t=>{var{providerId:e}=t,n=En(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wn(t.idToken,"internal-error"),Wn("undefined"!==typeof t.idToken,"internal-error"),Wn("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):gi(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Wn(0!==t.length,"internal-error");const e=gi(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Wn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(t,e){const n=await ni(t,{},(async()=>{const n=Yt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=ri(t,i,"/v1/token","key=".concat(r)),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new wi;return n&&(Wn("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(Wn("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(Wn("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wi,this.toJSON())}_performRefresh(){return zn("not implemented")}}function xi(t,e){Wn("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class ki{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=En(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new yi(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await mi(this,this.stsTokenManager.getToken(this.auth,t));return Wn(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Kt(t),i=await n.getIdToken(e),r=pi(i);Wn(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:di(fi(r.auth_time)),issuedAtTime:di(fi(r.iat)),expirationTime:di(fi(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Kt(t);await vi(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Wn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ki(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Wn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await vi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(jn(this.auth));const t=await this.getIdToken();return await mi(this,async function(t,e){return ei(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,h;const c=null!==(n=e.displayName)&&void 0!==n?n:void 0,u=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,O=null!==(h=e.lastLoginAt)&&void 0!==h?h:void 0,{uid:y,emailVerified:v,isAnonymous:b,providerData:w,stsTokenManager:x}=e;Wn(y&&x,t,"internal-error");const k=wi.fromJSON(this.name,x);Wn("string"===typeof y,t,"internal-error"),xi(c,t.name),xi(u,t.name),Wn("boolean"===typeof v,t,"internal-error"),Wn("boolean"===typeof b,t,"internal-error"),xi(d,t.name),xi(f,t.name),xi(p,t.name),xi(g,t.name),xi(m,t.name),xi(O,t.name);const S=new ki({uid:y,auth:t,email:u,emailVerified:v,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:O});return w&&Array.isArray(w)&&(S.providerData=w.map((t=>Object.assign({},t)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new wi;i.updateFromServerResponse(e);const r=new ki({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await vi(r),r}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];Wn(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?bi(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length),o=new wi;o.updateFromIdToken(n);const a=new ki({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new yi(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(a,l),a}}const Si=new Map;function Pi(t){Vn(t instanceof Function,"Expected a class definition");let e=Si.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Si.set(t,e),e)}class _i{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}_i.type="NONE";const Qi=_i;function Ti(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class Ci{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Ti(this.userKey,i.apiKey,r),this.fullPersistenceKey=Ti("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ki._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new Ci(Pi(Qi),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||Pi(Qi);const s=Ti(n,t.config.apiKey,t.name);let o=null;for(const l of e)try{const e=await l._get(s);if(e){const n=ki._fromJSON(t,e);l!==r&&(o=n),r=l;break}}catch(YS){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(YS){}}))),new Ci(r,t,n)):new Ci(r,t,n)}}function Ei(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ni(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ri(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mi(e))return"Blackberry";if(Di(e))return"Webos";if(Ai(e))return"Safari";if((e.includes("chrome/")||$i(e))&&!e.includes("edge/"))return"Chrome";if(Ii(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ri(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/firefox\//i.test(t)}function Ai(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/crios\//i.test(t)}function Ni(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iemobile/i.test(t)}function Ii(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/android/i.test(t)}function Mi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/blackberry/i.test(t)}function Di(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/webos/i.test(t)}function qi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ji(){return function(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ui(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return qi(t)||Ii(t)||Di(t)||Mi(t)||/windows phone/i.test(t)||Ni(t)}function Li(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=Ei(jt());break;case"Worker":e="".concat(Ei(jt()),"-").concat(t);break;default:e=t}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(pn,"/").concat(i)}class Wi{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{n(t(e))}catch(S5){i(S5)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(S5){e.reverse();for(const i of e)try{i()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===S5||void 0===S5?void 0:S5.message})}}}class zi{constructor(t){var e,n,i,r;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=t.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}class Vi{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xi(this),this.idTokenSubscription=new Xi(this),this.beforeStateQueue=new Wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$n,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Pi(e)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ci.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(S5){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await ui(this,{idToken:t}),n=await ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(un(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(S5){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(S5)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Wn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(S5){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vi(t)}catch(S5){if((null===S5||void 0===S5?void 0:S5.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(un(this.app))return Promise.reject(jn(this));const e=t?Kt(t):null;return e&&Wn(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&Wn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return un(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return un(this.app)?Promise.reject(jn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Pi(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return ei(t,"GET","/v2/passwordPolicy",ti(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new zi(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new zt("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return ei(t,"POST","/v2/accounts:revokeToken",ti(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Pi(t)||this._popupRedirectResolver;Wn(e,this,"argument-error"),this.redirectPersistenceManager=await Ci.create(this,[Pi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wn(o,this,"internal-error"),o.then((()=>{s||r(this.currentUser)})),"function"===typeof e){const r=t.addObserver(e,n,i);return()=>{s=!0,r()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(Nn.logLevel<=re.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Nn.warn("Auth (".concat(pn,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function Zi(t){return Kt(t)}class Xi{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new Gt(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return Wn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fi(t){return Yi.loadJS(t)}function Bi(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class Gi{constructor(t){this.type="recaptcha-enterprise",this.auth=Zi(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,i){const r=window.grecaptcha;li(r)?r.enterprise.ready((()=>{r.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,i)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{ci(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new hi(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((r=>{if(!e&&li(window.grecaptcha))n(r,t,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let e=Yi.recaptchaEnterpriseScript;0!==e.length&&(e+=r),Fi(e).then((()=>{n(r,t,i)})).catch((t=>{i(t)}))}})).catch((t=>{i(t)}))}))}}async function Hi(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Gi(t);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ki(t,e,n,i){var r;if(null===(r=t._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Hi(t,e,n,"getOobCode"===n);return i(t,r)}return i(t,e).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Hi(t,e,n,"getOobCode"===n);return i(t,r)}return Promise.reject(r)}))}function Ji(t,e,n){const i=Zi(t);Wn(i._canInitEmulator,i,"emulator-config-failed"),Wn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=tr(e),{host:o,port:a}=function(t){const e=tr(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:er(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:er(e)}}}(e),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function tr(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function er(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class nr{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return zn("not implemented")}_getIdTokenResponse(t){return zn("not implemented")}_linkToIdToken(t,e){return zn("not implemented")}_getReauthenticationResolver(t){return zn("not implemented")}}async function ir(t,e){return ei(t,"POST","/v1/accounts:signUp",e)}async function rr(t,e){return ii(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}class sr extends nr{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new sr(t,e,"password")}static _fromEmailAndCode(t,e){return new sr(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Ki(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rr);case"emailLink":return async function(t,e){return ii(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}(t,{email:this._email,oobCode:this._password});default:Mn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Ki(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ir);case"emailLink":return async function(t,e){return ii(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Mn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function or(t,e){return ii(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}class ar extends nr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ar(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Mn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=En(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new ar(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return or(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,or(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,or(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Yt(e)}return t}}const lr={USER_NOT_FOUND:"user-not-found"};class hr extends nr{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new hr({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new hr({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return ii(t,"POST","/v1/accounts:signInWithPhoneNumber",ti(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await ii(t,"POST","/v1/accounts:signInWithPhoneNumber",ti(t,e));if(n.temporaryProof)throw ai(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return ii(t,"POST","/v1/accounts:signInWithPhoneNumber",ti(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),lr)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new hr({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class cr{constructor(t){var e,n,i,r,s,o;const a=Ft(Bt(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,h=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Wn(l&&h&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=h,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=Ft(Bt(t)).link,n=e?Ft(Bt(e)).deep_link_id:null,i=Ft(Bt(t)).deep_link_id;return(i?Ft(Bt(i)).link:null)||i||n||e||t}(t);try{return new cr(e)}catch(YS){return null}}}class ur{constructor(){this.providerId=ur.PROVIDER_ID}static credential(t,e){return sr._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=cr.parseLink(e);return Wn(n,"argument-error"),sr._fromEmailAndCode(t,n.code,n.tenantId)}}ur.PROVIDER_ID="password",ur.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ur.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class fr extends dr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class pr extends fr{constructor(){super("facebook.com")}static credential(t){return ar._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch(YS){return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com",pr.PROVIDER_ID="facebook.com";class gr extends fr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ar._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return gr.credential(n,i)}catch(YS){return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com",gr.PROVIDER_ID="google.com";class mr extends fr{constructor(){super("github.com")}static credential(t){return ar._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch(YS){return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com",mr.PROVIDER_ID="github.com";class Or extends fr{constructor(){super("twitter.com")}static credential(t,e){return ar._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Or.credential(n,i)}catch(YS){return null}}}async function yr(t,e){return ii(t,"POST","/v1/accounts:signUp",ti(t,e))}Or.TWITTER_SIGN_IN_METHOD="twitter.com",Or.PROVIDER_ID="twitter.com";class vr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await ki._fromIdTokenResponse(t,n,i),s=br(n);return new vr({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=br(n);return new vr({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function br(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class wr extends Wt{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,wr.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new wr(t,e,n,i)}}function xr(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw wr._fromErrorAndOperation(t,n,e,i);throw n}))}async function kr(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await mi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vr._forOperation(t,"link",i)}async function Sr(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=t;if(un(i.app))return Promise.reject(jn(i));const r="reauthenticate";try{const s=await mi(t,xr(i,r,e,t),n);Wn(s.idToken,i,"internal-error");const o=pi(s.idToken);Wn(o,i,"internal-error");const{sub:a}=o;return Wn(t.uid===a,i,"user-mismatch"),vr._forOperation(t,r,s)}catch(S5){throw(null===S5||void 0===S5?void 0:S5.code)==="auth/".concat("user-not-found")&&Mn(i,"user-mismatch"),S5}}async function Pr(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(un(t.app))return Promise.reject(jn(t));const i="signIn",r=await xr(t,i,e),s=await vr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function _r(t,e){return Pr(Zi(t),e)}async function Qr(t){const e=Zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tr(t,e,n){if(un(t.app))return Promise.reject(jn(t));const i=Zi(t),r=Ki(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yr),s=await r.catch((e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Qr(t),e})),o=await vr._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}function Cr(t){return Kt(t).signOut()}new WeakMap;const Er="__sak";class Rr{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Er,"1"),this.storage.removeItem(Er),Promise.resolve(!0)):Promise.resolve(!1)}catch(YS){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ar extends Rr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=jt();return Ai(t)||qi(t)}()&&function(){try{return!(!window||window===window.top)}catch(S5){return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);ji()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ar.type="LOCAL";const $r=Ar;class Nr extends Rr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Nr.type="SESSION";const Ir=Nr;class Mr{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Mr(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Dr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}Mr.receivers=[];class qr{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=Dr("",20);i.port1.start();const h=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(h),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(h),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function jr(){return window}function Ur(){return"undefined"!==typeof jr().WorkerGlobalScope&&"function"===typeof jr().importScripts}const Lr="firebaseLocalStorageDb",Wr="firebaseLocalStorage",zr="fbase_key";class Vr{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Zr(t,e){return t.transaction([Wr],e?"readwrite":"readonly").objectStore(Wr)}function Xr(){const t=indexedDB.open(Lr,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Wr,{keyPath:zr})}catch(S5){n(S5)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Wr)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Lr);return new Vr(t).toPromise()}(),e(await Xr()))}))}))}async function Yr(t,e,n){const i=Zr(t,!0).put({[zr]:e,value:n});return new Vr(i).toPromise()}function Fr(t,e){const n=Zr(t,!0).delete(e);return new Vr(n).toPromise()}class Br{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Xr()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(S5){if(e++>3)throw S5;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ur()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mr._getInstance(Ur()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new qr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(YS){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xr();return await Yr(t,Er,"1"),await Fr(t,Er),!0}catch(YS){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Yr(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Zr(t,!1).get(e),i=await new Vr(n).toPromise();return void 0===i?null:i.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Fr(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Zr(t,!1).getAll();return new Vr(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Br.type="LOCAL";const Gr=Br;Bi("rcb"),new Bn(3e4,6e4);const Hr="recaptcha";async function Kr(t,e,n){var i;const r=await n.verify();try{let s;if(Wn("string"===typeof r,t,"argument-error"),Wn(n.type===Hr,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){Wn("enroll"===e.type,t,"internal-error");const n=await function(t,e){return ei(t,"POST","/v2/accounts/mfaEnrollment:start",ti(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Wn("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;Wn(n,t,"missing-multi-factor-info");const o=await function(t,e){return ei(t,"POST","/v2/accounts/mfaSignIn:start",ti(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return ei(t,"POST","/v1/accounts:sendVerificationCode",ti(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}class Jr{constructor(t){this.providerId=Jr.PROVIDER_ID,this.auth=Zi(t)}verifyPhoneNumber(t,e){return Kr(this.auth,t,Kt(e))}static credential(t,e){return hr._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Jr.credentialFromTaggedObject(e)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?hr._fromTokenResponse(n,i):null}}function ts(t,e){return e?Pi(e):(Wn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Jr.PROVIDER_ID="phone",Jr.PHONE_SIGN_IN_METHOD="phone";class es extends nr{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return or(t,this._buildIdpRequest())}_linkToIdToken(t,e){return or(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return or(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ns(t){return Pr(t.auth,new es(t),t.bypassAuthState)}function is(t){const{auth:e,user:n}=t;return Wn(n,e,"internal-error"),Sr(n,new es(t),t.bypassAuthState)}async function rs(t){const{auth:e,user:n}=t;return Wn(n,e,"internal-error"),kr(n,new es(t),t.bypassAuthState)}class ss{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(S5){this.reject(S5)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(S5){this.reject(S5)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ns;case"linkViaPopup":case"linkViaRedirect":return rs;case"reauthViaPopup":case"reauthViaRedirect":return is;default:Mn(this.auth,"internal-error")}}resolve(t){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const os=new Bn(2e3,1e4);async function as(t,e,n){if(un(t.app))return Promise.reject(Dn(t,"operation-not-supported-in-this-environment"));const i=Zi(t);Un(t,e,dr);const r=ts(i,n);return new ls(i,"signInViaPopup",e,r).executeNotNull()}class ls extends ss{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,ls.currentPopupAction&&ls.currentPopupAction.cancel(),ls.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Wn(t,this.auth,"internal-error"),t}async onExecution(){Vn(1===this.filter.length,"Popup operations only handle one event");const t=Dr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Dn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ls.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,os.get())};t()}}ls.currentPopupAction=null;const hs="pendingRedirect",cs=new Map;class us extends ss{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=cs.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=ps(e),i=fs(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(S5){t=()=>Promise.reject(S5)}cs.set(this.auth._key(),t)}return this.bypassAuthState||cs.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ds(t,e){cs.set(t._key(),e)}function fs(t){return Pi(t._redirectPersistence)}function ps(t){return Ti(hs,t.config.apiKey,t.name)}async function gs(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(un(t.app))return Promise.reject(jn(t));const i=Zi(t),r=ts(i,e),s=new us(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class ms{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ys(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!ys(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Dn(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Os(t))}saveEventToCache(t){this.cachedEventUids.add(Os(t)),this.lastProcessedEventTime=Date.now()}}function Os(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function ys(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const vs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bs=/^https?/;async function ws(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return ei(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const n of e)try{if(xs(n))return}catch(YS){}Mn(t,"unauthorized-domain")}function xs(t){const e=Zn(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!bs.test(n))return!1;if(vs.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const ks=new Bn(3e4,6e4);function Ss(){const t=jr().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function Ps(t){return new Promise(((e,n)=>{var i,r,s;function o(){Ss(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ss(),n(Dn(t,"network-request-failed"))},timeout:ks.get()})}if(null===(r=null===(i=jr().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=jr().gapi)||void 0===s?void 0:s.load)){const e=Bi("iframefcb");return jr()[e]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},Fi("".concat(Yi.gapiScript,"?onload=").concat(e)).catch((t=>n(t)))}o()}})).catch((t=>{throw _s=null,t}))}let _s=null;const Qs=new Bn(5e3,15e3),Ts="__/auth/iframe",Cs="emulator/auth/iframe",Es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function As(t){const e=t.config;Wn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gn(e,Cs):"https://".concat(t.config.authDomain,"/").concat(Ts),i={apiKey:e.apiKey,appName:t.name,v:pn},r=Rs.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(Yt(i).slice(1))}async function $s(t){const e=await function(t){return _s=_s||Ps(t),_s}(t),n=jr().gapi;return Wn(n,t,"internal-error"),e.open({where:document.body,url:As(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Es,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=Dn(t,"network-request-failed"),s=jr().setTimeout((()=>{i(r)}),Qs.get());function o(){jr().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{i(r)}))}))))}const Ns={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Is{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(S5){}}}function Ms(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ns),{width:i.toString(),height:r.toString(),top:s,left:o}),h=jt().toLowerCase();n&&(a=$i(h)?"_blank":n),Ri(h)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((t,e)=>{let[n,i]=e;return"".concat(t).concat(n,"=").concat(i,",")}),"");if(function(){var t;return qi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(h)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new Is(null);const u=window.open(e||"",a,c);Wn(u,t,"popup-blocked");try{u.focus()}catch(S5){}return new Is(u)}const Ds="__/auth/handler",qs="emulator/auth/handler",js=encodeURIComponent("fac");async function Us(t,e,n,i,r,s){Wn(t.config.authDomain,t,"auth-domain-config-required"),Wn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:pn,eventId:r};if(e instanceof dr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof fr){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await t._getAppCheckToken(),h=l?"#".concat(js,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(Ds);return Gn(e,qs)}(t),"?").concat(Yt(a).slice(1)).concat(h)}const Ls="webStorageSupport";const Ws=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ir,this._completeRedirectFn=gs,this._overrideRedirectResult=ds}async _openPopup(t,e,n,i){var r;Vn(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Ms(t,await Us(t,e,n,Zn(),i),Dr())}async _openRedirect(t,e,n,i){await this._originValidation(t);return function(t){jr().location.href=t}(await Us(t,e,n,Zn(),i)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(Vn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await $s(t),n=new ms(t);return e.register("authEvent",(e=>{Wn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ls,{type:Ls},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[Ls];void 0!==r&&e(!!r),Mn(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ws(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ui()||Ai()||qi()}};var zs="@firebase/auth",Vs="1.7.5";class Zs{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Wn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xs=Mt("authIdTokenMaxAge")||300;let Ys=null;var Fs,Bs;Fs={loadJS:t=>new Promise(((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=Dn("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Yi=Fs,Bs="Browser",hn(new Jt("auth",((t,e)=>{let{options:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Wn(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:Bs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Li(Bs)},h=new Vi(i,r,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Pi);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}(h,n),h}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),hn(new Jt("auth-internal",(t=>(t=>new Zs(t))(Zi(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),On(zs,Vs,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bs)),On(zs,Vs,"esm2017");var Gs,Hs,Ks="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Js={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function i(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var i=e-this.blockSize,r=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=i;)n(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var r={};function s(t){return-128<=t&&128>t?function(t,e){var n=r;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new i([0|t],0>t?-1:0)})):new i([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=4294967296;return new i(e,0)}var a=s(0),l=s(1),h=s(16777216);function c(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function u(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new i(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(c(e))throw Error("division by zero");if(c(t))return new g(a,a);if(u(t))return e=m(d(t),e),new g(d(e.g),d(e.h));if(u(e))return e=m(t,d(e)),new g(d(e.g),e.h);if(30<t.g.length){if(u(t)||u(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=e;0>=i.l(t);)n=O(n),i=O(i);var r=y(n,1),s=y(i,1);for(i=y(i,2),n=y(n,2);!c(i);){var h=s.add(i);0>=h.l(t)&&(r=r.add(n),s=h),i=y(i,1),n=y(n,1)}return e=f(t,r.j(e)),new g(r,e)}for(r=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),h=(s=o(n)).j(e);u(h)||0<h.l(t);)h=(s=o(n-=i)).j(e);c(s)&&(s=l),r=r.add(s),t=f(t,h)}return new g(r,t)}function O(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.i(r)<<1|t.i(r-1)>>>31;return new i(n,t.h)}function y(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new i(s,t.h)}(t=i.prototype).m=function(){if(u(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.i(n);t+=(0<=i?i:4294967296+i)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(c(this))return"0";if(u(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),n=this,i="";;){var r=m(n,e).g,s=((0<(n=f(n,r.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(c(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return u(t=f(this,t))?-1:c(t)?0:1},t.abs=function(){return u(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(c(this)||c(t))return a;if(u(this))return u(t)?d(this).j(d(t)):d(d(this).j(t));if(u(t))return d(this.j(d(t)));if(0>this.l(h)&&0>t.l(h))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var l=this.i(r)>>>16,f=65535&this.i(r),g=t.i(s)>>>16,m=65535&t.i(s);n[2*r+2*s]+=f*m,p(n,2*r+2*s),n[2*r+2*s+1]+=l*m,p(n,2*r+2*s+1),n[2*r+2*s+1]+=f*g,p(n,2*r+2*s+1),n[2*r+2*s+2]+=l*g,p(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new i(n,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)&t.i(r);return new i(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)|t.i(r);return new i(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)^t.i(r);return new i(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,Hs=Js.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=o,i.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=o(Math.pow(n,8)),r=a,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),h=parseInt(e.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),r=r.j(l).add(o(h))):r=(r=r.j(i)).add(o(h))}return r},Gs=Js.Integer=i}).apply("undefined"!==typeof Ks?Ks:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var to,eo,no,io,ro,so,oo,ao,lo,ho="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},co={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ho&&ho];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,i){if(i)t:{var r=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in r))break t;r=r[o]}(i=i(s=r[t=t[t.length-1]]))!=s&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,i=!1,r={next:function(){if(!i&&n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(t,e){return e}))}}));var i=i||{},r=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function h(t,e,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=r.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var O=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function v(t){const e={};for(const n in t)e[n]=t[n];return e}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<b.length;e++)n=b[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function x(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function k(t){r.setTimeout((()=>{throw t}),0)}function S(){var t=C;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var P=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new _),(t=>t.reset()));class _{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,T=!1,C=new class{constructor(){this.h=this.g=null}add(t,e){const n=P.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},E=()=>{const t=r.Promise.resolve(void 0);Q=()=>{t.then(R)}};var R=()=>{for(var t;t=S();){try{t.h.call(t.g)}catch(n){k(n)}var e=P;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}T=!1};function A(){this.s=this.s,this.C=this.C}function $(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};r.addEventListener("test",t,e),r.removeEventListener("test",t,e)}catch(n){}return t}();function I(t,e){if($.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(O){t:{try{m(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:M[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&I.aa.h.call(this)}}u(I,$);var M={2:"touch",3:"pen",4:"mouse"};I.prototype.h=function(){I.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),q=0;function j(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++q,this.da=this.fa=!1}function U(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function L(t){this.src=t,this.g={},this.h=0}function W(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=Array.prototype.indexOf.call(r,e,void 0);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(U(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function z(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}L.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=z(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new j(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var V="closure_lm_"+(1e6*Math.random()|0),Z={};function X(t,e,n,i,r){if(i&&i.once)return F(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)X(t,e[s],n,i,r);return null}return n=et(n),t&&t[D]?t.K(e,n,o(i)?!!i.capture:!!i,r):Y(t,e,n,!1,i,r)}function Y(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=o(r)?!!r.capture:!!r,l=J(t);if(l||(t[V]=l=new L(t)),(n=l.add(e,n,i,a,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=K;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)N||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(H(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function F(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)F(t,e[s],n,i,r);return null}return n=et(n),t&&t[D]?t.L(e,n,o(i)?!!i.capture:!!i,r):Y(t,e,n,!0,i,r)}function B(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)B(t,e[s],n,i,r);else i=o(i)?!!i.capture:!!i,n=et(n),t&&t[D]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=z(s=t.g[e],n,i,r))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=J(t))&&(e=t.g[e.toString()],t=-1,e&&(t=z(e,n,i,r)),(n=-1<t?e[t]:null)&&G(n))}function G(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[D])W(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(H(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=J(e))?(W(n,t),0==n.h&&(n.src=null,e[V]=null)):U(t)}}}function H(t){return t in Z?Z[t]:Z[t]="on"+t}function K(t,e){if(t.da)t=!0;else{e=new I(e,this);var n=t.listener,i=t.ha||t.src;t.fa&&G(t),t=n.call(i,e)}return t}function J(t){return(t=t[V])instanceof L?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){A.call(this),this.i=new L(this),this.M=this,this.F=null}function it(t,e){var n,i=t.F;if(i)for(n=[];i;i=i.F)n.push(i);if(t=t.M,i=e.type||e,"string"===typeof e)e=new $(e,t);else if(e instanceof $)e.target=e.target||t;else{var r=e;w(e=new $(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=rt(o,i,!0,e)&&r}if(r=rt(o=e.g=t,i,!0,e)&&r,r=rt(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=rt(o=e.g=n[s],i,!1,e)&&r}function rt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&W(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function st(t,e,n){if("function"===typeof t)n&&(t=h(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=h(t.handleEvent,t)}return 2147483647<Number(e)?-1:r.setTimeout(t,e||0)}function ot(t){t.g=st((()=>{t.g=null,t.i&&(t.i=!1,ot(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}u(nt,A),nt.prototype[D]=!0,nt.prototype.removeEventListener=function(t,e,n,i){B(this,t,e,n,i)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)U(n[i]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},nt.prototype.L=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};class at extends A{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(t){A.call(this),this.h=t,this.g={}}u(lt,A);var ht=[];function ct(t){y(t.g,(function(t,e){this.g.hasOwnProperty(e)&&G(t)}),t),t.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ct(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ut=r.JSON.stringify,dt=r.JSON.parse,ft=class{stringify(t){return r.JSON.stringify(t,void 0)}parse(t){return r.JSON.parse(t,void 0)}};function pt(){}function gt(t){return t.h||(t.h=t.i())}function mt(){}pt.prototype.h=null;var Ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){$.call(this,"d")}function vt(){$.call(this,"c")}u(yt,$),u(vt,$);var bt={},wt=null;function xt(){return wt=wt||new nt}function kt(t){$.call(this,bt.La,t)}function St(t){const e=xt();it(e,new kt(e))}function Pt(t,e){$.call(this,bt.STAT_EVENT,t),this.stat=e}function _t(t){const e=xt();it(e,new Pt(e,t))}function Qt(t,e){$.call(this,bt.Ma,t),this.size=e}function Tt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){t()}),e)}function Ct(){this.g=!0}function Et(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ut(n)}catch(a){return e}}(t,n)+(i?" "+i:"")}))}bt.La="serverreachability",u(kt,$),bt.STAT_EVENT="statevent",u(Pt,$),bt.Ma="timingevent",u(Qt,$),Ct.prototype.xa=function(){this.g=!1},Ct.prototype.info=function(){};var Rt,At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Nt(){}function It(t,e,n,i){this.j=t,this.i=e,this.l=n,this.R=i||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}u(Nt,pt),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},Rt=new Nt;var Dt={},qt={};function jt(t,e,n){t.L=1,t.v=ue(oe(e)),t.m=n,t.P=!0,Ut(t,null)}function Ut(t,e){t.F=Date.now(),zt(t),t.A=oe(t.v);var n=t.A,i=t.R;Array.isArray(i)||(i=[String(i)]),Pe(n.i,"t",i),t.C=0,n=t.j.J,t.h=new Mt,t.g=fn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new at(h(t.Y,t,t.g),t.O)),e=t.U,n=t.g,i=t.ca;var r="readystatechange";Array.isArray(r)||(r&&(ht[0]=r.toString()),r=ht);for(var s=0;s<r.length;s++){var o=X(n,r[s],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?v(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),St(),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var c=h[0];h=h[1];var u=c.split("_");o=2<=u.length&&"type"==u[1]?o+(c+"=")+h+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Lt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Wt(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?qt:(n=Number(e.substring(n,i)),isNaN(n)?Dt:(i+=1)+n>e.length?qt:(e=e.slice(i,i+n),t.C=i+n,e))}function zt(t){t.S=Date.now()+t.I,Vt(t,t.I)}function Vt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Tt(h(t.ba,t),e)}function Zt(t){t.B&&(r.clearTimeout(t.B),t.B=null)}function Xt(t){0==t.j.G||t.J||ln(t.j,t)}function Yt(t){Zt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ct(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Ft(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Jt(n.h,t)))if(!t.K&&Jt(n.h,t)&&3==n.G){try{var i=n.Da.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;an(n),Ge(n)}rn(n),_t(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Tt(h(n.Za,n),6e3));if(1>=Kt(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((t.K||n.g==t)&&an(n),!p(e))for(r=n.Da.g.parse(e),e=0;e<r.length;e++){let h=r[e];if(n.T=h[0],h=h[1],2==n.G)if("c"==h[0]){n.K=h[1],n.ia=h[2];const e=h[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const r=h[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const c=h[5];null!=c&&"number"===typeof c&&0<c&&(i=1.5*c,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=t.g;if(u){const t=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(te(s,s.h),s.h=null))}if(i.D){const t=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.ya=t,ce(i.I,i.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((i=n).qa=dn(i,i.J?i.ia:null,i.W),o.K){ee(i.h,o);var a=o,l=i.L;l&&(a.I=l),a.B&&(Zt(a),zt(a)),i.g=o}else nn(i);0<n.i.length&&Ke(n)}else"stop"!=h[0]&&"close"!=h[0]||cn(n,7);else 3==n.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?cn(n,7):Be(n):"noop"!=h[0]&&n.l&&n.l.ta(h),n.v=0)}St()}catch(c){}}It.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==Ze(t)?e.j():this.Y(t)},It.prototype.Y=function(t){try{if(t==this.g)t:{const d=Ze(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Xe(this.g)))){this.J||4!=d||7==e||St(),Zt(this);var n=this.g.Z();this.X=n;e:if(Lt(this)){var i=Xe(this.g);t="";var s=i.length,o=4==Ze(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yt(this),Xt(this);var a="";break e}this.h.i=new r.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:!(o&&e==s-1)});i.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break e}}c=null}if(!(n=c)){this.o=!1,this.s=3,_t(12),Yt(this),Xt(this);break t}Et(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Wt(this,a),t==qt){4==d&&(this.s=4,_t(14),n=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}if(t==Dt){this.s=4,_t(15),Et(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Et(this.i,this.l,t,null),Ft(this,t)}if(Lt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,_t(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(u),u.M=!0,_t(11))}}else Et(this.i,this.l,a,"[Invalid Chunked Response]"),Yt(this),Xt(this)}else Et(this.i,this.l,a,null),Ft(this,a);4==d&&Yt(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,zt(this)))}else(function(t){const e={};t=(t.g&&2<=Ze(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(p(t[i]))continue;var n=x(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Yt(this),Xt(this)}}}catch(d){}},It.prototype.cancel=function(){this.J=!0,Yt(this)},It.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(St(),_t(17)),Yt(this),this.s=2,Xt(this)):Vt(this,this.S-t)};var Bt=class{constructor(t,e){this.g=t,this.map=e}};function Gt(t){this.l=t||10,r.PerformanceNavigationTiming?t=0<(t=r.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ht(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Kt(t){return t.h?1:t.g?t.g.size:0}function Jt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(s(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}Gt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof se){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,le(this,t.s),this.l=t.l;var e=t.i,n=new we;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),he(this,n),this.m=t.m}else t&&(e=String(t).match(re))?(this.h=!1,ae(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),le(this,e[4]),this.l=de(e[5]||"",!0),he(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new we(null,this.h))}function oe(t){return new se(t)}function ae(t,e,n){t.j=n?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function he(t,e,n){e instanceof we?(t.i=e,function(t,e){e&&!t.j&&(xe(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ke(this,e),Pe(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=fe(e,ve)),t.i=new we(e,t.h))}function ce(t,e,n){t.i.set(e,n)}function ue(t){return ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}se.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,me,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,me,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(fe(n,"/"==n.charAt(0)?ye:Oe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",fe(n,be)),t.join("")};var ge,me=/[#\/\?@]/g,Oe=/[#\?:]/g,ye=/[#\?]/g,ve=/[#\?@]/g,be=/#/g;function we(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ke(t,e){xe(t),e=_e(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Se(t,e){return xe(t),e=_e(t,e),t.g.has(e)}function Pe(t,e,n){ke(t,e),0<n.length&&(t.i=null,t.g.set(_e(t,e),d(n)),t.h+=n.length)}function _e(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Qe(t,e,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(s){}}function Te(){this.g=new ft}function Ce(t,e,n){const i=n||"";try{ie(t,(function(t,n){let r=t;o(t)&&(r=ut(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(S5){throw e.push(i+"type="+encodeURIComponent("_badmap")),S5}}function Ee(t){this.l=t.Ub||null,this.j=t.eb||!1}function Re(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ae(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function $e(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Ne(t)}function Ne(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ie(t){let e="";return y(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Me(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ie(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ce(t,e,n))}function De(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=we.prototype).add=function(t,e){xe(this),this.i=null,t=_e(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){xe(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},t.na=function(){xe(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},t.V=function(t){xe(this);let e=[];if("string"===typeof t)Se(this,t)&&(e=e.concat(this.g.get(_e(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return xe(this),this.i=null,Se(this,t=_e(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.V(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")},u(Ee,pt),Ee.prototype.g=function(){return new Re(this.l,this.j)},Ee.prototype.i=(ge={},function(){return ge}),u(Re,nt),(t=Re.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Ne(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||r).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$e(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ne(this)),this.g&&(this.readyState=3,Ne(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ae(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$e(this):Ne(this),3==this.readyState&&Ae(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,$e(this))},t.Qa=function(t){this.g&&(this.response=t,$e(this))},t.ga=function(){this.g&&$e(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Re.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),u(De,nt);var qe=/^https?$/i,je=["POST","PUT"];function Ue(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Le(t),ze(t)}function Le(t){t.A||(t.A=!0,it(t,"complete"),it(t,"error"))}function We(t){if(t.h&&"undefined"!=typeof i&&(!t.v[1]||4!=Ze(t)||2!=t.Z()))if(t.u&&4==Ze(t))st(t.Ea,0,t);else if(it(t,"readystatechange"),4==Ze(t)){t.h=!1;try{const i=t.Z();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===i){var o=String(t.D).match(re)[1]||null;!o&&r.self&&r.self.location&&(o=r.self.location.protocol.slice(0,-1)),s=!qe.test(o?o.toLowerCase():"")}n=s}if(n)it(t,"complete"),it(t,"success");else{t.m=6;try{var a=2<Ze(t)?t.g.statusText:""}catch(l){a=""}t.l=a+" ["+t.Z()+"]",Le(t)}}finally{ze(t)}}}function ze(t,e){if(t.g){Ve(t);const n=t.g,i=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||it(t,"ready");try{n.onreadystatechange=i}catch(S5){}}}function Ve(t){t.I&&(r.clearTimeout(t.I),t.I=null)}function Ze(t){return t.g?t.g.readyState:0}function Xe(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(po){return null}}function Ye(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fe(t){this.Aa=0,this.i=[],this.j=new Ct,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ye("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ye("baseRetryDelayMs",5e3,t),this.cb=Ye("retryDelaySeedMs",1e4,t),this.Wa=Ye("forwardChannelMaxRetries",2,t),this.wa=Ye("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Gt(t&&t.concurrentRequestLimit),this.Da=new Te,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Be(t){if(He(t),3==t.G){var e=t.U++,n=oe(t.I);if(ce(n,"SID",t.K),ce(n,"RID",e),ce(n,"TYPE","terminate"),tn(t,n),(e=new It(t,t.j,e)).L=2,e.v=ue(oe(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&r.Image&&((new Image).src=e.v,n=!0),n||(e.g=fn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),zt(e)}un(t)}function Ge(t){t.g&&(sn(t),t.g.cancel(),t.g=null)}function He(t){Ge(t),t.u&&(r.clearTimeout(t.u),t.u=null),an(t),t.h.cancel(),t.s&&("number"===typeof t.s&&r.clearTimeout(t.s),t.s=null)}function Ke(t){if(!Ht(t.h)&&!t.s){t.s=!0;var e=t.Ga;Q||E(),T||(Q(),T=!0),C.add(e,t),t.B=0}}function Je(t,e){var n;n=e?e.l:t.U++;const i=oe(t.I);ce(i,"SID",t.K),ce(i,"RID",n),ce(i,"AID",t.T),tn(t,i),t.m&&t.o&&Me(i,t.m,t.o),n=new It(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),jt(n,i,e)}function tn(t,e){t.H&&y(t.H,(function(t,n){ce(e,n,t)})),t.l&&ie({},(function(t,n){ce(e,n,t)}))}function en(t,e,n){n=Math.min(t.i.length,n);var i=t.l?h(t.l.Na,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=r[a].g;const l=r[a].map;if(n-=e,0>n)e=Math.max(0,r[a].g-100),o=!1;else try{Ce(l,t,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;Q||E(),T||(Q(),T=!0),C.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=Tt(h(t.Fa,t),hn(t,t.v)),t.v++,!0)}function sn(t){null!=t.A&&(r.clearTimeout(t.A),t.A=null)}function on(t){t.g=new It(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=oe(t.qa);ce(e,"RID","rpc"),ce(e,"SID",t.K),ce(e,"AID",t.T),ce(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ce(e,"TO",t.ja),ce(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Me(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=ue(oe(e)),n.m=null,n.P=!0,Ut(n,t)}function an(t){null!=t.C&&(r.clearTimeout(t.C),t.C=null)}function ln(t,e){var n=null;if(t.g==e){an(t),sn(t),t.g=null;var i=2}else{if(!Jt(t.h,e))return;n=e.D,ee(t.h,e),i=1}if(0!=t.G)if(e.o)if(1==i){n=e.m?e.m.length:0,e=Date.now()-e.F;var r=t.B;it(i=xt(),new Qt(i,n)),Ke(t)}else nn(t);else if(3==(r=e.s)||0==r&&0<e.X||!(1==i&&function(t,e){return!(Kt(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=Tt(h(t.Ga,t,e),hn(t,t.B)),t.B++,!0))}(t,e)||2==i&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:cn(t,5);break;case 4:cn(t,10);break;case 3:cn(t,6);break;default:cn(t,2)}}function hn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function cn(t,e){if(t.j.info("Error code "+e),2==e){var n=h(t.fb,t),i=t.Xa;const e=!i;i=new se(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||ae(i,"https"),ue(i),e?function(t,e){const n=new Ct;if(r.Image){const i=new Image;i.onload=c(Qe,n,"TestLoadImage: loaded",!0,e,i),i.onerror=c(Qe,n,"TestLoadImage: error",!1,e,i),i.onabort=c(Qe,n,"TestLoadImage: abort",!1,e,i),i.ontimeout=c(Qe,n,"TestLoadImage: timeout",!1,e,i),r.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(i.toString(),n):function(t,e){new Ct;const n=new AbortController,i=setTimeout((()=>{n.abort(),Qe(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(i),t.ok?Qe(0,0,!0,e):Qe(0,0,!1,e)})).catch((()=>{clearTimeout(i),Qe(0,0,!1,e)}))}(i.toString(),n)}else _t(2);t.G=0,t.l&&t.l.sa(e),un(t),He(t)}function un(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function dn(t,e,n){var i=n instanceof se?oe(n):new se(n);if(""!=i.g)e&&(i.g=e+"."+i.g),le(i,i.s);else{var s=r.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new se(null);i&&ae(o,i),e&&(o.g=e),s&&le(o,s),n&&(o.l=n),i=o}return n=t.D,e=t.ya,n&&e&&ce(i,n,e),ce(i,"VER",t.la),tn(t,i),i}function fn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new De(new Ee({eb:n})):new De(t.pa)).Ha(t.J),e}function pn(){}function gn(){}function mn(t,e){nt.call(this),this.g=new Fe(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new vn(this)}function On(t){yt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yn(){vt.call(this),this.status=1}function vn(t){this.g=t}(t=De.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?gt(this.o):gt(Rt),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void Ue(this,o)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),s=r.FormData&&t instanceof r.FormData,!(0<=Array.prototype.indexOf.call(je,e,void 0))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of n)this.g.setRequestHeader(r,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ve(this),this.u=!0,this.g.send(t),this.u=!1}catch(o){Ue(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,it(this,"complete"),it(this,"abort"),ze(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ze(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?We(this):this.bb())},t.bb=function(){We(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Ze(this)?this.g.status:-1}catch(ge){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(ge){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Fe.prototype).la=8,t.G=1,t.connect=function(t,e,n,i){_t(0),this.W=t,this.H=e||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=dn(this,null,this.W),Ke(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new It(this,this.j,t);let s=this.o;if(this.S&&(s?(s=v(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,r,e),ce(n=oe(this.I),"RID",t),ce(n,"CVER",22),this.D&&ce(n,"X-HTTP-Session-Id",this.D),tn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ie(s)))+"&"+e:this.m&&Me(n,this.m,s)),te(this.h,r),this.Ua&&ce(n,"TYPE","init"),this.P?(ce(n,"$req",e),ce(n,"SID","null"),r.T=!0,jt(r,n,null)):jt(r,n,e),this.G=2}}else 3==this.G&&(t?Je(this,t):0==this.i.length||Ht(this.h)||Je(this))},t.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Tt(h(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ge(this),on(this))},t.Za=function(){null!=this.C&&(this.C=null,Ge(this),rn(this),_t(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},gn.prototype.g=function(t,e){return new mn(t,e)},u(mn,nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Be(this.g)},mn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ut(t),t=n);e.i.push(new Bt(e.Ya++,t)),3==e.G&&Ke(e)},mn.prototype.N=function(){this.g.l=null,delete this.j,Be(this.g),delete this.g,mn.aa.N.call(this)},u(On,yt),u(yn,vt),u(vn,pn),vn.prototype.ua=function(){it(this.g,"a")},vn.prototype.ta=function(t){it(this.g,new On(t))},vn.prototype.sa=function(t){it(this.g,new yn)},vn.prototype.ra=function(){it(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,lo=co.createWebChannelTransport=function(){return new gn},ao=co.getStatEventTarget=function(){return xt()},oo=co.Event=bt,so=co.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,ro=co.ErrorCode=At,$t.COMPLETE="complete",io=co.EventType=$t,mt.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",nt.prototype.listen=nt.prototype.K,no=co.WebChannel=mt,eo=co.FetchXmlHttpFactory=Ee,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,to=co.XhrIo=De}).apply("undefined"!==typeof ho?ho:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const uo="@firebase/firestore";class fo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fo.UNAUTHENTICATED=new fo(null),fo.GOOGLE_CREDENTIALS=new fo("google-credentials-uid"),fo.FIRST_PARTY=new fo("first-party-uid"),fo.MOCK_USER=new fo("mock-user");let po="10.12.3";const go=new he("@firebase/firestore");function mo(){return go.logLevel}function Oo(t){if(go.logLevel<=re.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(bo);go.debug("Firestore (".concat(po,"): ").concat(t),...r)}}function yo(t){if(go.logLevel<=re.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(bo);go.error("Firestore (".concat(po,"): ").concat(t),...r)}}function vo(t){if(go.logLevel<=re.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(bo);go.warn("Firestore (".concat(po,"): ").concat(t),...r)}}function bo(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(RS){return t}}function wo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(po,") INTERNAL ASSERTION FAILED: ")+t;throw yo(e),new Error(e)}function xo(t,e){t||wo()}function ko(t,e){return t}const So={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Po extends Wt{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class _o{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Qo{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class To{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(fo.UNAUTHENTICATED)))}shutdown(){}}class Co{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Eo{constructor(t){this.t=t,this.currentUser=fo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new _o,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{Oo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Oo("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new _o)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Oo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(xo("string"==typeof e.accessToken),new Qo(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return xo(null===t||"string"==typeof t),new fo(t)}}class Ro{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=fo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ao{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new Ro(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(fo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $o{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class No{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&Oo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,Oo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{Oo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?i(t):Oo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(xo("string"==typeof t.token),this.R=t.token,new $o(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Io(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Mo{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Io(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62))}return n}}function Do(t,e){return t<e?-1:t>e?1:0}function qo(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}class jo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Po(So.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Po(So.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Po(So.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Po(So.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return jo.fromMillis(Date.now())}static fromDate(t){return jo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new jo(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Do(this.nanoseconds,t.nanoseconds):Do(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Uo{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Uo(t)}static min(){return new Uo(new jo(0,0))}static max(){return new Uo(new jo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lo{constructor(t,e,n){void 0===e?e=0:e>t.length&&wo(),void 0===n?n=t.length-e:n>t.length-e&&wo(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Lo.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Lo?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Wo extends Lo{construct(t,e,n){return new Wo(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Po(So.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter((t=>t.length>0)))}return new Wo(t)}static emptyPath(){return new Wo([])}}const zo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vo extends Lo{construct(t,e,n){return new Vo(t,e,n)}static isValidIdentifier(t){return zo.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vo.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vo(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Po(So.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Po(So.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Po(So.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Po(So.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vo(e)}static emptyPath(){return new Vo([])}}class Zo{constructor(t){this.path=t}static fromPath(t){return new Zo(Wo.fromString(t))}static fromName(t){return new Zo(Wo.fromString(t).popFirst(5))}static empty(){return new Zo(Wo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Wo.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Wo.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zo(new Wo(t.slice()))}}class Xo{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}Xo.UNKNOWN_ID=-1;function Yo(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Uo.fromTimestamp(1e9===i?new jo(n+1,0):new jo(n,i));return new Bo(r,Zo.empty(),e)}function Fo(t){return new Bo(t.readTime,t.key,-1)}class Bo{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Bo(Uo.min(),Zo.empty(),-1)}static max(){return new Bo(Uo.max(),Zo.empty(),-1)}}function Go(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Zo.comparator(t.documentKey,e.documentKey),0!==n?n:Do(t.largestBatchId,e.largestBatchId))}const Ho="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ko{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Jo(t){if(t.code!==So.FAILED_PRECONDITION||t.message!==Ho)throw t;Oo("LocalStore","Unexpectedly lost primary lease")}class ta{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ta(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ta?e:ta.resolve(e)}catch(t){return ta.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ta.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ta.reject(e)}static resolve(t){return new ta(((e,n)=>{e(t)}))}static reject(t){return new ta(((e,n)=>{n(t)}))}static waitFor(t){return new ta(((e,n)=>{let i=0,r=0,s=!1;t.forEach((t=>{++i,t.next((()=>{++r,s&&r===i&&e()}),(t=>n(t)))})),s=!0,r===i&&e()}))}static or(t){let e=ta.resolve(!1);for(const n of t)e=e.next((t=>t?ta.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new ta(((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===r&&n(s)}),(t=>i(t)))}}))}static doWhile(t,e){return new ta(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}function ea(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function na(t){return"IndexedDbTransactionError"===t.name}class ia{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function ra(t){return null==t}function sa(t){return 0===t&&1/t==-1/0}function oa(t){return"number"==typeof t&&Number.isInteger(t)&&!sa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}ia.oe=-1;const aa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],la=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ha=la;function ca(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function da(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class fa{constructor(t,e){this.comparator=t,this.root=e||ga.EMPTY}insert(t,e){return new fa(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ga.BLACK,null,null))}remove(t){return new fa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ga.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pa(this.root,t,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pa(this.root,t,this.comparator,!0)}}class pa{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ga{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:ga.RED,this.left=null!=i?i:ga.EMPTY,this.right=null!=r?r:ga.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new ga(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ga.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return ga.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ga.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ga.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wo();if(this.right.isRed())throw wo();const t=this.left.check();if(t!==this.right.check())throw wo();return t+(this.isRed()?0:1)}}ga.EMPTY=null,ga.RED=!0,ga.BLACK=!1,ga.EMPTY=new class{constructor(){this.size=0}get key(){throw wo()}get value(){throw wo()}get color(){throw wo()}get left(){throw wo()}get right(){throw wo()}copy(t,e,n,i,r){return this}insert(t,e,n){return new ga(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ma{constructor(t){this.comparator=t,this.data=new fa(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Oa(this.data.getIterator())}getIteratorFrom(t){return new Oa(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof ma))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ma(this.comparator);return e.data=t,e}}class Oa{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ya{constructor(t){this.fields=t,t.sort(Vo.comparator)}static empty(){return new ya([])}unionWith(t){let e=new ma(Vo.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ya(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class va extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ba{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new va("Invalid base64 string: "+t):t}}(t);return new ba(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ba(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Do(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ba.EMPTY_BYTE_STRING=new ba("");const wa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(t){if(xo(!!t),"string"==typeof t){let e=0;const n=wa.exec(t);if(xo(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ka(t.seconds),nanos:ka(t.nanos)}}function ka(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Sa(t){return"string"==typeof t?ba.fromBase64String(t):ba.fromUint8Array(t)}function Pa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _a(t){const e=t.mapValue.fields.__previous_value__;return Pa(e)?_a(e):e}function Qa(t){const e=xa(t.mapValue.fields.__local_write_time__.timestampValue);return new jo(e.seconds,e.nanos)}class Ta{constructor(t,e,n,i,r,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Ca{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ca("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ca&&t.projectId===this.projectId&&t.database===this.database}}const Ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pa(t)?4:Za(t)?9007199254740991:10:wo()}function Aa(t,e){if(t===e)return!0;const n=Ra(t);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qa(t).isEqual(Qa(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=xa(t.timestampValue),i=xa(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Sa(t.bytesValue).isEqual(Sa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ka(t.geoPointValue.latitude)===ka(e.geoPointValue.latitude)&&ka(t.geoPointValue.longitude)===ka(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ka(t.integerValue)===ka(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ka(t.doubleValue),i=ka(e.doubleValue);return n===i?sa(n)===sa(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return qo(t.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(ca(n)!==ca(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Aa(n[r],i[r])))return!1;return!0}(t,e);default:return wo()}}function $a(t,e){return void 0!==(t.values||[]).find((t=>Aa(t,e)))}function Na(t,e){if(t===e)return 0;const n=Ra(t),i=Ra(e);if(n!==i)return Do(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Do(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ka(t.integerValue||t.doubleValue),i=ka(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Ia(t.timestampValue,e.timestampValue);case 4:return Ia(Qa(t),Qa(e));case 5:return Do(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Sa(t),i=Sa(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=Do(n[r],i[r]);if(0!==t)return t}return Do(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Do(ka(t.latitude),ka(e.latitude));return 0!==n?n:Do(ka(t.longitude),ka(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=Na(n[r],i[r]);if(t)return t}return Do(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Ea.mapValue&&e===Ea.mapValue)return 0;if(t===Ea.mapValue)return 1;if(e===Ea.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=Do(i[o],s[o]);if(0!==t)return t;const e=Na(n[i[o]],r[s[o]]);if(0!==e)return e}return Do(i.length,s.length)}(t.mapValue,e.mapValue);default:throw wo()}}function Ia(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Do(t,e);const n=xa(t),i=xa(e),r=Do(n.seconds,i.seconds);return 0!==r?r:Do(n.nanos,i.nanos)}function Ma(t){return Da(t)}function Da(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=xa(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Sa(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return Zo.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=Da(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(Da(t.fields[r]));return n+"}"}(t.mapValue):wo()}function qa(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function ja(t){return!!t&&"integerValue"in t}function Ua(t){return!!t&&"arrayValue"in t}function La(t){return!!t&&"nullValue"in t}function Wa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function za(t){return!!t&&"mapValue"in t}function Va(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Va(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Va(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Za(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xa{constructor(t){this.value=t}static empty(){return new Xa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!za(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Va(e)}setAll(t){let e=Vo.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=Va(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());za(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Aa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];za(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){ua(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new Xa(Va(this.value))}}function Ya(t){const e=[];return ua(t.fields,((t,n)=>{const i=new Vo([t]);if(za(n)){const t=Ya(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new ya(e)}class Fa{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Fa(t,0,Uo.min(),Uo.min(),Uo.min(),Xa.empty(),0)}static newFoundDocument(t,e,n,i){return new Fa(t,1,e,Uo.min(),n,i,0)}static newNoDocument(t,e){return new Fa(t,2,e,Uo.min(),Uo.min(),Xa.empty(),0)}static newUnknownDocument(t,e){return new Fa(t,3,e,Uo.min(),Uo.min(),Xa.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Uo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Uo.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Fa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Fa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ba{constructor(t,e){this.position=t,this.inclusive=e}}function Ga(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?Zo.comparator(Zo.fromName(o.referenceValue),n.key):Na(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Ha(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Aa(t.position[n],e.position[n]))return!1;return!0}class Ka{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Ja(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class tl{}class el extends tl{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new hl(t,e,n):"array-contains"===e?new fl(t,n):"in"===e?new pl(t,n):"not-in"===e?new gl(t,n):"array-contains-any"===e?new ml(t,n):new el(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new cl(t,n):new ul(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Na(e,this.value)):null!==e&&Ra(this.value)===Ra(e)&&this.matchesComparison(Na(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nl extends tl{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new nl(t,e)}matches(t){return il(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function il(t){return"and"===t.op}function rl(t){return sl(t)&&il(t)}function sl(t){for(const e of t.filters)if(e instanceof nl)return!1;return!0}function ol(t){if(t instanceof el)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(rl(t))return t.filters.map((t=>ol(t))).join(",");{const e=t.filters.map((t=>ol(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function al(t,e){return t instanceof el?function(t,e){return e instanceof el&&t.op===e.op&&t.field.isEqual(e.field)&&Aa(t.value,e.value)}(t,e):t instanceof nl?function(t,e){return e instanceof nl&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&al(n,e.filters[i])),!0)}(t,e):void wo()}function ll(t){return t instanceof el?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(Ma(t.value))}(t):t instanceof nl?function(t){return t.op.toString()+" {"+t.getFilters().map(ll).join(" ,")+"}"}(t):"Filter"}class hl extends el{constructor(t,e,n){super(t,e,n),this.key=Zo.fromName(n.referenceValue)}matches(t){const e=Zo.comparator(t.key,this.key);return this.matchesComparison(e)}}class cl extends el{constructor(t,e){super(t,"in",e),this.keys=dl("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class ul extends el{constructor(t,e){super(t,"not-in",e),this.keys=dl("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function dl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Zo.fromName(t.referenceValue)))}class fl extends el{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ua(e)&&$a(e.arrayValue,this.value)}}class pl extends el{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&$a(this.value.arrayValue,e)}}class gl extends el{constructor(t,e){super(t,"not-in",e)}matches(t){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!$a(this.value.arrayValue,e)}}class ml extends el{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ua(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>$a(this.value.arrayValue,t)))}}class Ol{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function yl(t){return new Ol(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vl(t){const e=ko(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>ol(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),ra(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Ma(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Ma(t))).join(",")),e.ue=t}return e.ue}function bl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ja(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!al(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ha(t.startAt,e.startAt)&&Ha(t.endAt,e.endAt)}function wl(t){return Zo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class xl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kl(t,e,n,i,r,s,o,a){return new xl(t,e,n,i,r,s,o,a)}function Sl(t){return new xl(t)}function Pl(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function _l(t){return null!==t.collectionGroup}function Ql(t){const e=ko(t);if(null===e.ce){e.ce=[];const t=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",i=function(t){let e=new ma(Vo.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);i.forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ka(i,n))})),t.has(Vo.keyField().canonicalString())||e.ce.push(new Ka(Vo.keyField(),n))}return e.ce}function Tl(t){const e=ko(t);return e.le||(e.le=Cl(e,Ql(t))),e.le}function Cl(t,e){if("F"===t.limitType)return yl(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Ka(t.field,e)}));const n=t.endAt?new Ba(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ba(t.startAt.position,t.startAt.inclusive):null;return yl(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function El(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rl(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Al(t,e){return bl(Tl(t),Tl(e))&&t.limitType===e.limitType}function $l(t){return"".concat(vl(Tl(t)),"|lt:").concat(t.limitType)}function Nl(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>ll(t))).join(", "),"]")),ra(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Ma(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Ma(t))).join(",")),"Target(".concat(e,")")}(Tl(t)),"; limitType=").concat(t.limitType,")")}function Il(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Zo.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Ql(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=Ga(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Ql(t),e))&&!(t.endAt&&!function(t,e,n){const i=Ga(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Ql(t),e))}(t,e)}function Ml(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Dl(t){return(e,n)=>{let i=!1;for(const r of Ql(t)){const t=ql(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function ql(t,e,n){const i=t.field.isKeyField()?Zo.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Na(i,r):wo()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return wo()}}class jl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ua(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return da(this.inner)}size(){return this.innerSize}}const Ul=new fa(Zo.comparator);function Ll(){return Ul}const Wl=new fa(Zo.comparator);function zl(){let t=Wl;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function Vl(t){let e=Wl;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Zl(){return Yl()}function Xl(){return Yl()}function Yl(){return new jl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Fl=new fa(Zo.comparator),Bl=new ma(Zo.comparator);function Gl(){let t=Bl;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const Hl=new ma(Do);function Kl(){return Hl}function Jl(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sa(e)?"-0":e}}function th(t){return{integerValue:""+t}}function eh(t,e){return oa(e)?th(e):Jl(t,e)}class nh{constructor(){this._=void 0}}function ih(t,e,n){return t instanceof oh?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Pa(e)&&(e=_a(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ah?lh(t,e):t instanceof hh?ch(t,e):function(t,e){const n=sh(t,e),i=dh(n)+dh(t.Pe);return ja(n)&&ja(t.Pe)?th(i):Jl(t.serializer,i)}(t,e)}function rh(t,e,n){return t instanceof ah?lh(t,e):t instanceof hh?ch(t,e):n}function sh(t,e){return t instanceof uh?function(t){return ja(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class oh extends nh{}class ah extends nh{constructor(t){super(),this.elements=t}}function lh(t,e){const n=fh(e);for(const i of t.elements)n.some((t=>Aa(t,i)))||n.push(i);return{arrayValue:{values:n}}}class hh extends nh{constructor(t){super(),this.elements=t}}function ch(t,e){let n=fh(e);for(const i of t.elements)n=n.filter((t=>!Aa(t,i)));return{arrayValue:{values:n}}}class uh extends nh{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function dh(t){return ka(t.integerValue||t.doubleValue)}function fh(t){return Ua(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ph{constructor(t,e){this.field=t,this.transform=e}}class gh{constructor(t,e){this.version=t,this.transformResults=e}}class mh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new mh}static exists(t){return new mh(void 0,t)}static updateTime(t){return new mh(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yh{}function vh(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ch(t.key,mh.none()):new Sh(t.key,t.data,mh.none());{const n=t.data,i=Xa.empty();let r=new ma(Vo.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new Ph(t.key,i,new ya(r.toArray()),mh.none())}}function bh(t,e,n){t instanceof Sh?function(t,e,n){const i=t.value.clone(),r=Qh(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Ph?function(t,e,n){if(!Oh(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=Qh(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(_h(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function wh(t,e,n,i){return t instanceof Sh?function(t,e,n,i){if(!Oh(t.precondition,e))return n;const r=t.value.clone(),s=Th(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ph?function(t,e,n,i){if(!Oh(t.precondition,e))return n;const r=Th(t.fieldTransforms,i,e),s=e.data;return s.setAll(_h(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return Oh(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function xh(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=sh(i.transform,t||null);null!=r&&(null===n&&(n=Xa.empty()),n.set(i.field,r))}return n||null}function kh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&qo(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ah&&e instanceof ah||t instanceof hh&&e instanceof hh?qo(t.elements,e.elements,Aa):t instanceof uh&&e instanceof uh?Aa(t.Pe,e.Pe):t instanceof oh&&e instanceof oh}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sh extends yh{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ph extends yh{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function _h(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Qh(t,e,n){const i=new Map;xo(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,rh(o,a,n[r]))}return i}function Th(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,ih(t,s,e))}return i}class Ch extends yh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eh extends yh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rh{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&bh(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=wh(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=wh(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Xl();return this.mutations.forEach((i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=vh(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Uo.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Gl())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,((t,e)=>kh(t,e)))&&qo(this.baseMutations,t.baseMutations,((t,e)=>kh(t,e)))}}class Ah{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){xo(t.mutations.length===n.length);let i=Fl;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Ah(t,e,n,i)}}class $h{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Nh{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ih,Mh;function Dh(t){switch(t){default:return wo();case So.CANCELLED:case So.UNKNOWN:case So.DEADLINE_EXCEEDED:case So.RESOURCE_EXHAUSTED:case So.INTERNAL:case So.UNAVAILABLE:case So.UNAUTHENTICATED:return!1;case So.INVALID_ARGUMENT:case So.NOT_FOUND:case So.ALREADY_EXISTS:case So.PERMISSION_DENIED:case So.FAILED_PRECONDITION:case So.ABORTED:case So.OUT_OF_RANGE:case So.UNIMPLEMENTED:case So.DATA_LOSS:return!0}}function qh(t){if(void 0===t)return yo("GRPC error has no .code"),So.UNKNOWN;switch(t){case Ih.OK:return So.OK;case Ih.CANCELLED:return So.CANCELLED;case Ih.UNKNOWN:return So.UNKNOWN;case Ih.DEADLINE_EXCEEDED:return So.DEADLINE_EXCEEDED;case Ih.RESOURCE_EXHAUSTED:return So.RESOURCE_EXHAUSTED;case Ih.INTERNAL:return So.INTERNAL;case Ih.UNAVAILABLE:return So.UNAVAILABLE;case Ih.UNAUTHENTICATED:return So.UNAUTHENTICATED;case Ih.INVALID_ARGUMENT:return So.INVALID_ARGUMENT;case Ih.NOT_FOUND:return So.NOT_FOUND;case Ih.ALREADY_EXISTS:return So.ALREADY_EXISTS;case Ih.PERMISSION_DENIED:return So.PERMISSION_DENIED;case Ih.FAILED_PRECONDITION:return So.FAILED_PRECONDITION;case Ih.ABORTED:return So.ABORTED;case Ih.OUT_OF_RANGE:return So.OUT_OF_RANGE;case Ih.UNIMPLEMENTED:return So.UNIMPLEMENTED;case Ih.DATA_LOSS:return So.DATA_LOSS;default:return wo()}}(Mh=Ih||(Ih={}))[Mh.OK=0]="OK",Mh[Mh.CANCELLED=1]="CANCELLED",Mh[Mh.UNKNOWN=2]="UNKNOWN",Mh[Mh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mh[Mh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mh[Mh.NOT_FOUND=5]="NOT_FOUND",Mh[Mh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mh[Mh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mh[Mh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mh[Mh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mh[Mh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mh[Mh.ABORTED=10]="ABORTED",Mh[Mh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mh[Mh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mh[Mh.INTERNAL=13]="INTERNAL",Mh[Mh.UNAVAILABLE=14]="UNAVAILABLE",Mh[Mh.DATA_LOSS=15]="DATA_LOSS";let jh=null;function Uh(){return new TextEncoder}const Lh=new Gs([4294967295,4294967295],0);function Wh(t){const e=Uh().encode(t),n=new Hs;return n.update(e),new Uint8Array(n.digest())}function zh(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gs([n,i],0),new Gs([r,s],0)]}class Vh{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Zh("Invalid padding: ".concat(e));if(n<0)throw new Zh("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new Zh("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new Zh("Invalid padding when bitmap length is 0: ".concat(e));this.Ie=8*t.length-e,this.Te=Gs.fromNumber(this.Ie)}Ee(t,e,n){let i=t.add(e.multiply(Gs.fromNumber(n)));return 1===i.compare(Lh)&&(i=new Gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Wh(t),[n,i]=zh(e);for(let r=0;r<this.hashCount;r++){const t=this.Ee(n,i,r);if(!this.de(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new Vh(r,i,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Ie)return;const e=Wh(t),[n,i]=zh(e);for(let r=0;r<this.hashCount;r++){const t=this.Ee(n,i,r);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Zh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xh{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,Yh.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Xh(Uo.min(),i,new fa(Do),Ll(),Gl())}}class Yh{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Yh(n,e,Gl(),Gl(),Gl())}}class Fh{constructor(t,e,n,i){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=i}}class Bh{constructor(t,e){this.targetId=t,this.me=e}}class Gh{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ba.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Hh{constructor(){this.fe=0,this.ge=tc(),this.pe=ba.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Gl(),e=Gl(),n=Gl();return this.ge.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:wo()}})),new Yh(this.pe,this.ye,t,e,n)}ve(){this.we=!1,this.ge=tc()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,xo(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kh{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ll(),this.qe=Jh(),this.Qe=new fa(Do)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,(e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:wo()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((t,n)=>{this.ze(n)&&e(n)}))}He(t){const e=t.targetId,n=t.me.count,i=this.Je(e);if(i){const r=i.target;if(wl(r))if(0===n){const t=new Zo(r.path);this.Ue(e,t,Fa.newNoDocument(t,Uo.min()))}else xo(1===n);else{const i=this.Ye(e);if(i!==n){const n=this.Ze(t),r=n?this.Xe(n,t,i):1;if(0!==r){this.je(e);const t=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,t)}null==jh||jh.et(function(t,e,n,i,r){var s,o,a,l,h,c;const u={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(u.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(h=null==d?void 0:d.bits)||void 0===h?void 0:h.padding)&&void 0!==c?c:0,mightContain:t=>{var e;return null!==(e=null==i?void 0:i.mightContain(t))&&void 0!==e&&e}}),u}(i,t.me,this.Le.tt(),n,r))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=e;let s,o;try{s=Sa(n).toUint8Array()}catch(t){if(t instanceof va)return vo("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new Vh(s,i,r)}catch(t){return vo(t instanceof Zh?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Ie?null:o}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.Le.tt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.mightContain(s)||(this.Ue(e,n,null),i++)})),i}rt(t){const e=new Map;this.Be.forEach(((n,i)=>{const r=this.Je(i);if(r){if(n.current&&wl(r.target)){const e=new Zo(r.target.path);null!==this.ke.get(e)||this.it(i,e)||this.Ue(i,e,Fa.newNoDocument(e,t))}n.be&&(e.set(i,n.Ce()),n.ve())}}));let n=Gl();this.qe.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.Je(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.ke.forEach(((e,n)=>n.setReadTime(t)));const i=new Xh(t,e,this.Qe,this.ke,n);return this.ke=Ll(),this.qe=Jh(),this.Qe=new fa(Do),i}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Hh,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new ma(Do),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Oo("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Hh),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.Ue(t,e,null)}))}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Jh(){return new fa(Zo.comparator)}function tc(){return new fa(Zo.comparator)}const ec={asc:"ASCENDING",desc:"DESCENDING"},nc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ic={and:"AND",or:"OR"};class rc{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function sc(t,e){return t.useProto3Json||ra(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function ac(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lc(t,e){return oc(t,e.toTimestamp())}function hc(t){return xo(!!t),Uo.fromTimestamp(function(t){const e=xa(t);return new jo(e.seconds,e.nanos)}(t))}function cc(t,e){return uc(t,e).canonicalString()}function uc(t,e){const n=function(t){return new Wo(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function dc(t){const e=Wo.fromString(t);return xo(Ac(e)),e}function fc(t,e){return cc(t.databaseId,e.path)}function pc(t,e){const n=dc(e);if(n.get(1)!==t.databaseId.projectId)throw new Po(So.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Po(So.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Zo(yc(n))}function gc(t,e){return cc(t.databaseId,e)}function mc(t){const e=dc(t);return 4===e.length?Wo.emptyPath():yc(e)}function Oc(t){return new Wo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yc(t){return xo(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vc(t,e,n){return{name:fc(t,e),fields:n.value.mapValue.fields}}function bc(t,e){let n;if(e instanceof Sh)n={update:vc(t,e.key,e.value)};else if(e instanceof Ch)n={delete:fc(t,e.key)};else if(e instanceof Ph)n={update:vc(t,e.key,e.data),updateMask:Rc(e.fieldMask)};else{if(!(e instanceof Eh))return wo();n={verify:fc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof oh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ah)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uh)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw wo()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:lc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:wo()}(t,e.precondition)),n}function wc(t,e){return{documents:[gc(t,e.path)]}}function xc(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=gc(t,r);const s=function(t){if(0!==t.length)return Ec(nl.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Tc(t.field),direction:Pc(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sc(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{_t:n,parent:r}}function kc(t){let e=mc(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){xo(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=Sc(t);return e instanceof nl&&rl(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new Ka(Cc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,ra(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Ba(n,e)}(n.startAt));let h=null;return n.endAt&&(h=function(t){const e=!t.before,n=t.values||[];return new Ba(n,e)}(n.endAt)),kl(e,r,o,s,a,"F",l,h)}function Sc(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Cc(t.unaryFilter.field);return el.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Cc(t.unaryFilter.field);return el.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cc(t.unaryFilter.field);return el.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Cc(t.unaryFilter.field);return el.create(r,"!=",{nullValue:"NULL_VALUE"});default:return wo()}}(t):void 0!==t.fieldFilter?function(t){return el.create(Cc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wo()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return nl.create(t.compositeFilter.filters.map((t=>Sc(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return wo()}}(t.compositeFilter.op))}(t):wo()}function Pc(t){return ec[t]}function _c(t){return nc[t]}function Qc(t){return ic[t]}function Tc(t){return{fieldPath:t.canonicalString()}}function Cc(t){return Vo.fromServerFormat(t.fieldPath)}function Ec(t){return t instanceof el?function(t){if("=="===t.op){if(Wa(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NAN"}};if(La(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wa(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NOT_NAN"}};if(La(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tc(t.field),op:_c(t.op),value:t.value}}}(t):t instanceof nl?function(t){const e=t.getFilters().map((t=>Ec(t)));return 1===e.length?e[0]:{compositeFilter:{op:Qc(t.op),filters:e}}}(t):wo()}function Rc(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ac(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class $c{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Uo.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Uo.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ba.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new $c(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Nc{constructor(t){this.ct=t}}function Ic(t){const e=kc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rl(e,e.limit,"L"):e}class Mc{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(ka(t.integerValue));else if("doubleValue"in t){const n=ka(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),sa(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Et(e,20),"string"==typeof n&&(n=xa(n)),e.At("".concat(n.seconds||"")),e.dt(n.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Sa(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?Za(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):wo()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const i of Object.keys(n))this.Rt(i,e),this.It(n[i],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const i of n)this.It(i,e)}gt(t,e){this.Et(e,37),Zo.fromName(t).path.forEach((t=>{this.Et(e,60),this.St(t,e)}))}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Mc.bt=new Mc;class Dc{constructor(){this._n=new qc}addToCollectionParentIndex(t,e){return this._n.add(e),ta.resolve()}getCollectionParents(t,e){return ta.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return ta.resolve()}deleteFieldIndex(t,e){return ta.resolve()}deleteAllFieldIndexes(t){return ta.resolve()}createTargetIndexes(t,e){return ta.resolve()}getDocumentsMatchingTarget(t,e){return ta.resolve(null)}getIndexType(t,e){return ta.resolve(0)}getFieldIndexes(t,e){return ta.resolve([])}getNextCollectionGroupToUpdate(t){return ta.resolve(null)}getMinOffset(t,e){return ta.resolve(Bo.min())}getMinOffsetFromCollectionGroup(t,e){return ta.resolve(Bo.min())}updateCollectionGroup(t,e,n){return ta.resolve()}updateIndexEntries(t,e){return ta.resolve()}}class qc{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new ma(Wo.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new ma(Wo.comparator)).toArray()}}new Uint8Array(0);class jc{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new jc(t,jc.DEFAULT_COLLECTION_PERCENTILE,jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jc.DEFAULT_COLLECTION_PERCENTILE=10,jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jc.DEFAULT=new jc(41943040,jc.DEFAULT_COLLECTION_PERCENTILE,jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jc.DISABLED=new jc(-1,0,0);class Uc{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Uc(0)}static Ln(){return new Uc(-1)}}class Lc{constructor(){this.changes=new jl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Fa.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?ta.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Wc{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class zc{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&wh(n.mutation,t,ya.empty(),jo.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Gl()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gl();const i=Zl();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=zl();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Zl();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Gl())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=Ll();const s=Yl(),o=Yl();return e.forEach(((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof Ph)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),wh(o.mutation,e,o.mutation.getFieldMask(),jo.now())):s.set(e.key,ya.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new Wc(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=Yl();let i=new fa(((t,e)=>t-e)),r=Gl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||ya.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||Gl()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,h=Xl();l.forEach((t=>{if(!r.has(t)){const i=vh(e.get(t),n.get(t));null!==i&&h.set(t,i),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,h))}return ta.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,i){return function(t){return Zo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):_l(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):ta.resolve(Zl());let o=-1,a=r;return s.next((e=>ta.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?ta.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,Gl()))).next((t=>({batchId:o,changes:Vl(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Zo(e)).next((t=>{let e=zl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const r=e.collectionGroup;let s=zl();return this.indexManager.getCollectionParents(t,r).next((o=>ta.forEach(o,(o=>{const a=function(t,e){return new xl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i)))).next((t=>{r.forEach(((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,Fa.newInvalidDocument(i)))}));let n=zl();return t.forEach(((t,i)=>{const s=r.get(t);void 0!==s&&wh(s.mutation,i,ya.empty(),jo.now()),Il(e,i)&&(n=n.insert(t,i))})),n}))}}class Vc{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return ta.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:hc(t.createTime)}}(e)),ta.resolve()}getNamedQuery(t,e){return ta.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,function(t){return{name:t.name,query:Ic(t.bundledQuery),readTime:hc(t.readTime)}}(e)),ta.resolve()}}class Zc{constructor(){this.overlays=new fa(Zo.comparator),this.hr=new Map}getOverlay(t,e){return ta.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Zl();return ta.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.ht(t,e,i)})),ta.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.hr.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.hr.delete(n)),ta.resolve()}getOverlaysForCollection(t,e,n){const i=Zl(),r=e.length+1,s=new Zo(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return ta.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new fa(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=Zl(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=Zl(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=i)););return ta.resolve(o)}ht(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.hr.get(i.largestBatchId).delete(n.key);this.hr.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new $h(e,n));let r=this.hr.get(e);void 0===r&&(r=Gl(),this.hr.set(e,r)),this.hr.set(e,r.add(n.key))}}class Xc{constructor(){this.Pr=new ma(Yc.Ir),this.Tr=new ma(Yc.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new Yc(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Ar(new Yc(t,e))}Rr(t,e){t.forEach((t=>this.removeReference(t,e)))}Vr(t){const e=new Zo(new Wo([])),n=new Yc(e,t),i=new Yc(e,t+1),r=[];return this.Tr.forEachInRange([n,i],(t=>{this.Ar(t),r.push(t.key)})),r}mr(){this.Pr.forEach((t=>this.Ar(t)))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Zo(new Wo([])),n=new Yc(e,t),i=new Yc(e,t+1);let r=Gl();return this.Tr.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new Yc(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Yc{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Zo.comparator(t.key,e.key)||Do(t.pr,e.pr)}static Er(t,e){return Do(t.pr,e.pr)||Zo.comparator(t.key,e.key)}}class Fc{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new ma(Yc.Ir)}checkEmpty(t){return ta.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rh(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.wr=this.wr.add(new Yc(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return ta.resolve(s)}lookupMutationBatch(t,e){return ta.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.br(n),r=i<0?0:i;return ta.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ta.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return ta.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Yc(e,0),i=new Yc(e,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([n,i],(t=>{const e=this.Sr(t.pr);r.push(e)})),ta.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ma(Do);return e.forEach((t=>{const e=new Yc(t,0),i=new Yc(t,Number.POSITIVE_INFINITY);this.wr.forEachInRange([e,i],(t=>{n=n.add(t.pr)}))})),ta.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;Zo.isDocumentKey(r)||(r=r.child(""));const s=new Yc(new Zo(r),0);let o=new ma(Do);return this.wr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.pr)),!0)}),s),ta.resolve(this.Dr(o))}Dr(t){const e=[];return t.forEach((t=>{const n=this.Sr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){xo(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ta.forEach(e.mutations,(i=>{const r=new Yc(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.wr=n}))}Mn(t){}containsKey(t,e){const n=new Yc(e,0),i=this.wr.firstAfterOrEqual(n);return ta.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ta.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Bc{constructor(t){this.vr=t,this.docs=new fa(Zo.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return ta.resolve(n?n.document.mutableCopy():Fa.newInvalidDocument(e))}getEntries(t,e){let n=Ll();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Fa.newInvalidDocument(t))})),ta.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=Ll();const s=e.path,o=new Zo(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Go(Fo(o),n)<=0||(i.has(o.key)||Il(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return ta.resolve(r)}getAllFromCollectionGroup(t,e,n,i){wo()}Fr(t,e){return ta.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Gc(this)}getSize(t){return ta.resolve(this.size)}}class Gc extends Lc{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.ar.addEntry(t,i)):this.ar.removeEntry(n)})),ta.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class Hc{constructor(t){this.persistence=t,this.Mr=new jl((t=>vl(t)),bl),this.lastRemoteSnapshotVersion=Uo.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Xc,this.targetCount=0,this.Lr=Uc.Nn()}forEachTarget(t,e){return this.Mr.forEach(((t,n)=>e(n))),ta.resolve()}getLastRemoteSnapshotVersion(t){return ta.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ta.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),ta.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),ta.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Uc(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,ta.resolve()}updateTargetData(t,e){return this.qn(e),ta.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,ta.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Mr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),ta.waitFor(r).next((()=>i))}getTargetCount(t){return ta.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return ta.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),ta.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),ta.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),ta.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return ta.resolve(n)}containsKey(t,e){return ta.resolve(this.Nr.containsKey(e))}}class Kc{constructor(t,e){this.Br={},this.overlays={},this.kr=new ia(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Hc(this),this.indexManager=new Dc,this.remoteDocumentCache=function(t){return new Bc(t)}((t=>this.referenceDelegate.Kr(t))),this.serializer=new Nc(e),this.$r=new Vc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Zc,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Br[t.toKey()];return n||(n=new Fc(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){Oo("MemoryPersistence","Starting transaction:",t);const i=new Jc(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((t=>this.referenceDelegate.Wr(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Gr(t,e){return ta.or(Object.values(this.Br).map((n=>()=>n.containsKey(t,e))))}}class Jc extends Ko{constructor(t){super(),this.currentSequenceNumber=t}}class tu{constructor(t){this.persistence=t,this.zr=new Xc,this.jr=null}static Hr(t){return new tu(t)}get Jr(){if(this.jr)return this.jr;throw wo()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),ta.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),ta.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),ta.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach((t=>this.Jr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Jr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ta.forEach(this.Jr,(n=>{const i=Zo.fromPath(n);return this.Yr(t,i).next((t=>{t||e.removeEntry(i,Uo.min())}))})).next((()=>(this.jr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Yr(t,e).next((t=>{t?this.Jr.delete(e.toString()):this.Jr.add(e.toString())}))}Kr(t){return 0}Yr(t,e){return ta.or([()=>ta.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class eu{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=i}static Ki(t,e){let n=Gl(),i=Gl();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new eu(t,e.fromCache,n,i)}}class nu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class iu{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Ut()?8:ea(jt())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,i){const r={result:null};return this.ji(t,e).next((t=>{r.result=t})).next((()=>{if(!r.result)return this.Hi(t,e,i,n).next((t=>{r.result=t}))})).next((()=>{if(r.result)return;const n=new nu;return this.Ji(t,e,n).next((i=>{if(r.result=i,this.Ui)return this.Yi(t,e,n,i.size)}))})).next((()=>r.result))}Yi(t,e,n,i){return n.documentReadCount<this.Wi?(mo()<=re.DEBUG&&Oo("QueryEngine","SDK will not create cache indexes for query:",Nl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ta.resolve()):(mo()<=re.DEBUG&&Oo("QueryEngine","Query:",Nl(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Gi*i?(mo()<=re.DEBUG&&Oo("QueryEngine","The SDK decides to create cache indexes for query:",Nl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Tl(e))):ta.resolve())}ji(t,e){if(Pl(e))return ta.resolve(null);let n=Tl(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=Rl(e,null,"F"),n=Tl(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=Gl(...i);return this.zi.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Zi(e,i);return this.Xi(e,s,r,n.readTime)?this.ji(t,Rl(e,null,"F")):this.es(t,s,e,n)}))))})))))}Hi(t,e,n,i){return Pl(e)||i.isEqual(Uo.min())?ta.resolve(null):this.zi.getDocuments(t,n).next((r=>{const s=this.Zi(e,r);return this.Xi(e,s,n,i)?ta.resolve(null):(mo()<=re.DEBUG&&Oo("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nl(e)),this.es(t,s,e,Yo(i,-1)).next((t=>t)))}))}Zi(t,e){let n=new ma(Dl(t));return e.forEach(((e,i)=>{Il(t,i)&&(n=n.add(i))})),n}Xi(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ji(t,e,n){return mo()<=re.DEBUG&&Oo("QueryEngine","Using full collection scan to execute query:",Nl(e)),this.zi.getDocumentsMatchingQuery(t,e,Bo.min(),n)}es(t,e,n,i){return this.zi.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class ru{constructor(t,e,n,i){this.persistence=t,this.ts=e,this.serializer=i,this.ns=new fa(Do),this.rs=new jl((t=>vl(t)),bl),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.ns)))}}function su(t,e,n,i){return new ru(t,e,n,i)}async function ou(t,e){const n=ko(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n._s(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=Gl();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({us:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function au(t){const e=ko(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Qr.getLastRemoteSnapshotVersion(t)))}function lu(t,e,n){let i=Gl(),r=Gl();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=Ll();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Uo.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):Oo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:i,ls:r}}))}function hu(t,e){const n=ko(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function cu(t,e){const n=ko(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Qr.getTargetData(t,e).next((r=>r?(i=r,ta.resolve(i)):n.Qr.allocateTargetId(t).next((r=>(i=new $c(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Qr.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.ns.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(t.targetId,t),n.rs.set(e,t.targetId)),t}))}async function uu(t,e,n){const i=ko(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!na(t))throw t;Oo("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function du(t,e,n){const i=ko(t);let r=Uo.min(),s=Gl();return i.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const i=ko(t),r=i.rs.get(n);return void 0!==r?ta.resolve(i.ns.get(r)):i.Qr.getTargetData(e,n)}(i,t,Tl(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>i.ts.getDocumentsMatchingQuery(t,e,n?r:Uo.min(),n?s:Gl()))).next((t=>(fu(i,Ml(e),t),{documents:t,hs:s})))))}function fu(t,e,n){let i=t.ss.get(e)||Uo.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.ss.set(e,i)}class pu{constructor(){this.activeTargetIds=Kl()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gu{constructor(){this.no=new pu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new pu,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class mu{io(t){}shutdown(){}}class Ou{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Oo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Oo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yu=null;function vu(){return null===yu?yu=268435456+Math.round(2147483648*Math.random()):yu++,"0x"+yu.toString(16)}const bu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wu{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const xu="WebChannelConnection";class ku extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=e+"://"+t.host,this.So="projects/".concat(n,"/databases/").concat(i),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}get Do(){return!1}Co(t,e,n,i,r){const s=vu(),o=this.vo(t,e.toUriEncodedString());Oo("RestConnection","Sending RPC '".concat(t,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,i,r),this.Mo(t,o,a,n).then((e=>(Oo("RestConnection","Received RPC '".concat(t,"' ").concat(s,": "),e),e)),(e=>{throw vo("RestConnection","RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",o,"request:",n),e}))}xo(t,e,n,i,r,s){return this.Co(t,e,n,i,r)}Fo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+po,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}vo(t,e){const n=bu[t];return"".concat(this.wo,"/v1/").concat(e,":").concat(n)}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,n,i){const r=vu();return new Promise(((s,o)=>{const a=new to;a.setWithCredentials(!0),a.listenOnce(io.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ro.NO_ERROR:const e=a.getResponseJson();Oo(xu,"XHR for RPC '".concat(t,"' ").concat(r," received:"),JSON.stringify(e)),s(e);break;case ro.TIMEOUT:Oo(xu,"RPC '".concat(t,"' ").concat(r," timed out")),o(new Po(So.DEADLINE_EXCEEDED,"Request time out"));break;case ro.HTTP_ERROR:const n=a.getStatus();if(Oo(xu,"RPC '".concat(t,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(So).indexOf(e)>=0?e:So.UNKNOWN}(e.status);o(new Po(t,e.message))}else o(new Po(So.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Po(So.UNAVAILABLE,"Connection failed."));break;default:wo()}}finally{Oo(xu,"RPC '".concat(t,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);Oo(xu,"RPC '".concat(t,"' ").concat(r," sending request:"),i),a.send(e,"POST",l,n,15)}))}Oo(t,e,n){const i=vu(),r=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=lo(),o=ao(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new eo({})),this.Fo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const h=r.join("");Oo(xu,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(h),a);const c=s.createWebChannel(h,a);let u=!1,d=!1;const f=new wu({lo:e=>{d?Oo(xu,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(u||(Oo(xu,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),c.open(),u=!0),Oo(xu,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),c.send(e))},ho:()=>c.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(c,no.EventType.OPEN,(()=>{d||(Oo(xu,"RPC '".concat(t,"' stream ").concat(i," transport opened.")),f.mo())})),p(c,no.EventType.CLOSE,(()=>{d||(d=!0,Oo(xu,"RPC '".concat(t,"' stream ").concat(i," transport closed")),f.po())})),p(c,no.EventType.ERROR,(e=>{d||(d=!0,vo(xu,"RPC '".concat(t,"' stream ").concat(i," transport errored:"),e),f.po(new Po(So.UNAVAILABLE,"The operation could not be completed")))})),p(c,no.EventType.MESSAGE,(e=>{var n;if(!d){const r=e.data[0];xo(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Oo(xu,"RPC '".concat(t,"' stream ").concat(i," received error:"),o);const e=o.status;let n=function(t){const e=Ih[t];if(void 0!==e)return qh(e)}(e),r=o.message;void 0===n&&(n=So.INTERNAL,r="Unknown error status: "+e+" with message "+o.message),d=!0,f.po(new Po(n,r)),c.close()}else Oo(xu,"RPC '".concat(t,"' stream ").concat(i," received:"),r),f.yo(r)}})),p(o,oo.STAT_EVENT,(e=>{e.stat===so.PROXY?Oo(xu,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===so.NOPROXY&&Oo(xu,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Su(){return"undefined"!=typeof document?document:null}function Pu(t){return new rc(t,!0)}class _u{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=t,this.timerId=e,this.No=n,this.Lo=i,this.Bo=r,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),i=Math.max(0,e-n);i>0&&Oo("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,(()=>(this.Qo=Date.now(),t()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Qu{constructor(t,e,n,i,r,s,o,a){this.oi=t,this.Go=n,this.zo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new _u(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,e){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==t?this.Yo.reset():e&&e.code===So.RESOURCE_EXHAUSTED?(yo(e.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):e&&e.code===So.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(e)}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,i]=t;this.jo===e&&this.u_(n,i)}),(e=>{t((()=>{const t=new Po(So.UNKNOWN,"Fetching auth token failed: "+e.message);return this.c_(t)}))}))}u_(t,e){const n=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((t=>{n((()=>this.c_(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(t){return Oo("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget((()=>this.jo===t?e():(Oo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tu extends Qu{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:wo()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(xo(void 0===e||"string"==typeof e),ba.fromBase64String(e||"")):(xo(void 0===e||e instanceof Buffer||e instanceof Uint8Array),ba.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?So.UNKNOWN:qh(t.code);return new Po(e,t.message||"")}(o);n=new Gh(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=pc(t,i.document.name),s=hc(i.document.updateTime),o=i.document.createTime?hc(i.document.createTime):Uo.min(),a=new Xa({mapValue:{fields:i.document.fields}}),l=Fa.newFoundDocument(r,s,o,a),h=i.targetIds||[],c=i.removedTargetIds||[];n=new Fh(h,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=pc(t,i.document),s=i.readTime?hc(i.readTime):Uo.min(),o=Fa.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Fh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=pc(t,i.document),s=i.removedTargetIds||[];n=new Fh([],s,r,null)}else{if(!("filter"in e))return wo();{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,s=new Nh(i,r),o=t.targetId;n=new Bh(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Uo.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Uo.min():e.readTime?hc(e.readTime):Uo.min()}(t);return this.listener.h_(e,n)}P_(t){const e={};e.database=Oc(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=wl(i)?{documents:wc(t,i)}:{query:xc(t,i)._t},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=ac(t,e.resumeToken);const i=sc(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(Uo.min())>0){n.readTime=oc(t,e.snapshotVersion.toTimestamp());const i=sc(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wo()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.i_(e)}I_(t){const e={};e.database=Oc(this.serializer),e.removeTarget=t,this.i_(e)}}class Cu extends Qu{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(xo(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function(t,e){return t&&t.length>0?(xo(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?hc(t.updateTime):hc(e);return n.isEqual(Uo.min())&&(n=hc(e)),new gh(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=hc(t.commitTime);return this.listener.A_(n,e)}return xo(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=Oc(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>bc(this.serializer,t)))};this.i_(e)}}class Eu extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Po(So.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,n,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.Co(t,uc(e,n),i,s,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===So.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Po(So.UNKNOWN,t.toString())}))}xo(t,e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.xo(t,uc(e,n),i,o,a,r)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===So.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Po(So.UNKNOWN,t.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class Ru{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(yo(e),this.y_=!1):Oo("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Au{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=r,this.O_.io((t=>{n.enqueueAndForget((async()=>{Lu(this)&&(Oo("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=ko(t);e.M_.add(4),await Nu(e),e.N_.set("Unknown"),e.M_.delete(4),await $u(e)}(this))}))})),this.N_=new Ru(n,i)}}async function $u(t){if(Lu(t))for(const e of t.x_)await e(!0)}async function Nu(t){for(const e of t.x_)await e(!1)}function Iu(t,e){const n=ko(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Uu(n)?ju(n):od(n).Xo()&&Du(n,e))}function Mu(t,e){const n=ko(t),i=od(n);n.F_.delete(e),i.Xo()&&qu(n,e),0===n.F_.size&&(i.Xo()?i.n_():Lu(n)&&n.N_.set("Unknown"))}function Du(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Uo.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}od(t).P_(e)}function qu(t,e){t.L_.xe(e),od(t).I_(e)}function ju(t){t.L_=new Kh({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),od(t).start(),t.N_.w_()}function Uu(t){return Lu(t)&&!od(t).Zo()&&t.F_.size>0}function Lu(t){return 0===ko(t).M_.size}function Wu(t){t.L_=void 0}async function zu(t){t.N_.set("Online")}async function Vu(t){t.F_.forEach(((e,n)=>{Du(t,e)}))}async function Zu(t,e){Wu(t),Uu(t)?(t.N_.D_(e),ju(t)):t.N_.set("Unknown")}async function Xu(t,e,n){if(t.N_.set("Online"),e instanceof Gh&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.F_.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.F_.delete(i),t.L_.removeTarget(i))}(t,e)}catch(n){Oo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Yu(t,n)}else if(e instanceof Fh?t.L_.Ke(e):e instanceof Bh?t.L_.He(e):t.L_.We(e),!n.isEqual(Uo.min()))try{const e=await au(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.L_.rt(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.F_.get(i);r&&t.F_.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const i=t.F_.get(e);if(!i)return;t.F_.set(e,i.withResumeToken(ba.EMPTY_BYTE_STRING,i.snapshotVersion)),qu(t,e);const r=new $c(i.target,e,n,i.sequenceNumber);Du(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Oo("RemoteStore","Failed to raise snapshot:",e),await Yu(t,e)}}async function Yu(t,e,n){if(!na(e))throw e;t.M_.add(1),await Nu(t),t.N_.set("Offline"),n||(n=()=>au(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Oo("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await $u(t)}))}function Fu(t,e){return e().catch((n=>Yu(t,n,e)))}async function Bu(t){const e=ko(t),n=ad(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Gu(e);)try{const t=await hu(e.localStore,i);if(null===t){0===e.v_.length&&n.n_();break}i=t.batchId,Hu(e,t)}catch(t){await Yu(e,t)}Ku(e)&&Ju(e)}function Gu(t){return Lu(t)&&t.v_.length<10}function Hu(t,e){t.v_.push(e);const n=ad(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Ku(t){return Lu(t)&&!ad(t).Zo()&&t.v_.length>0}function Ju(t){ad(t).start()}async function td(t){ad(t).V_()}async function ed(t){const e=ad(t);for(const n of t.v_)e.d_(n.mutations)}async function nd(t,e,n){const i=t.v_.shift(),r=Ah.from(i,e,n);await Fu(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Bu(t)}async function id(t,e){e&&ad(t).E_&&await async function(t,e){if(function(t){return Dh(t)&&t!==So.ABORTED}(e.code)){const n=t.v_.shift();ad(t).t_(),await Fu(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Bu(t)}}(t,e),Ku(t)&&Ju(t)}async function rd(t,e){const n=ko(t);n.asyncQueue.verifyOperationInProgress(),Oo("RemoteStore","RemoteStore received new credentials");const i=Lu(n);n.M_.add(3),await Nu(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await $u(n)}async function sd(t,e){const n=ko(t);e?(n.M_.delete(2),await $u(n)):e||(n.M_.add(2),await Nu(n),n.N_.set("Unknown"))}function od(t){return t.B_||(t.B_=function(t,e,n){const i=ko(t);return i.f_(),new Tu(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Po:zu.bind(null,t),To:Vu.bind(null,t),Ao:Zu.bind(null,t),h_:Xu.bind(null,t)}),t.x_.push((async e=>{e?(t.B_.t_(),Uu(t)?ju(t):t.N_.set("Unknown")):(await t.B_.stop(),Wu(t))}))),t.B_}function ad(t){return t.k_||(t.k_=function(t,e,n){const i=ko(t);return i.f_(),new Cu(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:td.bind(null,t),Ao:id.bind(null,t),R_:ed.bind(null,t),A_:nd.bind(null,t)}),t.x_.push((async e=>{e?(t.k_.t_(),await Bu(t)):(await t.k_.stop(),t.v_.length>0&&(Oo("RemoteStore","Stopping write stream with ".concat(t.v_.length," pending writes")),t.v_=[]))}))),t.k_}class ld{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new ld(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Po(So.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(t,e){if(yo("AsyncQueue","".concat(e,": ").concat(t)),na(t))return new Po(So.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class cd{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Zo.comparator(e.key,n.key):(t,e)=>Zo.comparator(t.key,e.key),this.keyedMap=zl(),this.sortedSet=new fa(this.comparator)}static emptySet(t){return new cd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof cd))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new cd;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class ud{constructor(){this.q_=new fa(Zo.comparator)}track(t){const e=t.doc.key,n=this.q_.get(e);n?0!==t.type&&3===n.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==n.type?this.q_=this.q_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.q_=this.q_.remove(e):1===t.type&&2===n.type?this.q_=this.q_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):wo():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class dd{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new dd(t,e,cd.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Al(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class fd{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((t=>t.G_()))}}class pd{constructor(){this.queries=new jl((t=>$l(t)),Al),this.onlineState="Unknown",this.z_=new Set}}async function gd(t,e){const n=ko(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new fd,i=e.G_()?0:1);try{switch(i){case 0:s.K_=await n.onListen(r,!0);break;case 1:s.K_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(t){const n=hd(t,"Initialization of query '".concat(Nl(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&vd(n)}async function md(t,e){const n=ko(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const t=s.U_.indexOf(e);t>=0&&(s.U_.splice(t,1),0===s.U_.length?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Od(t,e){const n=ko(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.U_)t.H_(r)&&(i=!0);e.K_=r}}i&&vd(n)}function yd(t,e,n){const i=ko(t),r=i.queries.get(e);if(r)for(const s of r.U_)s.onError(n);i.queries.delete(e)}function vd(t){t.z_.forEach((t=>{t.next()}))}var bd,wd;(wd=bd||(bd={})).J_="default",wd.Cache="cache";class xd{constructor(t,e,n){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new dd(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){if(!t.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==e;return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){if(t.docChanges.length>0)return!0;const e=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}na(t){t=dd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==bd.Cache}}class kd{constructor(t){this.key=t}}class Sd{constructor(t){this.key=t}}class Pd{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Gl(),this.mutatedKeys=Gl(),this.Ia=Dl(t),this.Ta=new cd(this.Ia)}get Ea(){return this.la}da(t,e){const n=e?e.Aa:new ud,i=e?e.Ta:this.Ta;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const h=i.get(t),c=Il(this.query,e)?e:null,u=!!h&&this.mutatedKeys.has(h.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;h&&c?h.data.isEqual(c.data)?u!==d&&(n.track({type:3,doc:c}),f=!0):this.Ra(h,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Ia(c,a)>0||l&&this.Ia(c,l)<0)&&(o=!0)):!h&&c?(n.track({type:0,doc:c}),f=!0):h&&!c&&(n.track({type:1,doc:h}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:r}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const r=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const s=t.Aa.Q_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wo()}};return n(t)-n(e)}(t.type,e.type)||this.Ia(t.doc,e.doc))),this.Va(n),i=null!=i&&i;const o=e&&!i?this.ma():[],a=0===this.Pa.size&&this.current&&!i?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new dd(this.query,t.Ta,r,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ud,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach((t=>this.la=this.la.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.la=this.la.delete(t))),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Gl(),this.Ta.forEach((t=>{this.ga(t.key)&&(this.Pa=this.Pa.add(t.key))}));const e=[];return t.forEach((t=>{this.Pa.has(t)||e.push(new Sd(t))})),this.Pa.forEach((n=>{t.has(n)||e.push(new kd(n))})),e}pa(t){this.la=t.hs,this.Pa=Gl();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return dd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class _d{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Qd{constructor(t){this.key=t,this.wa=!1}}class Td{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new jl((t=>$l(t)),Al),this.Da=new Map,this.Ca=new Set,this.va=new fa(Zo.comparator),this.Fa=new Map,this.Ma=new Xc,this.xa={},this.Oa=new Map,this.Na=Uc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Cd(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=Gd(t);let r;const s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=await Rd(i,e,n,!0),r}async function Ed(t,e){const n=Gd(t);await Rd(n,e,!0,!1)}async function Rd(t,e,n,i){const r=await cu(t.localStore,Tl(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await Ad(t,e,s,"current"===o,r.resumeToken)),t.isPrimaryClient&&n&&Iu(t.remoteStore,r),a}async function Ad(t,e,n,i,r){t.Ba=(e,n,i)=>async function(t,e,n,i){let r=e.view.da(n);r.Xi&&(r=await du(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.da(n,r)})));const s=i&&i.targetChanges.get(e.targetId),o=i&&null!=i.targetMismatches.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,s,o);return Vd(t,e.targetId,a.fa),a.snapshot}(t,e,n,i);const s=await du(t.localStore,e,!0),o=new Pd(e,s.hs),a=o.da(s.documents),l=Yh.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),h=o.applyChanges(a,t.isPrimaryClient,l);Vd(t,n,h.fa);const c=new _d(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function $d(t,e,n){const i=ko(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter((t=>!Al(t,e)))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await uu(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Mu(i.remoteStore,r.targetId),Wd(i,r.targetId)})).catch(Jo)):(Wd(i,r.targetId),await uu(i.localStore,r.targetId,!0))}async function Nd(t,e){const n=ko(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Mu(n.remoteStore,i.targetId))}async function Id(t,e){const n=ko(t);try{const t=await function(t,e){const n=ko(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const o=[];e.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(t,s.addedDocuments,a))));let h=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?h=h.withResumeToken(ba.EMPTY_BYTE_STRING,Uo.min()).withLastLimboFreeSnapshotVersion(Uo.min()):s.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(s.resumeToken,i)),r=r.insert(a,h),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,h,s)&&o.push(n.Qr.updateTargetData(t,h))}));let a=Ll(),l=Gl();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(lu(t,s,e.documentUpdates).next((t=>{a=t.cs,l=t.ls}))),!i.isEqual(Uo.min())){const e=n.Qr.getLastRemoteSnapshotVersion(t).next((e=>n.Qr.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return ta.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.ns=r,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.Fa.get(e);i&&(xo(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.wa=!0:t.modifiedDocuments.size>0?xo(i.wa):t.removedDocuments.size>0&&(xo(i.wa),i.wa=!1))})),await Yd(n,t,e)}catch(t){await Jo(t)}}function Md(t,e,n){const i=ko(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.ba.forEach(((n,i)=>{const r=i.view.j_(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=ko(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.U_)r.j_(e)&&(i=!0)})),i&&vd(n)}(i.eventManager,e),t.length&&i.Sa.h_(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Dd(t,e,n){const i=ko(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Fa.get(e),s=r&&r.key;if(s){let t=new fa(Zo.comparator);t=t.insert(s,Fa.newNoDocument(s,Uo.min()));const n=Gl().add(s),r=new Xh(Uo.min(),new Map,new fa(Do),t,n);await Id(i,r),i.va=i.va.remove(s),i.Fa.delete(e),Xd(i)}else await uu(i.localStore,e,!1).then((()=>Wd(i,e,n))).catch(Jo)}async function qd(t,e){const n=ko(t),i=e.batch.batchId;try{const t=await function(t,e){const n=ko(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=ta.resolve();return s.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);xo(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Gl();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(n.localStore,e);Ld(n,i,null),Ud(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Yd(n,t)}catch(t){await Jo(t)}}async function jd(t,e,n){const i=ko(t);try{const t=await function(t,e){const n=ko(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(xo(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);Ld(i,e,n),Ud(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Yd(i,t)}catch(n){await Jo(n)}}function Ud(t,e){(t.Oa.get(e)||[]).forEach((t=>{t.resolve()})),t.Oa.delete(e)}function Ld(t,e,n){const i=ko(t);let r=i.xa[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Wd(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach((e=>{t.Ma.containsKey(e)||zd(t,e)}))}function zd(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);null!==n&&(Mu(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Xd(t))}function Vd(t,e,n){for(const i of n)i instanceof kd?(t.Ma.addReference(i.key,e),Zd(t,i)):i instanceof Sd?(Oo("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||zd(t,i.key)):wo()}function Zd(t,e){const n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(Oo("SyncEngine","New document in limbo: "+n),t.Ca.add(i),Xd(t))}function Xd(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Zo(Wo.fromString(e)),i=t.Na.next();t.Fa.set(i,new Qd(n)),t.va=t.va.insert(n,i),Iu(t.remoteStore,new $c(Tl(Sl(n.path)),i,"TargetPurposeLimboResolution",ia.oe))}}async function Yd(t,e,n){const i=ko(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach(((t,a)=>{o.push(i.Ba(a,e,n).then((t=>{var e;if((t||n)&&i.isPrimaryClient){const r=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(t){r.push(t);const e=eu.Ki(a.targetId,t);s.push(e)}})))})),await Promise.all(o),i.Sa.h_(r),await async function(t,e){const n=ko(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>ta.forEach(e,(e=>ta.forEach(e.qi,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>ta.forEach(e.Qi,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!na(t))throw t;Oo("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.ns.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.ns=n.ns.insert(t,r)}}}(i.localStore,s))}async function Fd(t,e){const n=ko(t);if(!n.currentUser.isEqual(e)){Oo("SyncEngine","User change. New user:",e.toKey());const t=await ou(n.localStore,e);n.currentUser=e,function(t,e){t.Oa.forEach((t=>{t.forEach((t=>{t.reject(new Po(So.CANCELLED,e))}))})),t.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Yd(n,t.us)}}function Bd(t,e){const n=ko(t),i=n.Fa.get(e);if(i&&i.wa)return Gl().add(i.key);{let t=Gl();const i=n.Da.get(e);if(!i)return t;for(const e of i){const i=n.ba.get(e);t=t.unionWith(i.view.Ea)}return t}}function Gd(t){const e=ko(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Id.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dd.bind(null,e),e.Sa.h_=Od.bind(null,e.eventManager),e.Sa.ka=yd.bind(null,e.eventManager),e}function Hd(t){const e=ko(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jd.bind(null,e),e}class Kd{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Pu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return su(this.persistence,new iu,t.initialUser,this.serializer)}createPersistence(t){return new Kc(tu.Hr,this.serializer)}createSharedClientState(t){return new gu}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jd{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Md(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fd.bind(null,this.syncEngine),await sd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new pd}createDatastore(t){const e=Pu(t.databaseInfo.databaseId),n=function(t){return new ku(t)}(t.databaseInfo);return function(t,e,n,i){return new Eu(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,i,r){return new Au(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,(t=>Md(this.syncEngine,t,0)),Ou.D()?new Ou:new mu)}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new Td(t,e,n,i,r,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t;await async function(t){const e=ko(t);Oo("RemoteStore","RemoteStore shutting down."),e.M_.add(5),await Nu(e),e.O_.shutdown(),e.N_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate()}}class tf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):yo("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class ef{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=fo.UNAUTHENTICATED,this.clientId=Mo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Oo("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Oo("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Po(So.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(RS){const n=hd(RS,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function nf(t,e){t.asyncQueue.verifyOperationInProgress(),Oo("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await ou(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await of(t);Oo("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>rd(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>rd(e.remoteStore,n))),t._onlineComponents=e}function sf(t){return"FirebaseError"===t.name?t.code===So.FAILED_PRECONDITION||t.code===So.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function of(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oo("FirestoreClient","Using user provided OfflineComponentProvider");try{await nf(t,t._uninitializedComponentsProvider._offline)}catch(RS){const n=RS;if(!sf(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await nf(t,new Kd)}}else Oo("FirestoreClient","Using default OfflineComponentProvider"),await nf(t,new Kd);return t._offlineComponents}async function af(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oo("FirestoreClient","Using user provided OnlineComponentProvider"),await rf(t,t._uninitializedComponentsProvider._online)):(Oo("FirestoreClient","Using default OnlineComponentProvider"),await rf(t,new Jd))),t._onlineComponents}function lf(t){return af(t).then((t=>t.syncEngine))}async function hf(t){const e=await af(t),n=e.eventManager;return n.onListen=Cd.bind(null,e.syncEngine),n.onUnlisten=$d.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ed.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nd.bind(null,e.syncEngine),n}function cf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new _o;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new tf({next:s=>{e.enqueueAndForget((()=>md(t,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Po(So.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Po(So.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new xd(Sl(n.path),s,{includeMetadataChanges:!0,ra:!0});return gd(t,o)}(await hf(t),t.asyncQueue,e,n,i))),i.promise}function uf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new _o;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new tf({next:n=>{e.enqueueAndForget((()=>md(t,o))),n.fromCache&&"server"===i.source?r.reject(new Po(So.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new xd(n,s,{includeMetadataChanges:!0,ra:!0});return gd(t,o)}(await hf(t),t.asyncQueue,e,n,i))),i.promise}function df(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const ff=new Map;function pf(t,e,n){if(!n)throw new Po(So.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function gf(t){if(!Zo.isDocumentKey(t))throw new Po(So.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function mf(t){if(Zo.isDocumentKey(t))throw new Po(So.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Of(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":wo()}function yf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Po(So.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(t);throw new Po(So.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class vf{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Po(So.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Po(So.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new Po(So.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=df(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Po(So.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new Po(So.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new Po(So.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bf{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Po(So.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Po(So.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vf(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new To;switch(t.type){case"firstParty":return new Ao(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Po(So.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=ff.get(t);e&&(Oo("ComponentProvider","Removing Datastore"),ff.delete(t),e.terminate())}(this),Promise.resolve()}}class wf{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new wf(this.firestore,t,this._query)}}class xf{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xf(this.firestore,t,this._key)}}class kf extends wf{constructor(t,e,n){super(t,e,Sl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xf(this.firestore,null,new Zo(t))}withConverter(t){return new kf(this.firestore,t,this._path)}}function Sf(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Kt(t),pf("collection","path",e),t instanceof bf){const n=Wo.fromString(e,...i);return mf(n),new kf(t,null,n)}{if(!(t instanceof xf||t instanceof kf))throw new Po(So.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Wo.fromString(e,...i));return mf(n),new kf(t.firestore,null,n)}}function Pf(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Kt(t),1===arguments.length&&(e=Mo.newId()),pf("doc","path",e),t instanceof bf){const n=Wo.fromString(e,...i);return gf(n),new xf(t,null,new Zo(n))}{if(!(t instanceof xf||t instanceof kf))throw new Po(So.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Wo.fromString(e,...i));return gf(n),new xf(t.firestore,t instanceof kf?t.converter:null,new Zo(n))}}class _f{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new _u(this,"async_queue_retry"),this.hu=()=>{const t=Su();t&&Oo("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const t=Su();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=Su();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise((()=>{}));const e=new _o;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.su.push(t),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(S5){if(!na(S5))throw S5;Oo("AsyncQueue","Operation failed with retryable error: "+S5)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(t){const e=this.iu.then((()=>(this.uu=!0,t().catch((t=>{this.au=t,this.uu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw yo("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.uu=!1,t))))));return this.iu=e,e}enqueueAfterDelay(t,e,n){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const i=ld.createAndSchedule(this,t,e,n,(t=>this.Eu(t)));return this._u.push(i),i}Pu(){this.au&&wo()}verifyOperationInProgress(){}async du(){let t;do{t=this.iu,await t}while(t!==this.iu)}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then((()=>{this._u.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()}))}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}class Qf extends bf{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new _f,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cf(this),this._firestoreClient.terminate()}}function Tf(t){return t._firestoreClient||Cf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cf(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new Ta(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,df(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new ef(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Ef{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ef(ba.fromBase64String(t))}catch(t){throw new Po(So.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Ef(ba.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rf{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Po(So.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vo(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Af{constructor(t){this._methodName=t}}class $f{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Po(So.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Po(So.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Do(this._lat,t._lat)||Do(this._long,t._long)}}const Nf=/^__.*__$/;class If{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Ph(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sh(t,this.data,e,this.fieldTransforms)}}class Mf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Ph(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Df(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wo()}}class qf{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.mu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new qf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:n,yu:!1});return i.wu(t),i}Su(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:n,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return ep(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(Df(this.fu)&&Nf.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class jf{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Pu(t)}Fu(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qf({fu:t,methodName:e,vu:n,path:Vo.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uf(t){const e=t._freezeSettings(),n=Pu(t._databaseId);return new jf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lf(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);Hf("Data must be an object, but it was:",o,i);const a=Bf(i,o);let l,h;if(s.merge)l=new ya(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=Kf(e,i,n);if(!o.contains(r))throw new Po(So.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));np(t,r)||t.push(r)}l=new ya(t),h=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,h=o.fieldTransforms;return new If(new Xa(a),l,h)}class Wf extends Af{_toFieldTransform(t){if(2!==t.fu)throw 1===t.fu?t.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):t.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wf}}function zf(t,e,n){return new qf({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vf extends Af{constructor(t,e){super(t),this.Mu=e}_toFieldTransform(t){const e=zf(this,t,!0),n=this.Mu.map((t=>Ff(t,e))),i=new ah(n);return new ph(t.path,i)}isEqual(t){return t instanceof Vf&&Zt(this.Mu,t.Mu)}}function Zf(t,e,n,i){const r=t.Fu(1,e,n);Hf("Data must be an object, but it was:",r,i);const s=[],o=Xa.empty();ua(i,((t,i)=>{const a=tp(e,t,n);i=Kt(i);const l=r.Su(a);if(i instanceof Wf)s.push(a);else{const t=Ff(i,l);null!=t&&(s.push(a),o.set(a,t))}}));const a=new ya(s);return new Mf(o,a,r.fieldTransforms)}function Xf(t,e,n,i,r,s){const o=t.Fu(1,e,n),a=[Kf(e,i,n)],l=[r];if(s.length%2!=0)throw new Po(So.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Kf(e,s[d])),l.push(s[d+1]);const h=[],c=Xa.empty();for(let d=a.length-1;d>=0;--d)if(!np(h,a[d])){const t=a[d];let e=l[d];e=Kt(e);const n=o.Su(t);if(e instanceof Wf)h.push(t);else{const i=Ff(e,n);null!=i&&(h.push(t),c.set(t,i))}}const u=new ya(h);return new Mf(c,u,o.fieldTransforms)}function Yf(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ff(n,t.Fu(i?4:3,e))}function Ff(t,e){if(Gf(t=Kt(t)))return Hf("Unsupported field value:",e,t),Bf(t,e);if(t instanceof Af)return function(t,e){if(!Df(e.fu))throw e.Du("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.Du("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=Ff(r,e.bu(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Kt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eh(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=jo.fromDate(t);return{timestampValue:oc(e.serializer,n)}}if(t instanceof jo){const n=new jo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:oc(e.serializer,n)}}if(t instanceof $f)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ef)return{bytesValue:ac(e.serializer,t._byteString)};if(t instanceof xf){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Du("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Du("Unsupported field value: ".concat(Of(t)))}(t,e)}function Bf(t,e){const n={};return da(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,((t,i)=>{const r=Ff(i,e.pu(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Gf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jo||t instanceof $f||t instanceof Ef||t instanceof xf||t instanceof Af)}function Hf(t,e,n){if(!Gf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Of(n);throw"an object"===i?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function Kf(t,e,n){if((e=Kt(e))instanceof Rf)return e._internalPath;if("string"==typeof e)return tp(t,e);throw ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jf=new RegExp("[~\\*/\\[\\]]");function tp(t,e,n){if(e.search(Jf)>=0)throw ep("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch(i){throw ep("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function ep(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new Po(So.INVALID_ARGUMENT,a+t+l)}function np(t,e){return t.some((t=>t.isEqual(e)))}class ip{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new xf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new rp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(sp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class rp extends ip{data(){return super.data()}}function sp(t,e){return"string"==typeof e?tp(t,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}function op(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Po(So.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class lp extends ap{}function hp(t,e){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];e instanceof ap&&n.push(e),n=n.concat(r),function(t){const e=t.filter((t=>t instanceof dp)).length,n=t.filter((t=>t instanceof cp)).length;if(e>1||e>0&&n>0)throw new Po(So.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}class cp extends lp{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new cp(t,e,n)}_apply(t){const e=this._parse(t);return Op(t._query,e),new wf(t.firestore,t.converter,El(t._query,e))}_parse(t){const e=Uf(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Po(So.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){mp(o,s);const e=[];for(const n of o)e.push(gp(i,t,n));a={arrayValue:{values:e}}}else a=gp(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||mp(o,s),a=Yf(n,e,o,"in"===s||"not-in"===s);return el.create(r,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function up(t,e,n){const i=e,r=sp("where",t);return cp._create(r,i,n)}class dp extends ap{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new dp(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:nl.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)Op(n,r),n=El(n,r)}(t._query,e),new wf(t.firestore,t.converter,El(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fp extends lp{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new fp(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Po(So.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Po(So.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ka(e,n)}(t._query,this._field,this._direction);return new wf(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new xl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function pp(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=sp("orderBy",t);return fp._create(n,e)}function gp(t,e,n){if("string"==typeof(n=Kt(n))){if(""===n)throw new Po(So.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(e)&&-1!==n.indexOf("/"))throw new Po(So.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(Wo.fromString(n));if(!Zo.isDocumentKey(i))throw new Po(So.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return qa(t,new Zo(i))}if(n instanceof xf)return qa(t,n._key);throw new Po(So.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Of(n),"."))}function mp(t,e){if(!Array.isArray(t)||0===t.length)throw new Po(So.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Op(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Po(So.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new Po(So.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class yp{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ka(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw wo()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ua(t,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new $f(ka(t.latitude),ka(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=_a(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Qa(t));default:return null}}convertTimestamp(t){const e=xa(t);return new jo(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Wo.fromString(t);xo(Ac(n));const i=new Ca(n.get(1),n.get(3)),r=new Zo(n.popFirst(5));return i.isEqual(e)||yo("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}function vp(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class bp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wp extends ip{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class xp extends wp{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class kp{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new bp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new xp(this._firestore,this._userDataWriter,n.key,n,new bp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Po(So.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new xp(t._firestore,t._userDataWriter,n.doc.key,n.doc,new bp(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new xp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Sp(e.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wo()}}function Pp(t){t=yf(t,xf);const e=yf(t.firestore,Qf);return cf(Tf(e),t._key).then((n=>$p(e,t,n)))}class _p extends yp{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ef(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new xf(this.firestore,null,e)}}function Qp(t){t=yf(t,wf);const e=yf(t.firestore,Qf),n=Tf(e),i=new _p(e);return op(t._query),uf(n,t._query).then((n=>new kp(e,i,t,n)))}function Tp(t,e,n){t=yf(t,xf);const i=yf(t.firestore,Qf),r=vp(t.converter,e,n);return Ap(i,[Lf(Uf(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,mh.none())])}function Cp(t,e,n){t=yf(t,xf);const i=yf(t.firestore,Qf),r=Uf(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(e=Kt(e))||e instanceof Rf?Xf(r,"updateDoc",t._key,e,n,a):Zf(r,"updateDoc",t._key,e),Ap(i,[s.toMutation(t._key,mh.exists(!0))])}function Ep(t){return Ap(yf(t.firestore,Qf),[new Ch(t._key,mh.none())])}function Rp(t,e){const n=yf(t.firestore,Qf),i=Pf(t),r=vp(t.converter,e);return Ap(n,[Lf(Uf(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,mh.exists(!1))]).then((()=>i))}function Ap(t,e){return function(t,e){const n=new _o;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const i=Hd(t);try{const t=await function(t,e){const n=ko(t),i=jo.now(),r=e.reduce(((t,e)=>t.add(e.key)),Gl());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Ll(),l=Gl();return n.os.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=xh(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Ph(t.key,e,Ya(e.value.mapValue),mh.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)})).next((e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:Vl(s)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.xa[t.currentUser.toKey()];i||(i=new fa(Do)),i=i.insert(e,n),t.xa[t.currentUser.toKey()]=i}(i,t.batchId,n),await Yd(i,t.changes),await Bu(i.remoteStore)}catch(t){const e=hd(t,"Failed to persist write");n.reject(e)}}(await lf(t),e,n))),n.promise}(Tf(t),e)}function $p(t,e,n){const i=n.docs.get(e._key),r=new _p(t);return new wp(t,r,e._key,i,new bp(n.hasPendingWrites,n.fromCache),e.converter)}function Np(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Vf("arrayUnion",e)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){po=t}(pn),hn(new Jt("firestore",((t,n)=>{let{instanceIdentifier:i,options:r}=n;const s=t.getProvider("app").getImmediate(),o=new Qf(new Eo(t.getProvider("auth-internal")),new No(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Po(So.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(t.options.projectId,e)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),On(uo,"4.6.4",t),On(uo,"4.6.4","esm2017")}();const Ip="firebasestorage.googleapis.com",Mp="storageBucket";class Dp extends Wt{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Up(t),"Firebase Storage: ".concat(e," (").concat(Up(t),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dp.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Up(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var qp,jp;function Up(t){return"storage/"+t}function Lp(){return new Dp(qp.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Wp(){return new Dp(qp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zp(){return new Dp(qp.CANCELED,"User canceled the upload/download.")}function Vp(){return new Dp(qp.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zp(t){return new Dp(qp.INVALID_ARGUMENT,t)}function Xp(){return new Dp(qp.APP_DELETED,"The Firebase app was deleted.")}function Yp(t,e){return new Dp(qp.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fp(t){throw new Dp(qp.INTERNAL_ERROR,"Internal error: "+t)}!function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(qp||(qp={}));class Bp{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=Bp.makeFromUrl(t,e)}catch(S5){return new Bp(t,"")}if(""===n.path)return n;throw i=t,new Dp(qp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(e===Ip?"(?:storage.googleapis.com|storage.cloud.google.com)":e,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const e=a[l],i=e.regex.exec(t);if(i){const t=i[e.indices.bucket];let r=i[e.indices.path];r||(r=""),n=new Bp(t,r),e.postModify(n);break}}if(null==n)throw function(t){return new Dp(qp.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return n}}class Gp{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(){}}function Hp(t){return"string"===typeof t||t instanceof String}function Kp(t){return Jp()&&t instanceof Blob}function Jp(){return"undefined"!==typeof Blob}function tg(t,e,n,i){if(i<e)throw Zp("Invalid value for '".concat(t,"'. Expected ").concat(e," or greater."));if(i>n)throw Zp("Invalid value for '".concat(t,"'. Expected ").concat(n," or less."))}function eg(t,e,n){let i=e;return null==n&&(i="https://".concat(e)),"".concat(n,"://").concat(i,"/v0").concat(t)}function ng(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){n=n+(e(i)+"="+e(t[i]))+"&"}return n=n.slice(0,-1),n}function ig(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),r=-1!==e.indexOf(t);return n||i||r}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(jp||(jp={}));class rg{constructor(t,e,n,i,r,s,o,a,l,h,c){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=c,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new sg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const e=n.getErrorCode()===jp.NO_ERROR,r=n.getStatus();if(!e||ig(r,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===jp.ABORT;return void t(!1,new sg(!1,null,e))}const s=-1!==this.successCodes_.indexOf(r);t(!0,new sg(s,n))}))},e=(t,e)=>{const n=this.resolve_,i=this.reject_,r=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(r,r.getResponse());!function(t){return void 0!==t}(t)?n():n(t)}catch(S5){i(S5)}else if(null!==r){const t=Lp();t.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,t)):i(t)}else if(e.canceled){i(this.appDelete_?Xp():zp())}else{i(Wp())}};this.canceled_?e(0,new sg(!1,null,!0)):this.backoffId_=function(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let h=!1;function c(){if(!h){h=!0;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.apply(null,n)}}function u(e){r=setTimeout((()=>{r=null,t(f,l())}),e)}function d(){s&&clearTimeout(s)}function f(t){if(h)return void d();for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(t)return d(),void c.call(null,t,...n);if(l()||o)return d(),void c.call(null,t,...n);let s;i<64&&(i*=2),1===a?(a=2,s=0):s=1e3*(i+Math.random()),u(s)}let p=!1;function g(t){p||(p=!0,d(),h||(null!==r?(t||(a=2),clearTimeout(r),u(0)):t||(a=1)))}return u(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sg{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function og(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ag(){const t=og();for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(void 0!==t){const e=new t;for(let t=0;t<n.length;t++)e.append(n[t]);return e.getBlob()}if(Jp())return new Blob(n);throw new Dp(qp.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function lg(t){if("undefined"===typeof atob)throw e="base-64",new Dp(qp.UNSUPPORTED_ENVIRONMENT,"".concat(e," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var e;return atob(t)}const hg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cg{constructor(t,e){this.data=t,this.contentType=e||null}}function ug(t,e){switch(t){case hg.RAW:return new cg(dg(e));case hg.BASE64:case hg.BASE64URL:return new cg(fg(t,e));case hg.DATA_URL:return new cg(function(t){const e=new pg(t);return e.base64?fg(hg.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(S5){throw Yp(hg.DATA_URL,"Malformed data URL.")}return dg(e)}(e.rest)}(e),function(t){const e=new pg(t);return e.contentType}(e))}throw Lp()}function dg(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296===(64512&i)){if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&t.charCodeAt(++n),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189)}else 56320===(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function fg(t,e){switch(t){case hg.BASE64:{const n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i){throw Yp(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case hg.BASE64URL:{const n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(n||i){throw Yp(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lg(e)}catch(S5){if(S5.message.includes("polyfill"))throw S5;throw Yp(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class pg{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Yp(hg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=function(t,e){if(!(t.length>=e.length))return!1;return t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}class gg{constructor(t,e){let n=0,i="";Kp(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(Kp(this.data_)){const n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new gg(n)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new gg(n,!0)}}static getBlob(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Jp()){const t=e.map((t=>t instanceof gg?t.data_:t));return new gg(ag.apply(null,t))}{const t=e.map((t=>Hp(t)?ug(hg.RAW,t).data:t.data_));let n=0;t.forEach((t=>{n+=t.byteLength}));const i=new Uint8Array(n);let r=0;return t.forEach((t=>{for(let e=0;e<t.length;e++)i[r++]=t[e]})),new gg(i,!0)}}uploadData(){return this.data_}}function mg(t){let e;try{e=JSON.parse(t)}catch(S5){return null}return function(t){return"object"===typeof t&&!Array.isArray(t)}(e)?e:null}function Og(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function yg(t,e){return e}class vg{constructor(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||yg}}let bg=null;function wg(){if(bg)return bg;const t=[];t.push(new vg("bucket")),t.push(new vg("generation")),t.push(new vg("metageneration")),t.push(new vg("name","fullPath",!0));const e=new vg("name");e.xform=function(t,e){return function(t){return!Hp(t)||t.length<2?t:Og(t)}(e)},t.push(e);const n=new vg("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new vg("timeCreated")),t.push(new vg("updated")),t.push(new vg("md5Hash",null,!0)),t.push(new vg("cacheControl",null,!0)),t.push(new vg("contentDisposition",null,!0)),t.push(new vg("contentEncoding",null,!0)),t.push(new vg("contentLanguage",null,!0)),t.push(new vg("contentType",null,!0)),t.push(new vg("metadata","customMetadata",!0)),bg=t,bg}function xg(t,e,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const t=n[s];i[t.local]=t.xform(i,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,i=t.fullPath,r=new Bp(n,i);return e._makeStorageReference(r)}})}(i,t),i}function kg(t,e,n){const i=mg(e);if(null===i)return null;return xg(t,i,n)}function Sg(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Pg{constructor(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _g(t){if(!t)throw Lp()}function Qg(t,e){return function(n,i){const r=kg(t,i,e);return _g(null!==r),r}}function Tg(t,e){return function(n,i){const r=kg(t,i,e);return _g(null!==r),function(t,e,n,i){const r=mg(e);if(null===r)return null;if(!Hp(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((e=>{const r=t.bucket,s=t.fullPath;return eg("/b/"+o(r)+"/o/"+o(s),n,i)+ng({alt:"media",token:e})}))[0]}(r,i,t.host,t._protocol)}}function Cg(t){return function(e,n){let i;var r,s;return 401===e.getStatus()?i=e.getErrorText().includes("Firebase App Check token is invalid")?new Dp(qp.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Dp(qp.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(s=t.bucket,i=new Dp(qp.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,i=new Dp(qp.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.status=e.getStatus(),i.serverResponse=n.serverResponse,i}}function Eg(t){const e=Cg(t);return function(n,i){let r=e(n,i);var s;return 404===n.getStatus()&&(s=t.path,r=new Dp(qp.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function Rg(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}function Ag(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const l=Rg(e,i,r),h="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Sg(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",u=gg.getBlob(h,i,c);if(null===u)throw Vp();const d={name:l.fullPath},f=eg(s,t.host,t._protocol),p=t.maxUploadRetryTime,g=new Pg(f,"POST",Qg(t,n),p);return g.urlParams=d,g.headers=o,g.body=u.uploadData(),g.errorHandler=Cg(e),g}let $g=null;class Ng{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jp.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=jp.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=jp.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,i){if(this.sent_)throw Fp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(S5){return-1}}getResponse(){if(!this.sent_)throw Fp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Ig extends Ng{initXhr(){this.xhr_.responseType="text"}}function Mg(){return $g?$g():new Ig}class Dg{constructor(t,e){this._service=t,this._location=e instanceof Bp?e:Bp.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Dg(t,e)}get root(){const t=new Bp(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Og(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new Bp(this._location.bucket,t);return new Dg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new Dp(qp.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function qg(t,e,n){t._throwIfRoot("uploadBytes");const i=Ag(t.storage,t._location,wg(),new gg(e,!0),n);return t.storage.makeRequestWithTokens(i,Mg).then((e=>({metadata:e,ref:t})))}function jg(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,n){const i=eg(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new Pg(i,"GET",Tg(t,n),r);return s.errorHandler=Eg(e),s}(t.storage,t._location,wg());return t.storage.makeRequestWithTokens(e,Mg).then((t=>{if(null===t)throw new Dp(qp.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}function Ug(t,e){const n=function(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new Bp(t._location.bucket,n);return new Dg(t.storage,i)}function Lg(t,e){if(t instanceof Vg){const n=t;if(null==n._bucket)throw new Dp(qp.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mp+"' property when initializing the app?");const i=new Dg(n,n._bucket);return null!=e?Lg(i,e):i}return void 0!==e?Ug(t,e):t}function Wg(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof Vg)return function(t,e){return new Dg(t,e)}(t,e);throw Zp("To use ref(service, url), the first argument must be a Storage instance.")}return Lg(t,e)}function zg(t,e){const n=null===e||void 0===e?void 0:e[Mp];return null==n?null:Bp.makeFromBucketSpec(n,t)}class Vg{constructor(t,e,n,i,r){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=Ip,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Bp.makeFromBucketSpec(i,this._host):zg(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=Bp.makeFromBucketSpec(this._url,t):this._bucket=zg(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Dg(this,t)}_makeRequest(t,e,n,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Gp(Xp());{const s=function(t,e,n,i,r,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=ng(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(h,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(h,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(h,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(h,i),new rg(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}(t,this._appId,n,i,e,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,i).getPromise()}}const Zg="@firebase/storage",Xg="0.12.6",Yg="storage";function Fg(t,e,n){return qg(t=Kt(t),e,n)}function Bg(t){return jg(t=Kt(t))}function Gg(t,e){return Wg(t=Kt(t),e)}function Hg(t,e){let{instanceIdentifier:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Vg(i,r,s,n,pn)}hn(new Jt(Yg,Hg,"PUBLIC").setMultipleInstances(!0)),On(Zg,Xg,""),On(Zg,Xg,"esm2017");const Kg=JSON.parse('{"A":[{"title":"Python Basic Math Operations","description":"Complete these coding tasks to test basic math operations in Python.","questions":[{"id":"q1","codingQuestion":"Write a Python function to add two numbers.","functionName":"add","lesson":"Addition Function","difficulty":"Easy","xp":10},{"id":"q2","codingQuestion":"Write a Python function to subtract two numbers.","functionName":"subtract","lesson":"Subtraction Function","difficulty":"Easy","xp":10},{"id":"q3","codingQuestion":"Write a Python function to multiply two numbers.","functionName":"multiply","lesson":"Multiplication Function","difficulty":"Easy","xp":10},{"id":"q4","codingQuestion":"Write a Python function to divide two numbers.","functionName":"divide","lesson":"Division Function","difficulty":"Easy","xp":10},{"id":"q5","codingQuestion":"Write a Python function to find the power of a number.","functionName":"power","lesson":"Power Function","difficulty":"Medium","xp":20},{"id":"q6","codingQuestion":"Write a Python function to find the modulo of two numbers.","functionName":"mod","lesson":"Modulo Function","difficulty":"Medium","xp":20},{"id":"q7","codingQuestion":"Write a Python function to find the maximum of two numbers.","functionName":"find_max","lesson":"Max Function","difficulty":"Easy","xp":10},{"id":"q8","codingQuestion":"Write a Python function to check if a number is even.","functionName":"is_even","lesson":"Even Check Function","difficulty":"Easy","xp":10},{"id":"q9","codingQuestion":"Write a Python function to calculate the factorial of a number.","functionName":"factorial","lesson":"Factorial Function","difficulty":"Hard","xp":30},{"id":"q10","codingQuestion":"Write a Python function to check if a number is prime.","functionName":"is_prime","lesson":"Prime Check Function","difficulty":"Medium","xp":20}]},{"title":"Python String Operations","description":"Complete these coding tasks to test string operations in Python.","questions":[{"id":"q11","codingQuestion":"Write a Python function to concatenate two strings.","functionName":"concat_strings","lesson":"Concatenation Function","difficulty":"Easy","xp":10},{"id":"q12","codingQuestion":"Write a Python function to find the length of a string.","functionName":"string_length","lesson":"Length Function","difficulty":"Easy","xp":10},{"id":"q13","codingQuestion":"Write a Python function to reverse a string.","functionName":"reverse_string","lesson":"Reversal Function","difficulty":"Medium","xp":20},{"id":"q14","codingQuestion":"Write a Python function to convert a string to uppercase.","functionName":"to_uppercase","lesson":"Uppercase Function","difficulty":"Easy","xp":10},{"id":"q15","codingQuestion":"Write a Python function to convert a string to lowercase.","functionName":"to_lowercase","lesson":"Lowercase Function","difficulty":"Easy","xp":10},{"id":"q16","codingQuestion":"Write a Python function to check if a string is a palindrome.","functionName":"is_palindrome","lesson":"Palindrome Check Function","difficulty":"Medium","xp":20},{"id":"q17","codingQuestion":"Write a Python function to replace a substring within a string.","functionName":"replace_substring","lesson":"Replace Function","difficulty":"Medium","xp":20},{"id":"q18","codingQuestion":"Write a Python function to find a substring within a string.","functionName":"find_substring","lesson":"Find Function","difficulty":"Easy","xp":10},{"id":"q19","codingQuestion":"Write a Python function to split a string by a delimiter.","functionName":"split_string","lesson":"Split Function","difficulty":"Easy","xp":10},{"id":"q20","codingQuestion":"Write a Python function to join a list of strings into a single string with a delimiter.","functionName":"join_strings","lesson":"Join Function","difficulty":"Medium","xp":20}]},{"title":"Python List Operations","description":"Complete these coding tasks to test list operations in Python.","questions":[{"id":"q21","codingQuestion":"Write a Python function to append an item to a list.","functionName":"append_item","lesson":"Append Function","difficulty":"Easy","xp":10},{"id":"q22","codingQuestion":"Write a Python function to remove an item from a list.","functionName":"remove_item","lesson":"Remove Function","difficulty":"Easy","xp":10},{"id":"q23","codingQuestion":"Write a Python function to find the index of an item in a list.","functionName":"find_index","lesson":"Index Function","difficulty":"Medium","xp":20},{"id":"q24","codingQuestion":"Write a Python function to sort a list.","functionName":"sort_list","lesson":"Sort Function","difficulty":"Medium","xp":20},{"id":"q25","codingQuestion":"Write a Python function to reverse a list.","functionName":"reverse_list","lesson":"Reverse Function","difficulty":"Easy","xp":10},{"id":"q26","codingQuestion":"Write a Python function to merge two lists.","functionName":"merge_lists","lesson":"Merge Function","difficulty":"Medium","xp":20},{"id":"q27","codingQuestion":"Write a Python function to find the maximum value in a list.","functionName":"max_value","lesson":"Max Function","difficulty":"Easy","xp":10},{"id":"q28","codingQuestion":"Write a Python function to find the minimum value in a list.","functionName":"min_value","lesson":"Min Function","difficulty":"Easy","xp":10},{"id":"q29","codingQuestion":"Write a Python function to count the number of occurrences of an item in a list.","functionName":"count_occurrences","lesson":"Count Function","difficulty":"Medium","xp":20},{"id":"q30","codingQuestion":"Write a Python function to remove duplicates from a list.","functionName":"remove_duplicates","lesson":"Remove Duplicates Function","difficulty":"Medium","xp":20}]},{"title":"Python Dictionary Operations","description":"Complete these coding tasks to test dictionary operations in Python.","questions":[{"id":"q31","codingQuestion":"Write a Python function to add a key-value pair to a dictionary.","functionName":"add_kv","lesson":"Add Key-Value Function","difficulty":"Easy","xp":10},{"id":"q32","codingQuestion":"Write a Python function to remove a key-value pair from a dictionary.","functionName":"remove_kv","lesson":"Remove Key-Value Function","difficulty":"Easy","xp":10},{"id":"q33","codingQuestion":"Write a Python function to find a value by key in a dictionary.","functionName":"find_value","lesson":"Find Value Function","difficulty":"Medium","xp":20},{"id":"q34","codingQuestion":"Write a Python function to merge two dictionaries.","functionName":"merge_dicts","lesson":"Merge Dictionaries Function","difficulty":"Medium","xp":20},{"id":"q35","codingQuestion":"Write a Python function to check if a key exists in a dictionary.","functionName":"key_exists","lesson":"Key Exists Function","difficulty":"Easy","xp":10},{"id":"q36","codingQuestion":"Write a Python function to get all keys in a dictionary.","functionName":"get_keys","lesson":"Get Keys Function","difficulty":"Easy","xp":10},{"id":"q37","codingQuestion":"Write a Python function to get all values in a dictionary.","functionName":"get_values","lesson":"Get Values Function","difficulty":"Easy","xp":10},{"id":"q38","codingQuestion":"Write a Python function to find the key with the maximum value in a dictionary.","functionName":"max_value_key","lesson":"Max Value Key Function","difficulty":"Medium","xp":20},{"id":"q39","codingQuestion":"Write a Python function to invert a dictionary (swap keys and values).","functionName":"invert_dict","lesson":"Invert Dictionary Function","difficulty":"Medium","xp":20},{"id":"q40","codingQuestion":"Write a Python function to sort a dictionary by its keys.","functionName":"sort_by_keys","lesson":"Sort by Keys Function","difficulty":"Medium","xp":20}]},{"title":"Python Set Operations","description":"Complete these coding tasks to test set operations in Python.","questions":[{"id":"q41","codingQuestion":"Write a Python function to add an element to a set.","functionName":"add_element","lesson":"Add Element Function","difficulty":"Easy","xp":10},{"id":"q42","codingQuestion":"Write a Python function to remove an element from a set.","functionName":"remove_element","lesson":"Remove Element Function","difficulty":"Easy","xp":10},{"id":"q43","codingQuestion":"Write a Python function to find the union of two sets.","functionName":"union_sets","lesson":"Union Function","difficulty":"Medium","xp":20},{"id":"q44","codingQuestion":"Write a Python function to find the intersection of two sets.","functionName":"intersection_sets","lesson":"Intersection Function","difficulty":"Medium","xp":20},{"id":"q45","codingQuestion":"Write a Python function to find the difference between two sets.","functionName":"difference_sets","lesson":"Difference Function","difficulty":"Medium","xp":20},{"id":"q46","codingQuestion":"Write a Python function to check if a set is a subset of another set.","functionName":"is_subset","lesson":"Subset Function","difficulty":"Medium","xp":20},{"id":"q47","codingQuestion":"Write a Python function to check if a set is a superset of another set.","functionName":"is_superset","lesson":"Superset Function","difficulty":"Medium","xp":20},{"id":"q48","codingQuestion":"Write a Python function to clear a set.","functionName":"clear_set","lesson":"Clear Set Function","difficulty":"Easy","xp":10},{"id":"q49","codingQuestion":"Write a Python function to find the length of a set.","functionName":"length_set","lesson":"Length Function","difficulty":"Easy","xp":10},{"id":"q50","codingQuestion":"Write a Python function to convert a list to a set.","functionName":"list_to_set","lesson":"Convert List Function","difficulty":"Easy","xp":10}]}]}'),Jg=JSON.parse('{"I":[{"title":"Basic Math Operations","description":"Complete these coding tasks to test basic math operations.","objective":"Understand and implement basic mathematical operations in Python.","materials":["Computer with Python installed","Text editor or IDE"],"steps":[{"title":"Addition Function","instruction":"Write a Python function to add two numbers.","steps":["Open your text editor or IDE.","Create a new Python file named \'math_operations.py\'.","Define a function named \'add\' that takes two parameters.","Inside the function, return the sum of the two parameters.","Save the file.","Example function implementation:\\n\\ndef add(a, b):\\n    return a + b"]},{"title":"Subtraction Function","instruction":"Write a Python function to subtract two numbers.","steps":["In \'math_operations.py\', define a function named \'subtract\' that takes two parameters.","Inside the function, return the difference between the first and second parameter.","Save the file.","Example function implementation:\\n\\ndef subtract(a, b):\\n    return a - b"]},{"title":"Multiplication Function","instruction":"Write a Python function to multiply two numbers.","steps":["In \'math_operations.py\', define a function named \'multiply\' that takes two parameters.","Inside the function, return the product of the two parameters.","Save the file.","Example function implementation:\\n\\ndef multiply(a, b):\\n    return a * b"]},{"title":"Division Function","instruction":"Write a Python function to divide two numbers.","steps":["In \'math_operations.py\', define a function named \'divide\' that takes two parameters.","Inside the function, return the result of dividing the first parameter by the second.","Save the file.","Example function implementation:\\n\\ndef divide(a, b):\\n    return a / b"]},{"title":"Power Function","instruction":"Write a Python function to find the power of a number.","steps":["In \'math_operations.py\', define a function named \'power\' that takes two parameters.","Inside the function, return the result of raising the first parameter to the power of the second.","Save the file.","Example function implementation:\\n\\ndef power(a, b):\\n    return a ** b"]},{"title":"Modulo Function","instruction":"Write a Python function to find the modulo of two numbers.","steps":["In \'math_operations.py\', define a function named \'mod\' that takes two parameters.","Inside the function, return the result of the modulo operation between the first and second parameters.","Save the file.","Example function implementation:\\n\\ndef mod(a, b):\\n    return a % b"]}]},{"title":"String Operations","description":"Complete these coding tasks to test string operations.","objective":"Understand and implement basic string operations in Python.","materials":["Computer with Python installed","Text editor or IDE"],"steps":[{"title":"Concatenate Strings","instruction":"Write a Python function to concatenate two strings.","steps":["Open your text editor or IDE.","Create a new Python file named \'string_operations.py\'.","Define a function named \'concat_strings\' that takes two parameters.","Inside the function, return the concatenation of the two strings.","Save the file.","Example function implementation:\\n\\ndef concat_strings(str1, str2):\\n    return str1 + str2"]}]},{"title":"Number Properties","description":"Complete these coding tasks to test number properties.","objective":"Understand and implement functions to check number properties in Python.","materials":["Computer with Python installed","Text editor or IDE"],"steps":[{"title":"Find Maximum","instruction":"Write a Python function to find the maximum of two numbers.","steps":["Open your text editor or IDE.","Create a new Python file named \'number_properties.py\'.","Define a function named \'find_max\' that takes two parameters.","Inside the function, use an if-else statement to return the larger of the two numbers.","Save the file.","Example function implementation:\\n\\ndef find_max(a, b):\\n    return a if a > b else b"]},{"title":"Check Even Number","instruction":"Write a Python function to check if a number is even.","steps":["In \'number_properties.py\', define a function named \'is_even\' that takes one parameter.","Inside the function, use the modulo operator to check if the number is even and return True or False.","Save the file.","Example function implementation:\\n\\ndef is_even(n):\\n    return n % 2 == 0"]},{"title":"Calculate Factorial","instruction":"Write a Python function to calculate the factorial of a number.","steps":["In \'number_properties.py\', define a function named \'factorial\' that takes one parameter.","Inside the function, use a loop or recursion to calculate the factorial of the number.","Save the file.","Example function implementation:\\n\\ndef factorial(n):\\n    if n == 0:\\n        return 1\\n    else:\\n        return n * factorial(n - 1)"]}]}]}'),tm=JSON.parse('{"A":[{"title":"Java Basic Math Operations","description":"Complete these coding tasks to test basic math operations in Java.","questions":[{"id":"q1","codingQuestion":"Write a Java method to add two numbers.","functionName":"add","lesson":"Addition Method","difficulty":"Easy","xp":10},{"id":"q2","codingQuestion":"Write a Java method to subtract two numbers.","functionName":"subtract","lesson":"Subtraction Method","difficulty":"Easy","xp":10},{"id":"q3","codingQuestion":"Write a Java method to multiply two numbers.","functionName":"multiply","lesson":"Multiplication Method","difficulty":"Easy","xp":10},{"id":"q4","codingQuestion":"Write a Java method to divide two numbers.","functionName":"divide","lesson":"Division Method","difficulty":"Easy","xp":10},{"id":"q5","codingQuestion":"Write a Java method to find the power of a number.","functionName":"power","lesson":"Power Method","difficulty":"Medium","xp":20},{"id":"q6","codingQuestion":"Write a Java method to find the modulo of two numbers.","functionName":"mod","lesson":"Modulo Method","difficulty":"Medium","xp":20},{"id":"q7","codingQuestion":"Write a Java method to find the maximum of two numbers.","functionName":"findMax","lesson":"Max Method","difficulty":"Easy","xp":10},{"id":"q8","codingQuestion":"Write a Java method to check if a number is even.","functionName":"isEven","lesson":"Even Check Method","difficulty":"Easy","xp":10},{"id":"q9","codingQuestion":"Write a Java method to calculate the factorial of a number.","functionName":"factorial","lesson":"Factorial Method","difficulty":"Hard","xp":30},{"id":"q10","codingQuestion":"Write a Java method to check if a number is prime.","functionName":"isPrime","lesson":"Prime Check Method","difficulty":"Medium","xp":20}]},{"title":"Java String Operations","description":"Complete these coding tasks to test string operations in Java.","questions":[{"id":"q11","codingQuestion":"Write a Java method to concatenate two strings.","functionName":"concatStrings","lesson":"Concatenation Method","difficulty":"Easy","xp":10},{"id":"q12","codingQuestion":"Write a Java method to find the length of a string.","functionName":"stringLength","lesson":"Length Method","difficulty":"Easy","xp":10},{"id":"q13","codingQuestion":"Write a Java method to reverse a string.","functionName":"reverseString","lesson":"Reversal Method","difficulty":"Medium","xp":20},{"id":"q14","codingQuestion":"Write a Java method to convert a string to uppercase.","functionName":"toUpperCase","lesson":"Uppercase Method","difficulty":"Easy","xp":10},{"id":"q15","codingQuestion":"Write a Java method to convert a string to lowercase.","functionName":"toLowerCase","lesson":"Lowercase Method","difficulty":"Easy","xp":10},{"id":"q16","codingQuestion":"Write a Java method to check if a string is a palindrome.","functionName":"isPalindrome","lesson":"Palindrome Check Method","difficulty":"Medium","xp":20},{"id":"q17","codingQuestion":"Write a Java method to replace a substring within a string.","functionName":"replaceSubstring","lesson":"Replace Method","difficulty":"Medium","xp":20},{"id":"q18","codingQuestion":"Write a Java method to find a substring within a string.","functionName":"findSubstring","lesson":"Find Method","difficulty":"Easy","xp":10},{"id":"q19","codingQuestion":"Write a Java method to split a string by a delimiter.","functionName":"splitString","lesson":"Split Method","difficulty":"Easy","xp":10},{"id":"q20","codingQuestion":"Write a Java method to join a list of strings into a single string with a delimiter.","functionName":"joinStrings","lesson":"Join Method","difficulty":"Medium","xp":20}]},{"title":"Java List Operations","description":"Complete these coding tasks to test list operations in Java.","questions":[{"id":"q21","codingQuestion":"Write a Java method to add an item to a list.","functionName":"addItem","lesson":"Add Method","difficulty":"Easy","xp":10},{"id":"q22","codingQuestion":"Write a Java method to remove an item from a list.","functionName":"removeItem","lesson":"Remove Method","difficulty":"Easy","xp":10},{"id":"q23","codingQuestion":"Write a Java method to find the index of an item in a list.","functionName":"findIndex","lesson":"Index Method","difficulty":"Medium","xp":20},{"id":"q24","codingQuestion":"Write a Java method to sort a list.","functionName":"sortList","lesson":"Sort Method","difficulty":"Medium","xp":20},{"id":"q25","codingQuestion":"Write a Java method to reverse a list.","functionName":"reverseList","lesson":"Reverse Method","difficulty":"Easy","xp":10},{"id":"q26","codingQuestion":"Write a Java method to merge two lists.","functionName":"mergeLists","lesson":"Merge Method","difficulty":"Medium","xp":20},{"id":"q27","codingQuestion":"Write a Java method to find the maximum value in a list.","functionName":"maxValue","lesson":"Max Method","difficulty":"Easy","xp":10},{"id":"q28","codingQuestion":"Write a Java method to find the minimum value in a list.","functionName":"minValue","lesson":"Min Method","difficulty":"Easy","xp":10},{"id":"q29","codingQuestion":"Write a Java method to count the number of occurrences of an item in a list.","functionName":"countOccurrences","lesson":"Count Method","difficulty":"Medium","xp":20},{"id":"q30","codingQuestion":"Write a Java method to remove duplicates from a list.","functionName":"removeDuplicates","lesson":"Remove Duplicates Method","difficulty":"Medium","xp":20}]},{"title":"Java Map Operations","description":"Complete these coding tasks to test map operations in Java.","questions":[{"id":"q31","codingQuestion":"Write a Java method to add a key-value pair to a map.","functionName":"addKeyValue","lesson":"Add Key-Value Method","difficulty":"Easy","xp":10},{"id":"q32","codingQuestion":"Write a Java method to remove a key-value pair from a map.","functionName":"removeKeyValue","lesson":"Remove Key-Value Method","difficulty":"Easy","xp":10},{"id":"q33","codingQuestion":"Write a Java method to find a value by key in a map.","functionName":"findValue","lesson":"Find Value Method","difficulty":"Medium","xp":20},{"id":"q34","codingQuestion":"Write a Java method to merge two maps.","functionName":"mergeMaps","lesson":"Merge Maps Method","difficulty":"Medium","xp":20},{"id":"q35","codingQuestion":"Write a Java method to check if a key exists in a map.","functionName":"keyExists","lesson":"Key Exists Method","difficulty":"Easy","xp":10},{"id":"q36","codingQuestion":"Write a Java method to get all keys in a map.","functionName":"getKeys","lesson":"Get Keys Method","difficulty":"Easy","xp":10},{"id":"q37","codingQuestion":"Write a Java method to get all values in a map.","functionName":"getValues","lesson":"Get Values Method","difficulty":"Easy","xp":10},{"id":"q38","codingQuestion":"Write a Java method to find the key with the maximum value in a map.","functionName":"maxValueKey","lesson":"Max Value Key Method","difficulty":"Medium","xp":20},{"id":"q39","codingQuestion":"Write a Java method to invert a map (swap keys and values).","functionName":"invertMap","lesson":"Invert Map Method","difficulty":"Medium","xp":20},{"id":"q40","codingQuestion":"Write a Java method to sort a map by its keys.","functionName":"sortByKeys","lesson":"Sort by Keys Method","difficulty":"Medium","xp":20}]},{"title":"Java Set Operations","description":"Complete these coding tasks to test set operations in Java.","questions":[{"id":"q41","codingQuestion":"Write a Java method to add an element to a set.","functionName":"addElement","lesson":"Add Element Method","difficulty":"Easy","xp":10},{"id":"q42","codingQuestion":"Write a Java method to remove an element from a set.","functionName":"removeElement","lesson":"Remove Element Method","difficulty":"Easy","xp":10},{"id":"q43","codingQuestion":"Write a Java method to find the union of two sets.","functionName":"unionSets","lesson":"Union Method","difficulty":"Medium","xp":20},{"id":"q44","codingQuestion":"Write a Java method to find the intersection of two sets.","functionName":"intersectionSets","lesson":"Intersection Method","difficulty":"Medium","xp":20},{"id":"q45","codingQuestion":"Write a Java method to find the difference between two sets.","functionName":"differenceSets","lesson":"Difference Method","difficulty":"Medium","xp":20},{"id":"q46","codingQuestion":"Write a Java method to check if a set is a subset of another set.","functionName":"isSubset","lesson":"Subset Method","difficulty":"Medium","xp":20},{"id":"q47","codingQuestion":"Write a Java method to check if a set is a superset of another set.","functionName":"isSuperset","lesson":"Superset Method","difficulty":"Medium","xp":20},{"id":"q48","codingQuestion":"Write a Java method to clear a set.","functionName":"clearSet","lesson":"Clear Set Method","difficulty":"Easy","xp":10},{"id":"q49","codingQuestion":"Write a Java method to find the length of a set.","functionName":"lengthSet","lesson":"Length Method","difficulty":"Easy","xp":10},{"id":"q50","codingQuestion":"Write a Java method to convert a list to a set.","functionName":"listToSet","lesson":"Convert List Method","difficulty":"Easy","xp":10}]}]}'),em=JSON.parse('{"A":[{"title":"JavaScript Basic Math Operations","description":"Complete these coding tasks to test basic math operations in JavaScript.","questions":[{"id":"q1","codingQuestion":"Write a JavaScript function to add two numbers.","functionName":"add","lesson":"Addition Function","difficulty":"Easy","xp":10},{"id":"q2","codingQuestion":"Write a JavaScript function to subtract two numbers.","functionName":"subtract","lesson":"Subtraction Function","difficulty":"Easy","xp":10},{"id":"q3","codingQuestion":"Write a JavaScript function to multiply two numbers.","functionName":"multiply","lesson":"Multiplication Function","difficulty":"Easy","xp":10},{"id":"q4","codingQuestion":"Write a JavaScript function to divide two numbers.","functionName":"divide","lesson":"Division Function","difficulty":"Easy","xp":10},{"id":"q5","codingQuestion":"Write a JavaScript function to find the power of a number.","functionName":"power","lesson":"Power Function","difficulty":"Medium","xp":20},{"id":"q6","codingQuestion":"Write a JavaScript function to find the modulo of two numbers.","functionName":"mod","lesson":"Modulo Function","difficulty":"Medium","xp":20},{"id":"q7","codingQuestion":"Write a JavaScript function to find the maximum of two numbers.","functionName":"findMax","lesson":"Max Function","difficulty":"Easy","xp":10},{"id":"q8","codingQuestion":"Write a JavaScript function to check if a number is even.","functionName":"isEven","lesson":"Even Check Function","difficulty":"Easy","xp":10},{"id":"q9","codingQuestion":"Write a JavaScript function to calculate the factorial of a number.","functionName":"factorial","lesson":"Factorial Function","difficulty":"Hard","xp":30},{"id":"q10","codingQuestion":"Write a JavaScript function to check if a number is prime.","functionName":"isPrime","lesson":"Prime Check Function","difficulty":"Medium","xp":20}]},{"title":"JavaScript String Operations","description":"Complete these coding tasks to test string operations in JavaScript.","questions":[{"id":"q11","codingQuestion":"Write a JavaScript function to concatenate two strings.","functionName":"concatStrings","lesson":"Concatenation Function","difficulty":"Easy","xp":10},{"id":"q12","codingQuestion":"Write a JavaScript function to find the length of a string.","functionName":"stringLength","lesson":"Length Function","difficulty":"Easy","xp":10},{"id":"q13","codingQuestion":"Write a JavaScript function to reverse a string.","functionName":"reverseString","lesson":"Reversal Function","difficulty":"Medium","xp":20},{"id":"q14","codingQuestion":"Write a JavaScript function to convert a string to uppercase.","functionName":"toUpperCase","lesson":"Uppercase Function","difficulty":"Easy","xp":10},{"id":"q15","codingQuestion":"Write a JavaScript function to convert a string to lowercase.","functionName":"toLowerCase","lesson":"Lowercase Function","difficulty":"Easy","xp":10},{"id":"q16","codingQuestion":"Write a JavaScript function to check if a string is a palindrome.","functionName":"isPalindrome","lesson":"Palindrome Check Function","difficulty":"Medium","xp":20},{"id":"q17","codingQuestion":"Write a JavaScript function to replace a substring within a string.","functionName":"replaceSubstring","lesson":"Replace Function","difficulty":"Medium","xp":20},{"id":"q18","codingQuestion":"Write a JavaScript function to find a substring within a string.","functionName":"findSubstring","lesson":"Find Function","difficulty":"Easy","xp":10},{"id":"q19","codingQuestion":"Write a JavaScript function to split a string by a delimiter.","functionName":"splitString","lesson":"Split Function","difficulty":"Easy","xp":10},{"id":"q20","codingQuestion":"Write a JavaScript function to join a list of strings into a single string with a delimiter.","functionName":"joinStrings","lesson":"Join Function","difficulty":"Medium","xp":20}]},{"title":"JavaScript Array Operations","description":"Complete these coding tasks to test array operations in JavaScript.","questions":[{"id":"q21","codingQuestion":"Write a JavaScript function to add an item to an array.","functionName":"addItem","lesson":"Add Function","difficulty":"Easy","xp":10},{"id":"q22","codingQuestion":"Write a JavaScript function to remove an item from an array.","functionName":"removeItem","lesson":"Remove Function","difficulty":"Easy","xp":10},{"id":"q23","codingQuestion":"Write a JavaScript function to find the index of an item in an array.","functionName":"findIndex","lesson":"Index Function","difficulty":"Medium","xp":20},{"id":"q24","codingQuestion":"Write a JavaScript function to sort an array.","functionName":"sortArray","lesson":"Sort Function","difficulty":"Medium","xp":20},{"id":"q25","codingQuestion":"Write a JavaScript function to reverse an array.","functionName":"reverseArray","lesson":"Reverse Function","difficulty":"Easy","xp":10},{"id":"q26","codingQuestion":"Write a JavaScript function to merge two arrays.","functionName":"mergeArrays","lesson":"Merge Function","difficulty":"Medium","xp":20},{"id":"q27","codingQuestion":"Write a JavaScript function to find the maximum value in an array.","functionName":"maxValue","lesson":"Max Function","difficulty":"Easy","xp":10},{"id":"q28","codingQuestion":"Write a JavaScript function to find the minimum value in an array.","functionName":"minValue","lesson":"Min Function","difficulty":"Easy","xp":10},{"id":"q29","codingQuestion":"Write a JavaScript function to count the number of occurrences of an item in an array.","functionName":"countOccurrences","lesson":"Count Function","difficulty":"Medium","xp":20},{"id":"q30","codingQuestion":"Write a JavaScript function to remove duplicates from an array.","functionName":"removeDuplicates","lesson":"Remove Duplicates Function","difficulty":"Medium","xp":20}]},{"title":"JavaScript Object Operations","description":"Complete these coding tasks to test object operations in JavaScript.","questions":[{"id":"q31","codingQuestion":"Write a JavaScript function to add a key-value pair to an object.","functionName":"addKeyValue","lesson":"Add Key-Value Function","difficulty":"Easy","xp":10},{"id":"q32","codingQuestion":"Write a JavaScript function to remove a key-value pair from an object.","functionName":"removeKeyValue","lesson":"Remove Key-Value Function","difficulty":"Easy","xp":10},{"id":"q33","codingQuestion":"Write a JavaScript function to find a value by key in an object.","functionName":"findValue","lesson":"Find Value Function","difficulty":"Medium","xp":20},{"id":"q34","codingQuestion":"Write a JavaScript function to merge two objects.","functionName":"mergeObjects","lesson":"Merge Objects Function","difficulty":"Medium","xp":20},{"id":"q35","codingQuestion":"Write a JavaScript function to check if a key exists in an object.","functionName":"keyExists","lesson":"Key Exists Function","difficulty":"Easy","xp":10},{"id":"q36","codingQuestion":"Write a JavaScript function to get all keys in an object.","functionName":"getKeys","lesson":"Get Keys Function","difficulty":"Easy","xp":10},{"id":"q37","codingQuestion":"Write a JavaScript function to get all values in an object.","functionName":"getValues","lesson":"Get Values Function","difficulty":"Easy","xp":10},{"id":"q38","codingQuestion":"Write a JavaScript function to find the key with the maximum value in an object.","functionName":"maxValueKey","lesson":"Max Value Key Function","difficulty":"Medium","xp":20},{"id":"q39","codingQuestion":"Write a JavaScript function to invert an object (swap keys and values).","functionName":"invertObject","lesson":"Invert Object Function","difficulty":"Medium","xp":20},{"id":"q40","codingQuestion":"Write a JavaScript function to sort an object by its keys.","functionName":"sortByKeys","lesson":"Sort by Keys Function","difficulty":"Medium","xp":20}]},{"title":"JavaScript Set Operations","description":"Complete these coding tasks to test set operations in JavaScript.","questions":[{"id":"q41","codingQuestion":"Write a JavaScript function to add an element to a set.","functionName":"addElement","lesson":"Add Element Function","difficulty":"Easy","xp":10},{"id":"q42","codingQuestion":"Write a JavaScript function to remove an element from a set.","functionName":"removeElement","lesson":"Remove Element Function","difficulty":"Easy","xp":10},{"id":"q43","codingQuestion":"Write a JavaScript function to find the union of two sets.","functionName":"unionSets","lesson":"Union Function","difficulty":"Medium","xp":20},{"id":"q44","codingQuestion":"Write a JavaScript function to find the intersection of two sets.","functionName":"intersectionSets","lesson":"Intersection Function","difficulty":"Medium","xp":20},{"id":"q45","codingQuestion":"Write a JavaScript function to find the difference between two sets.","functionName":"differenceSets","lesson":"Difference Function","difficulty":"Medium","xp":20},{"id":"q46","codingQuestion":"Write a JavaScript function to check if a set is a subset of another set.","functionName":"isSubset","lesson":"Subset Function","difficulty":"Medium","xp":20},{"id":"q47","codingQuestion":"Write a JavaScript function to check if a set is a superset of another set.","functionName":"isSuperset","lesson":"Superset Function","difficulty":"Medium","xp":20},{"id":"q48","codingQuestion":"Write a JavaScript function to clear a set.","functionName":"clearSet","lesson":"Clear Set Function","difficulty":"Easy","xp":10},{"id":"q49","codingQuestion":"Write a JavaScript function to find the length of a set.","functionName":"lengthSet","lesson":"Length Function","difficulty":"Easy","xp":10},{"id":"q50","codingQuestion":"Write a JavaScript function to convert an array to a set.","functionName":"arrayToSet","lesson":"Convert Array Function","difficulty":"Easy","xp":10}]}]}'),nm=gn({apiKey:"AIzaSyBI37lzWhWSv7VQif5mlNbZm0Bso5W05OA",authDomain:"dyakidswebsite-ab5f1.firebaseapp.com",projectId:"dyakidswebsite-ab5f1",storageBucket:"dyakidswebsite-ab5f1.appspot.com",messagingSenderId:"79577052767",appId:"1:79577052767:web:c68ca99c2a73b59f5ecdea"}),im=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn();const e=cn(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=cn(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(Zt(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;Mn(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ws,persistence:[Gr,$r,Ir]}),i=Mt("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const t=new URL(i,location.origin);if(location.origin===t.origin){const e=(t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Xs)return;const r=null===n||void 0===n?void 0:n.token;Ys!==r&&(Ys=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))})(t.toString());!function(t,e,n){Kt(t).beforeAuthStateChanged(e,n)}(n,e,(()=>e(n.currentUser))),function(t,e,n,i){Kt(t).onIdTokenChanged(e,n,i)}(n,(t=>e(t)))}}const r=$t("auth");return r&&Ji(n,"http://".concat(r)),n}(nm),rm=function(t,e){const n="string"==typeof t?t:e||"(default)",i=cn("object"==typeof t?t:mn(),"firestore").getImmediate({identifier:n});if(!i._initialized){const t=Nt("firestore");t&&function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(t=yf(t,bf))._getSettings(),o="".concat(e,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=fo.MOCK_USER;else{e=qt(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Po(So.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fo(s)}t._authCredentials=new Co(new Qo(e,n))}}(i,...t)}return i}(nm),sm=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn(),e=arguments.length>1?arguments[1]:void 0;t=Kt(t);const n=cn(t,Yg).getImmediate({identifier:e}),i=Nt("storage");return i&&function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.host="".concat(e,":").concat(n),t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"===typeof r?r:qt(r,t.app.options.projectId))}(t,e,n,i)}(n,...i),n}(nm);(async()=>{try{const t=Sf(rm,"activitiesPython"),e=await Qp(t);console.log("Found ".concat(e.docs.length," existing Python activities. Deleting them..."));const n=e.docs.map((t=>Ep(t.ref)));await Promise.all(n),console.log("All existing Python activities deleted");const i=Kg.A.map(((e,n)=>{const i={...e,order:n};return Rp(t,i)}));await Promise.all(i),console.log("New Python activities added to Firestore")}catch(t){console.error("Error initializing Python activities:",t)}})(),(async()=>{try{const t=Sf(rm,"activitiesJava"),e=await Qp(t);console.log("Found ".concat(e.docs.length," existing Java activities. Deleting them..."));const n=e.docs.map((t=>Ep(t.ref)));await Promise.all(n),console.log("All existing Java activities deleted");const i=tm.A.map(((e,n)=>{const i={...e,order:n};return Rp(t,i)}));await Promise.all(i),console.log("New Java activities added to Firestore")}catch(t){console.error("Error initializing Java activities:",t)}})(),(async()=>{try{const t=Sf(rm,"activitiesJavaScript"),e=await Qp(t);console.log("Found ".concat(e.docs.length," existing JavaScript activities. Deleting them..."));const n=e.docs.map((t=>Ep(t.ref)));await Promise.all(n),console.log("All existing JavaScript activities deleted");const i=em.A.map(((e,n)=>{const i={...e,order:n};return Rp(t,i)}));await Promise.all(i),console.log("New JavaScript activities added to Firestore")}catch(t){console.error("Error initializing JavaScript activities:",t)}})(),(async()=>{try{const t=Sf(rm,"LessonPython"),e=await Qp(t);console.log("Found ".concat(e.docs.length," existing lessons. Deleting them..."));const n=e.docs.map((t=>Ep(t.ref)));await Promise.all(n),console.log("All existing lessons deleted");const i=Jg.I.map(((e,n)=>{const i={...e,order:n};return Rp(t,i)}));await Promise.all(i),console.log("New lessons added to Firestore")}catch(t){console.error("Error initializing lessons:",t)}})();var om=n(723);function am(t){const{userData:e,close:n,isOwnProfile:i}=t,[r,s]=(0,o.useState)([]),[a,l]=(0,o.useState)({name:"",username:"",email:"",profilePicture:"",programmingLanguages:[],currentActivity:0,xp:0}),[h,c]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const t=async t=>{try{const e=[];for(let n=0;n<t.length;n++){const i=Sf(rm,"activities".concat(t[n].langName)),r=await Qp(i),s={name:t[n].langName,totalSize:r.size};e.push(s)}s(e)}catch(e){console.error("Error fetching total parts:",e)}};e.id&&(async()=>{try{const n=Pf(rm,"users",e.id),i=await Pp(n);if(i.exists()){const e=i.data();l({name:e.name,username:e.username,email:e.email,profilePicture:e.profilePicture||"".concat("/DYA","/profile-avatar.png"),programmingLanguages:e.programmingLanguages||[],currentActivity:e.currentActivity||0,xp:e.xp||0}),t(e.programmingLanguages)}}catch(n){console.error("Error fetching user data:",n)}})()}),[e.id]);const u=t=>{l({...a,[t.target.name]:t.target.value})},d=t=>{const e=r.find((e=>e.name===t));return e?e.totalSize:null};return(0,om.jsx)("div",{className:"profile-window-overlay",onClick:n,children:(0,om.jsxs)("div",{className:"profile-window-content",onClick:t=>t.stopPropagation(),children:[(0,om.jsxs)("div",{className:"user-data-container-left",children:[(0,om.jsx)("button",{className:"close-btn",onClick:n,children:"X"}),(0,om.jsxs)("div",{className:"user-picture",children:[(0,om.jsx)("img",{src:a.profilePicture,alt:"Profile Avatar",onClick:()=>document.getElementById("fileInput").click()}),(0,om.jsx)("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:async t=>{const n=t.target.files[0];if(n){const t=Gg(sm,"profilePictures/".concat(e.id));await Fg(t,n);const r=await Bg(t);l({...a,profilePicture:r});try{await Cp(Pf(rm,"users",e.id),{profilePicture:r})}catch(i){console.error("Error updating profile picture:",i)}}}})]}),(0,om.jsxs)("div",{className:"user-data",children:[(0,om.jsxs)("div",{className:"head",children:[(0,om.jsx)("h2",{children:"Profile"}),!h&&i&&(0,om.jsx)("i",{className:"fa-solid fa-pen-to-square",onClick:()=>{c(!0)}})]}),h?(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)("input",{type:"text",name:"name",value:a.name,onChange:u}),(0,om.jsx)("div",{className:"border-gray"}),(0,om.jsx)("input",{type:"text",name:"username",value:a.username,onChange:u}),(0,om.jsx)("div",{className:"border-gray"}),(0,om.jsx)("input",{type:"text",name:"email",value:a.email,onChange:u}),(0,om.jsx)("i",{className:"fa-solid fa-check",onClick:async()=>{try{await Cp(Pf(rm,"users",e.id),{name:a.name,username:a.username,email:a.email,profilePicture:a.profilePicture})}catch(t){console.error("Error saving user data:",t)}c(!1)}})]}):(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)("p",{className:"data",children:a.name}),(0,om.jsx)("div",{className:"border-gray"}),(0,om.jsx)("p",{className:"data",children:a.username||"data not found"}),(0,om.jsx)("div",{className:"border-gray"}),i&&(0,om.jsx)("p",{className:"data",children:a.email})]})]})]}),(0,om.jsxs)("div",{className:"user-data-container-right",children:[(0,om.jsxs)("div",{className:"user-languages-container",children:[(0,om.jsx)("h2",{children:"Languages"}),(0,om.jsx)("div",{className:"border-gray"}),a.programmingLanguages.length>0?a.programmingLanguages.map(((t,e)=>(0,om.jsx)("p",{children:t.langName},e))):(0,om.jsx)("p",{children:"No languages found."})]}),(0,om.jsxs)("div",{className:"user-language-progress",children:[(0,om.jsx)("h2",{children:"Progress in..."}),a.programmingLanguages.length>0?a.programmingLanguages.map(((t,e)=>{return(0,om.jsxs)("div",{className:"progress-container",children:[(0,om.jsx)("div",{className:"border-gray"}),(0,om.jsxs)("p",{children:[t.langName,": ",t.currentActivity," of ",d(t.langName)," completed"]}),(0,om.jsx)("div",{className:"progress-bar-outline",children:(0,om.jsx)("div",{className:"progress-bar",style:{width:"".concat((n=t.currentActivity,i=d(t.langName),n/i*100),"%")}})})]},e);var n,i})):(0,om.jsx)("div",{children:"No languages found."})]}),(0,om.jsxs)("div",{className:"user-xp",children:[(0,om.jsx)("h2",{children:"XP"}),(0,om.jsx)("div",{className:"border-gray"}),(0,om.jsx)("p",{children:a.xp})]})]})]})})}function lm(t){let{userData:e}=t;const{uid:n}=st(),i=rt(),[r,s]=(0,o.useState)(!1),[a,l]=(0,o.useState)([]),[h,c]=(0,o.useState)(0),[u,d]=(0,o.useState)(0);(0,o.useEffect)((()=>{(async()=>{if(!n)return;const t=Pf(rm,"userActivity",n),e=await Pp(t);if(e.exists()){const t=e.data().loginData.map((t=>t.day));l(t),f(t),p(t)}})()}),[n]);const f=t=>{let e=0,n=(new Date).setHours(0,0,0,0);for(let i=t.length-1;i>=0;i--){if(new Date(t[i]).setHours(0,0,0,0)!==n)break;e++,n-=864e5}c(e)},p=t=>{const e=(new Date).getMonth(),n=t.filter((t=>new Date(t).getMonth()===e)).length;d(n)},g=()=>{s(!r)},m=t=>{i(t)};return(0,om.jsxs)("div",{className:"side-nav",children:[(0,om.jsxs)("div",{className:"btn-container",children:[(0,om.jsx)("button",{onClick:()=>m("/roadmap/".concat(n)),children:"Roadmap"}),(0,om.jsx)("button",{onClick:()=>m("/practice/".concat(n)),children:"Practice"}),(0,om.jsx)("button",{onClick:()=>m("/ranking/".concat(n)),children:"Ranking"}),(0,om.jsx)("button",{onClick:g,children:"Profile"}),(0,om.jsx)("button",{className:"logout-btn",onClick:()=>{Cr(im).then((()=>{i("/")})).catch((t=>{console.error("Sign out error:",t)}))},children:(0,om.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})})]}),r&&e&&(0,om.jsx)(am,{userData:{...e,id:n},close:g,isOwnProfile:!0})]})}const hm=function(t){let{uid:e,onLanguageChange:n}=t;const[i,r]=(0,o.useState)([]),[s,a]=(0,o.useState)(null),[l,h]=(0,o.useState)(!1),[c]=(0,o.useState)(["Java","Python","JavaScript"]),u=(0,o.useRef)(null);(0,o.useEffect)((()=>{(async()=>{try{const t=Pf(rm,"users",e),n=(await Pp(t)).data(),i=hp(Sf(rm,"programmingLanguages"),pp("name")),s=(await Qp(i)).docs.map((t=>({id:t.id,...t.data()})));a(n.currentLanguage),r(s)}catch(t){console.error("Error fetching languages:",t)}})()}),[e]),(0,o.useEffect)((()=>{if(l&&u.current){const t=u.current.getBoundingClientRect();t.right>window.innerWidth&&(u.current.style.left="auto",u.current.style.right="0"),t.bottom>window.innerHeight&&(u.current.style.top="auto",u.current.style.bottom="100%")}}),[l]);const d=async t=>{try{var i;const r=Pf(rm,"users",e),s=(await Pp(r)).data(),o=(null===(i=s.programmingLanguages.find((e=>e.langName===t.name)))||void 0===i?void 0:i.currentActivity)||0,l=s.programmingLanguages?[...s.programmingLanguages.filter((e=>e.langName!==t.name)),{langName:t.name,currentActivity:o}]:[{langName:t.name,currentActivity:0}];await Cp(r,{currentLanguage:t.name,currentActivity:o,programmingLanguages:l}),a(t.name),h(!1),n(t.name),window.location.reload()}catch(r){console.error("Error updating language:",r)}};return(0,om.jsxs)("div",{className:"language-dropdown",children:[(0,om.jsx)("button",{onClick:()=>h(!l),children:s||"Select Language"}),l&&(0,om.jsxs)("div",{ref:u,className:"language-dropdown-content",children:[i.map((t=>(0,om.jsx)("div",{className:"language-item ".concat(t.name===s?"current":""),onClick:()=>d(t),children:t.name},t.id))),(0,om.jsx)("hr",{}),c.map(((t,e)=>(0,om.jsx)("div",{className:"language-item ".concat(t===s?"current":""),onClick:()=>d({id:e,name:t}),children:t},e)))]})]})};const cm=function(){const{uid:t}=st(),[e,n]=(0,o.useState)(null),[i,r]=(0,o.useState)([]),[s,a]=(0,o.useState)(!0),[l,h]=(0,o.useState)(null),[c,u]=(0,o.useState)(!1),[d,f]=(0,o.useState)(!1),p=rt();if((0,o.useEffect)((()=>{setTimeout((()=>{(async()=>{try{if(!t)return void h("Missing user ID");const e=Pf(rm,"users",t),i=await Pp(e);if(!i.exists())return void h("User not found");const s=i.data();if(void 0===s.xp&&(await Cp(e,{xp:0}),s.xp=0),n(s),!s.currentLanguage){const t=hp(Sf(rm,"programmingLanguages"),pp("name")),n=(await Qp(t)).docs[0].data();await Cp(e,{currentLanguage:n.name}),s.currentLanguage=n.name}const o="activities".concat(s.currentLanguage),a=hp(Sf(rm,o),pp("order")),l=(await Qp(a)).docs.map((t=>({id:t.id,...t.data()}))).sort(((t,e)=>t.order-e.order));if(r(l),1===s.currentActivity&&l.length>0){const t=l[0];if(!t.unlocked){u(!0);const e=Pf(rm,o,t.id);await Cp(e,{unlocked:!0}),setTimeout((()=>u(!1)),600)}}setTimeout((()=>f(!0)),400)}catch(e){h(e.message)}finally{a(!1)}})()}),1300)}),[t]),(0,o.useEffect)((()=>{const t=document.querySelector(".roadmap-page");if(!t)return;const e=()=>{const e=t.scrollTop;t.style.backgroundPositionY="".concat(e,"px")};return t.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e)}}),[]),s)return(0,om.jsx)("div",{className:"loading",children:"Loading..."});if(l)return(0,om.jsxs)("div",{className:"error",children:["Error: ",l]});const g=((t,e)=>{const n=[];for(let i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n})(i,3);return(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)(lm,{userData:e}),(0,om.jsxs)("div",{className:"roadmap-page",children:[(0,om.jsxs)("div",{className:"roadmap-header",children:[(0,om.jsx)("h2",{className:"roadmap-title"}),(0,om.jsx)(hm,{uid:t,onLanguageChange:()=>f(!1)})]}),c&&(0,om.jsx)("div",{className:"unlock-animation",children:"New Activity Unlocked!"}),e&&(0,om.jsx)("div",{className:"roadmap-container ".concat(d?"fade-in":""),children:g.map(((n,i)=>(0,om.jsx)("div",{className:"roadmap-row",children:n.map(((n,i)=>(0,om.jsxs)("div",{className:"activity-container",children:[(0,om.jsx)("div",{className:"activity-title",children:(0,om.jsx)("h2",{children:n.title})}),n.order<=e.currentActivity?(0,om.jsxs)("div",{className:"activity-buttons",children:[(0,om.jsx)("button",{onClick:()=>((n,i)=>{if(!i)return;const r=i.replace(/\s+/g,"-");n<=e.currentActivity?p("/lessons/".concat(t,"/").concat(e.currentLanguage,"/").concat(r)):alert("You need to complete the previous activities first!")})(n.order,n.title),children:"Learn It!"}),(0,om.jsx)("button",{onClick:()=>(n=>{if(!n||!n.title)return void console.error("Activity or activity title is undefined.");const i=n.title.replace(/\s+/g,"-");n.order<=e.currentActivity?p("/activity/".concat(t,"/").concat(i,"/").concat(n.order)):alert("You need to complete the previous activities first!")})(n),children:"Complete Task!"})]}):(0,om.jsx)("p",{className:"locked-message",children:"Locked"})]},i)))},i)))})]})]})};function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},um.apply(null,arguments)}class dm{lineAt(t){if(t<0||t>this.length)throw new RangeError("Invalid position ".concat(t," in document of length ").concat(this.length));return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError("Invalid line number ".concat(t," in ").concat(this.lines,"-line document"));return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=wm(this,t,e);let i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),pm.from(i,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;[t,e]=wm(this,t,e);let n=[];return this.decompose(t,e,n,0),pm.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),i=new Om(this),r=new Om(t);for(let s=e,o=e;;){if(i.next(s),r.next(s),s=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(o+=i.value.length,i.done||o>=n)return!0}}iter(){return new Om(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}iterRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new ym(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let i=this.line(t).from;n=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new vm(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new fm(t):pm.from(fm.split(t,[])):dm.empty}}class fm extends dm{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t);super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.text[r],o=i+s.length;if((e?n:o)>=t)return new bm(i,o,n,s);i=o+1,n++}}decompose(t,e,n,i){let r=t<=0&&e>=this.length?this:new fm(mm(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=gm(r.text,t.text.slice(),0,r.length);if(e.length<=32)n.push(new fm(e,t.length+r.length));else{let t=e.length>>1;n.push(new fm(e.slice(0,t)),new fm(e.slice(t)))}}else n.push(r)}replace(t,e,n){if(!(n instanceof fm))return super.replace(t,e,n);[t,e]=wm(this,t,e);let i=gm(this.text,gm(n.text,mm(this.text,0,t)),e),r=this.length+n.length-(e-t);return i.length<=32?new fm(i,r):pm.from(fm.split(i,[]),r)}sliceString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";[t,e]=wm(this,t,e);let i="";for(let r=0,s=0;r<=e&&s<this.text.length;s++){let o=this.text[s],a=r+o.length;r>t&&s&&(i+=n),t<a&&e>r&&(i+=o.slice(Math.max(0,t-r),e-r)),r=a+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let r of t)n.push(r),i+=r.length+1,32==n.length&&(e.push(new fm(n,i)),n=[],i=-1);return i>-1&&e.push(new fm(n,i)),e}}class pm extends dm{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.children[r],o=i+s.length,a=n+s.lines-1;if((e?a:o)>=t)return s.lineInner(t,e,n,i);i=o+1,n=a+1}}decompose(t,e,n,i){for(let r=0,s=0;s<=e&&r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(t<=a&&e>=s){let r=i&((s<=t?1:0)|(a>=e?2:0));s>=t&&a<=e&&!r?n.push(o):o.decompose(t-s,e-s,n,r)}s=a+1}}replace(t,e,n){if([t,e]=wm(this,t,e),n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let s=this.children[i],o=r+s.length;if(t>=r&&e<=o){let a=s.replace(t-r,e-r,n),l=this.lines-s.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let r=this.children.slice();return r[i]=a,new pm(r,this.length-(e-t)+n.length)}return super.replace(r,o,a)}r=o+1}return super.replace(t,e,n)}sliceString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";[t,e]=wm(this,t,e);let i="";for(let r=0,s=0;r<this.children.length&&s<=e;r++){let o=this.children[r],a=s+o.length;s>t&&r&&(i+=n),t<a&&e>s&&(i+=o.sliceString(t-s,e-s,n)),s=a+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof pm))return 0;let n=0,[i,r,s,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,r+=e){if(i==s||r==o)return n;let a=this.children[i],l=t.children[r];if(a!=l)return n+a.scanIdentical(l,e);n+=a.length+1}}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.reduce(((t,e)=>t+e.length+1),-1),n=0;for(let d of t)n+=d.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new fm(n,e)}let i=Math.max(32,n>>5),r=i<<1,s=i>>1,o=[],a=0,l=-1,h=[];function c(t){let e;if(t.lines>r&&t instanceof pm)for(let n of t.children)c(n);else t.lines>s&&(a>s||!a)?(u(),o.push(t)):t instanceof fm&&a&&(e=h[h.length-1])instanceof fm&&t.lines+e.lines<=32?(a+=t.lines,l+=t.length+1,h[h.length-1]=new fm(e.text.concat(t.text),e.length+1+t.length)):(a+t.lines>i&&u(),a+=t.lines,l+=t.length+1,h.push(t))}function u(){0!=a&&(o.push(1==h.length?h[0]:pm.from(h,l)),l=-1,a=h.length=0)}for(let d of t)c(d);return u(),1==o.length?o[0]:new pm(o,e)}}function gm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9;for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let a=t[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function mm(t,e,n){return gm(t,[""],e,n)}dm.empty=new fm([""],0);class Om{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof fm?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],r=this.offsets[n],s=r>>1,o=i instanceof fm?i.text.length:i.children.length;if(s==(e>0?o:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof fm){let r=i.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let r=i.children[s+(e<0?-1:0)];t>r.length?(t-=r.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(r),this.offsets.push(e>0?1:(r instanceof fm?r.text.length:r.children.length)<<1))}}}next(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class ym{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new Om(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class vm{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{done:e,lineBreak:n,value:i}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(dm.prototype[Symbol.iterator]=function(){return this.iter()},Om.prototype[Symbol.iterator]=ym.prototype[Symbol.iterator]=vm.prototype[Symbol.iterator]=function(){return this});class bm{constructor(t,e,n,i){this.from=t,this.to=e,this.number=n,this.text=i}get length(){return this.to-this.from}}function wm(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}let xm="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let Q5=1;Q5<xm.length;Q5++)xm[Q5]+=xm[Q5-1];function km(t){for(let e=1;e<xm.length;e+=2)if(xm[e]>t)return xm[e-1]<=t;return!1}function Sm(t){return t>=127462&&t<=127487}const Pm=8205;function _m(t,e){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?Qm:Tm)(t,e,!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}function Qm(t,e,n){if(e==t.length)return e;e&&Cm(t.charCodeAt(e))&&Em(t.charCodeAt(e-1))&&e--;let i=Rm(t,e);for(e+=$m(i);e<t.length;){let r=Rm(t,e);if(i==Pm||r==Pm||n&&km(r))e+=$m(r),i=r;else{if(!Sm(r))break;{let n=0,i=e-2;for(;i>=0&&Sm(Rm(t,i));)n++,i-=2;if(n%2==0)break;e+=2}}}return e}function Tm(t,e,n){for(;e>0;){let i=Qm(t,e-2,n);if(i<e)return i;e--}return 0}function Cm(t){return t>=56320&&t<57344}function Em(t){return t>=55296&&t<56320}function Rm(t,e){let n=t.charCodeAt(e);if(!Em(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return Cm(i)?i-56320+(n-55296<<10)+65536:n}function Am(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function $m(t){return t<65536?1:2}const Nm=/\r\n?|\n/;var Im=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Im||(Im={}));class Mm{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,i=0;e<this.sections.length;){let r=this.sections[e++],s=this.sections[e++];s<0?(t(n,i,r),i+=r):i+=s,n+=r}}iterChangedRanges(t){Um(this,t,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new Mm(t)}composeDesc(t){return this.empty?t:t.empty?this:Wm(this,t)}mapDesc(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.empty?this:Lm(this,t,e)}mapPos(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Im.Simple,i=0,r=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=i+o;if(a<0){if(l>t)return r+(t-i);r+=o}else{if(n!=Im.Simple&&l>=t&&(n==Im.TrackDel&&i<t&&l>t||n==Im.TrackBefore&&i<t||n==Im.TrackAfter&&l>t))return null;if(l>t||l==t&&e<0&&!o)return t==i||e<0?r:r+a;r+=a}i=l}if(t>i)throw new RangeError("Position ".concat(t," is out of range for changeset of length ").concat(i));return r}touchesRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;for(let n=0,i=0;n<this.sections.length&&i<=e;){let r=i+this.sections[n++];if(this.sections[n++]>=0&&i<=e&&r>=t)return!(i<t&&r>e)||"cover";i=r}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Mm(t)}static create(t){return new Mm(t)}}class Dm extends Mm{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Um(this,((e,n,i,r,s)=>t=t.replace(i,i+(n-e),s)),!1),t}mapDesc(t){return Lm(this,t,arguments.length>1&&void 0!==arguments[1]&&arguments[1],!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,r=0;i<e.length;i+=2){let s=e[i],o=e[i+1];if(o>=0){e[i]=o,e[i+1]=s;let a=i>>1;for(;n.length<a;)n.push(dm.empty);n.push(s?t.slice(r,r+s):dm.empty)}r+=s}return new Dm(e,n)}compose(t){return this.empty?t:t.empty?this:Wm(this,t,!0)}map(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.empty?this:Lm(this,t,e,!0)}iterChanges(t){Um(this,t,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get desc(){return Mm.create(this.sections)}filter(t){let e=[],n=[],i=[],r=new zm(this);t:for(let s=0,o=0;;){let a=s==t.length?1e9:t[s++];for(;o<a||o==a&&0==r.len;){if(r.done)break t;let t=Math.min(r.len,a-o);qm(i,t,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;qm(e,t,s),s>0&&jm(n,e,r.text),r.forward(t),o+=t}let l=t[s++];for(;o<l;){if(r.done)break t;let t=Math.min(r.len,l-o);qm(e,t,-1),qm(i,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),o+=t}}return{changes:new Dm(e,n),filtered:Mm.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):0==i?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let i=[],r=[],s=0,o=null;function a(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!i.length)return;s<e&&qm(i,e-s,-1);let t=new Dm(i,r);o=o?o.compose(t.map(o)):t,i=[],r=[],s=0}return function t(l){if(Array.isArray(l))for(let e of l)t(e);else if(l instanceof Dm){if(l.length!=e)throw new RangeError("Mismatched change set length (got ".concat(l.length,", expected ").concat(e,")"));a(),o=o?o.compose(l.map(o)):l}else{let{from:t,to:o=t,insert:h}=l;if(t>o||t<0||o>e)throw new RangeError("Invalid change range ".concat(t," to ").concat(o," (in doc of length ").concat(e,")"));let c=h?"string"==typeof h?dm.of(h.split(n||Nm)):h:dm.empty,u=c.length;if(t==o&&0==u)return;t<s&&a(),t>s&&qm(i,t-s,-1),qm(i,o-t,u),jm(r,i,c),s=o}}(t),a(!o),o}static empty(t){return new Dm(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let i=0;i<t.length;i++){let r=t[i];if("number"==typeof r)e.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)e.push(r[0],0);else{for(;n.length<i;)n.push(dm.empty);n[i]=dm.of(r.slice(1)),e.push(r[0],n[i].length)}}}return new Dm(e,n)}static createSet(t,e){return new Dm(t,e)}}function qm(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0==e&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:0==e&&0==t[r]?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function jm(t,e,n){if(0==n.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(dm.empty);t.push(n)}}function Um(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)r+=a,s+=a;else{let h=r,c=s,u=dm.empty;for(;h+=a,c+=l,l&&i&&(u=u.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(r,h,s,c,u),r=h,s=c}}}function Lm(t,e,n){let i=[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?[]:null,s=new zm(t),o=new zm(e);for(let a=-1;;)if(-1==s.ins&&-1==o.ins){let t=Math.min(s.len,o.len);qm(i,t,-1),s.forward(t),o.forward(t)}else if(o.ins>=0&&(s.ins<0||a==s.i||0==s.off&&(o.len<s.len||o.len==s.len&&!n))){let t=o.len;for(qm(i,o.ins,-1);t;){let e=Math.min(s.len,t);s.ins>=0&&a<s.i&&s.len<=e&&(qm(i,0,s.ins),r&&jm(r,i,s.text),a=s.i),s.forward(e),t-=e}o.next()}else{if(!(s.ins>=0)){if(s.done&&o.done)return r?Dm.createSet(i,r):Mm.create(i);throw new Error("Mismatched change set lengths")}{let t=0,e=s.len;for(;e;)if(-1==o.ins){let n=Math.min(e,o.len);t+=n,e-=n,o.forward(n)}else{if(!(0==o.ins&&o.len<e))break;e-=o.len,o.next()}qm(i,t,a<s.i?s.ins:0),r&&a<s.i&&jm(r,i,s.text),a=s.i,s.forward(s.len-e)}}}function Wm(t,e){let n=[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:null,r=new zm(t),s=new zm(e);for(let o=!1;;){if(r.done&&s.done)return i?Dm.createSet(n,i):Mm.create(n);if(0==r.ins)qm(n,r.len,0,o),r.next();else if(0!=s.len||s.done){if(r.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(r.len2,s.len),e=n.length;if(-1==r.ins){let e=-1==s.ins?-1:s.off?0:s.ins;qm(n,t,e,o),i&&e&&jm(i,n,s.text)}else-1==s.ins?(qm(n,r.off?0:r.len,t,o),i&&jm(i,n,r.textBit(t))):(qm(n,r.off?0:r.len,s.off?0:s.ins,o),i&&!s.off&&jm(i,n,s.text));o=(r.ins>t||s.ins>=0&&s.len>t)&&(o||n.length>e),r.forward2(t),s.forward(t)}}else qm(n,0,s.ins,o),i&&jm(i,n,s.text),s.next()}}class zm{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?dm.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?dm.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Vm{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t){let e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?e=n=t.mapPos(this.from,i):(e=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),e==this.from&&n==this.to?this:new Vm(e,n,this.flags)}extend(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(t<=this.anchor&&e>=this.anchor)return Zm.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Zm.range(this.anchor,n)}eq(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Zm.range(t.anchor,t.head)}static create(t,e,n){return new Vm(t,e,n)}}class Zm{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.empty?this:Zm.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Zm([this.main],0)}addRange(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Zm.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,n=this.ranges.slice();return n[e]=t,Zm.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Zm(t.ranges.map((t=>Vm.fromJSON(t))),t.main)}static single(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new Zm([Zm.range(t,e)],0)}static create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<t.length;i++){let r=t[i];if(r.empty?r.from<=n:r.from<n)return Zm.normalized(t.slice(),e);n=r.to}return new Zm(t,e)}static cursor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return Vm.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!==i&&void 0!==i?i:16777215)<<6)}static range(t,e,n,i){let r=(null!==n&&void 0!==n?n:16777215)<<6|(null==i?7:Math.min(6,i));return e<t?Vm.create(e,t,48|r):Vm.create(t,e,(e>t?8:0)|r)}static normalized(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let i=1;i<t.length;i++){let n=t[i],r=t[i-1];if(n.empty?n.from<=r.to:n.from<r.to){let s=r.from,o=Math.max(n.to,r.to);i<=e&&e--,t.splice(--i,2,n.anchor>n.head?Zm.range(o,s):Zm.range(s,o))}}return new Zm(t,e)}}function Xm(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Ym=0;class Fm{constructor(t,e,n,i,r){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=i,this.id=Ym++,this.default=t([]),this.extensions="function"==typeof r?r(this):r}get reader(){return this}static define(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Fm(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:Bm),!!t.static,t.enables)}of(t){return new Gm([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Gm(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Gm(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function Bm(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class Gm{constructor(t,e,n,i){this.dependencies=t,this.facet=e,this.type=n,this.value=i,this.id=Ym++}dynamicSlot(t){var e;let n=this.value,i=this.facet.compareInput,r=this.id,s=t[r]>>1,o=2==this.type,a=!1,l=!1,h=[];for(let c of this.dependencies)"doc"==c?a=!0:"selection"==c?l=!0:0==(1&(null!==(e=t[c.id])&&void 0!==e?e:1))&&h.push(t[c.id]);return{create:t=>(t.values[s]=n(t),1),update(t,e){if(a&&e.docChanged||l&&(e.docChanged||e.selection)||Km(t,h)){let e=n(t);if(o?!Hm(e,t.values[s],i):!i(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let a,l=e.config.address[r];if(null!=l){let r=fO(e,l);if(this.dependencies.every((n=>n instanceof Fm?e.facet(n)===t.facet(n):!(n instanceof eO)||e.field(n,!1)==t.field(n,!1)))||(o?Hm(a=n(t),r,i):i(a=n(t),r)))return t.values[s]=r,0}else a=n(t);return t.values[s]=a,1}}}}function Hm(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function Km(t,e){let n=!1;for(let i of e)1&dO(t,i)&&(n=!0);return n}function Jm(t,e,n){let i=n.map((e=>t[e.id])),r=n.map((t=>t.type)),s=i.filter((t=>!(1&t))),o=t[e.id]>>1;function a(t){let n=[];for(let e=0;e<i.length;e++){let s=fO(t,i[e]);if(2==r[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of i)dO(t,e);return t.values[o]=a(t),1},update(t,n){if(!Km(t,s))return 0;let i=a(t);return e.compare(i,t.values[o])?0:(t.values[o]=i,1)},reconfigure(t,r){let s=Km(t,i),l=r.config.facets[e.id],h=r.facet(e);if(l&&!s&&Bm(n,l))return t.values[o]=h,0;let c=a(t);return e.compare(c,h)?(t.values[o]=h,0):(t.values[o]=c,1)}}}const tO=Fm.define({static:!0});class eO{constructor(t,e,n,i,r){this.id=t,this.createF=e,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(t){let e=new eO(Ym++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(tO).find((t=>t.field==this));return((null===e||void 0===e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let i=t.values[e],r=this.updateF(i,n);return this.compareF(i,r)?0:(t.values[e]=r,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,tO.of({field:this,create:t})]}get extension(){return this}}const nO=4,iO=3,rO=2,sO=1;function oO(t){return e=>new lO(e,t)}const aO={highest:oO(0),high:oO(sO),default:oO(rO),low:oO(iO),lowest:oO(nO)};class lO{constructor(t,e){this.inner=t,this.prec=e}}class hO{of(t){return new cO(this,t)}reconfigure(t){return hO.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class cO{constructor(t,e){this.compartment=t,this.inner=e}}class uO{constructor(t,e,n,i,r,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let i=[],r=Object.create(null),s=new Map;for(let u of function(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(t,o){let a=r.get(t);if(null!=a){if(a<=o)return;let e=i[a].indexOf(t);e>-1&&i[a].splice(e,1),t instanceof cO&&n.delete(t.compartment)}if(r.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof cO){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=e.get(t.compartment)||t.inner;n.set(t.compartment,i),s(i,o)}else if(t instanceof lO)s(t.inner,t.prec);else if(t instanceof eO)i[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof Gm)i[o].push(t),t.facet.extensions&&s(t.facet.extensions,rO);else{let e=t.extension;if(!e)throw new Error("Unrecognized extension value in extension set (".concat(t,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));s(e,o)}}return s(t,rO),i.reduce(((t,e)=>t.concat(e)))}(t,e,s))u instanceof eO?i.push(u):(r[u.facet.id]||(r[u.facet.id]=[])).push(u);let o=Object.create(null),a=[],l=[];for(let u of i)o[u.id]=l.length<<1,l.push((t=>u.slot(t)));let h=null===n||void 0===n?void 0:n.config.facets;for(let u in r){let t=r[u],e=t[0].facet,i=h&&h[u]||[];if(t.every((t=>0==t.type)))if(o[e.id]=a.length<<1|1,Bm(i,t))a.push(n.facet(e));else{let i=e.combine(t.map((t=>t.value)));a.push(n&&e.compare(i,n.facet(e))?n.facet(e):i)}else{for(let e of t)0==e.type?(o[e.id]=a.length<<1|1,a.push(e.value)):(o[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));o[e.id]=l.length<<1,l.push((n=>Jm(n,e,t)))}}let c=l.map((t=>t(o)));return new uO(t,s,c,o,a,r)}}function dO(t,e){if(1&e)return 2;let n=e>>1,i=t.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function fO(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const pO=Fm.define(),gO=Fm.define({combine:t=>t.some((t=>t)),static:!0}),mO=Fm.define({combine:t=>t.length?t[0]:void 0,static:!0}),OO=Fm.define(),yO=Fm.define(),vO=Fm.define(),bO=Fm.define({combine:t=>!!t.length&&t[0]});class wO{constructor(t,e){this.type=t,this.value=e}static define(){return new xO}}class xO{of(t){return new wO(this,t)}}class kO{constructor(t){this.map=t}of(t){return new SO(this,t)}}class SO{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new SO(this.type,e)}is(t){return this.type==t}static define(){return new kO((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let i of t){let t=i.map(e);t&&n.push(t)}return n}}SO.reconfigure=SO.define(),SO.appendConfig=SO.define();class PO{constructor(t,e,n,i,r,s){this.startState=t,this.changes=e,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=s,this._doc=null,this._state=null,n&&Xm(n,e.newLength),r.some((t=>t.type==PO.time))||(this.annotations=r.concat(PO.time.of(Date.now())))}static create(t,e,n,i,r,s){return new PO(t,e,n,i,r,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(PO.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function _O(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else{if(!(r<e.length))return n;s=e[r++],o=e[r++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function QO(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=Dm.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(i=t.selection)||void 0===i?void 0:i.map(r),effects:SO.mapEffects(t.effects,r).concat(SO.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function TO(t,e,n){let i=e.selection,r=RO(e.annotations);return e.userEvent&&(r=r.concat(PO.userEvent.of(e.userEvent))),{changes:e.changes instanceof Dm?e.changes:Dm.of(e.changes||[],n,t.facet(mO)),selection:i&&(i instanceof Zm?i:Zm.single(i.anchor,i.head)),effects:RO(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function CO(t,e,n){let i=TO(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let s=1;s<e.length;s++){!1===e[s].filter&&(n=!1);let r=!!e[s].sequential;i=QO(i,TO(t,e[s],r?i.changes.newLength:t.doc.length),r)}let r=PO.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(t){let e=t.startState,n=e.facet(vO),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=QO(i,TO(e,s,t.changes.newLength),!0))}return i==t?t:PO.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(OO)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:_O(n,e))}if(!0!==n){let i,r;if(!1===n)r=t.changes.invertedDesc,i=Dm.empty(e.doc.length);else{let e=t.changes.filter(n);i=e.changes,r=e.filtered.mapDesc(e.changes).invertedDesc}t=PO.create(e,i,t.selection&&t.selection.map(r),SO.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let i=e.facet(yO);for(let r=i.length-1;r>=0;r--){let n=i[r](t);t=n instanceof PO?n:Array.isArray(n)&&1==n.length&&n[0]instanceof PO?n[0]:CO(e,RO(n),!1)}return t}(r):r)}PO.time=wO.define(),PO.userEvent=wO.define(),PO.addToHistory=wO.define(),PO.remote=wO.define();const EO=[];function RO(t){return null==t?EO:Array.isArray(t)?t:[t]}var AO=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(AO||(AO={}));const $O=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let NO;try{NO=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(P5){}function IO(t){return e=>{if(!/\S/.test(e))return AO.Space;if(function(t){if(NO)return NO.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||$O.test(n)))return!0}return!1}(e))return AO.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return AO.Word;return AO.Other}}class MO{constructor(t,e,n,i,r,s){this.config=t,this.doc=e,this.selection=n,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=r,s&&(s._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)dO(this,o<<1);this.computeSlot=null}field(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[t.id];if(null!=n)return dO(this,n),fO(this,n);if(e)throw new RangeError("Field is not present in this state")}update(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return CO(this,e,!0)}applyTransaction(t){let e,n=this.config,{base:i,compartments:r}=n;for(let o of t.effects)o.is(hO.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((t,e)=>r.set(e,t))),n=null),r.set(o.value.compartment,o.value.extension)):o.is(SO.reconfigure)?(n=null,i=o.value):o.is(SO.appendConfig)&&(n=null,i=RO(i).concat(o.value));if(n)e=t.startState.values.slice();else{n=uO.resolve(i,r,this),e=new MO(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values}let s=t.startState.facet(gO)?t.newSelection:t.newSelection.asSingle();new MO(n,t.newDoc,s,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:Zm.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),i=this.changes(n.changes),r=[n.range],s=RO(n.effects);for(let o=1;o<e.ranges.length;o++){let n=t(e.ranges[o]),a=this.changes(n.changes),l=a.map(i);for(let t=0;t<o;t++)r[t]=r[t].map(l);let h=i.mapDesc(a,!0);r.push(n.range.map(h)),i=i.compose(l),s=SO.mapEffects(s,l).concat(SO.mapEffects(RO(n.effects),h))}return{changes:i,selection:Zm.create(r,e.mainIndex),effects:s}}changes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof Dm?t:Dm.of(t,this.doc.length,this.facet(MO.lineSeparator))}toText(t){return dm.of(t.split(this.facet(MO.lineSeparator)||Nm))}sliceDoc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(dO(this,e),fO(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let i=t[n];i instanceof eO&&null!=this.config.address[i.id]&&(e[n]=i.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let r in n)if(Object.prototype.hasOwnProperty.call(t,r)){let e=n[r],s=t[r];i.push(e.init((t=>e.spec.fromJSON(s,t))))}return MO.create({doc:t.doc,selection:Zm.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=uO.resolve(t.extensions||[],new Map),n=t.doc instanceof dm?t.doc:dm.of((t.doc||"").split(e.staticFacet(MO.lineSeparator)||Nm)),i=t.selection?t.selection instanceof Zm?t.selection:Zm.single(t.selection.anchor,t.selection.head):Zm.single(0);return Xm(i,n.length),e.staticFacet(gO)||(i=i.asSingle()),new MO(e,n,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(MO.tabSize)}get lineBreak(){return this.facet(MO.lineSeparator)||"\n"}get readOnly(){return this.facet(bO)}phrase(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(let r of this.facet(MO.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return n.length&&(t=t.replace(/\$(\$|\d*)/g,((t,e)=>{if("$"==e)return"$";let i=+(e||1);return!i||i>n.length?t:n[i-1]}))),t}languageDataAt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[];for(let r of this.facet(pO))for(let s of r(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return IO(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:i}=this.doc.lineAt(t),r=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=_m(e,s,!1);if(r(e.slice(t,s))!=AO.Word)break;s=t}for(;o<i;){let t=_m(e,o);if(r(e.slice(o,t))!=AO.Word)break;o=t}return s==o?null:Zm.range(s+n,o+n)}}function DO(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};for(let r of t)for(let t of Object.keys(r)){let e=r[t],s=i[t];if(void 0===s)i[t]=e;else if(s===e||void 0===e);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);i[t]=n[t](s,e)}}for(let r in e)void 0===i[r]&&(i[r]=e[r]);return i}MO.allowMultipleSelections=gO,MO.tabSize=Fm.define({combine:t=>t.length?t[0]:4}),MO.lineSeparator=mO,MO.readOnly=bO,MO.phrases=Fm.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every((n=>t[n]==e[n]))}}),MO.languageData=pO,MO.changeFilter=OO,MO.transactionFilter=yO,MO.transactionExtender=vO,hO.reconfigure=SO.define();class qO{eq(t){return this==t}range(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return jO.create(t,e,this)}}qO.prototype.startSide=qO.prototype.endSide=0,qO.prototype.point=!1,qO.prototype.mapMode=Im.TrackDel;class jO{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new jO(t,e,n)}}function UO(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class LO{constructor(t,e,n,i){this.from=t,this.to=e,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=n?this.to:this.from;for(let s=i,o=r.length;;){if(s==o)return s;let i=s+o>>1,a=r[i]-t||(n?this.value[i].endSide:this.value[i].startSide)-e;if(i==s)return a>=0?s:o;a>=0?o=i:s=i+1}}between(t,e,n,i){for(let r=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,r);r<s;r++)if(!1===i(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let n=[],i=[],r=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,h,c=this.value[a],u=this.from[a]+t,d=this.to[a]+t;if(u==d){let t=e.mapPos(u,c.startSide,c.mapMode);if(null==t)continue;if(l=h=t,c.startSide!=c.endSide&&(h=e.mapPos(u,c.endSide),h<l))continue}else if(l=e.mapPos(u,c.startSide),h=e.mapPos(d,c.endSide),l>h||l==h&&c.startSide>0&&c.endSide<=0)continue;(h-l||c.endSide-c.startSide)<0||(s<0&&(s=l),c.point&&(o=Math.max(o,h-l)),n.push(c),i.push(l-s),r.push(h-s))}return{mapped:n.length?new LO(i,r,n,o):null,pos:s}}}class WO{constructor(t,e,n,i){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=i}static create(t,e,n,i){return new WO(t,e,n,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(UO)),this.isEmpty)return e.length?WO.of(e):this;let o=new ZO(this,null,-1).goto(0),a=0,l=[],h=new zO;for(;o.value||a<e.length;)if(a<e.length&&(o.from-e[a].from||o.startSide-e[a].value.startSide)>=0){let t=e[a++];h.addInner(t.from,t.to,t.value)||l.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(o.chunkIndex)<e[a].from)&&(!s||i>this.chunkEnd(o.chunkIndex)||r<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||i>o.to||r<o.from||s(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||l.push(jO.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!l.length?WO.empty:this.nextLayer.update({add:l,filter:s,filterFrom:i,filterTo:r}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],i=-1;for(let s=0;s<this.chunk.length;s++){let r=this.chunkPos[s],o=this.chunk[s],a=t.touchesRange(r,r+o.length);if(!1===a)i=Math.max(i,o.maxPoint),e.push(o),n.push(t.mapPos(r));else if(!0===a){let{mapped:s,pos:a}=o.map(r,t);s&&(i=Math.max(i,s.maxPoint),e.push(s),n.push(a))}}let r=this.nextLayer.map(t);return 0==e.length?r:new WO(n,e,r||WO.empty,i)}between(t,e,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i];if(e>=r&&t<=r+s.length&&!1===s.between(r,t-r,e-r,n))return}this.nextLayer.between(t,e,n)}}iter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return XO.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return XO.from(t).goto(e)}static compare(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),a=VO(s,o,n),l=new FO(s,a,r),h=new FO(o,a,r);n.iterGaps(((t,e,n)=>BO(l,t,h,e,n,i))),n.empty&&0==n.length&&BO(l,0,h,0,0,i)}static eq(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;null==i&&(i=999999999);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=s.length)return!1;if(!r.length)return!0;let o=VO(r,s),a=new FO(r,o,0).goto(n),l=new FO(s,o,0).goto(n);for(;;){if(a.to!=l.to||!GO(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>i)return!0;a.next(),l.next()}}static spans(t,e,n,i){let r=new FO(t,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1).goto(e),s=e,o=r.openStart;for(;;){let t=Math.min(r.to,n);if(r.point){let n=r.activeForPoint(r.to),a=r.pointFrom<e?n.length+1:r.point.startSide<0?n.length:Math.min(n.length,o);i.point(s,t,r.point,n,a,r.pointRank),o=Math.min(r.openEnd(t),n.length)}else t>s&&(i.span(s,t,r.active,o),o=r.openEnd(t));if(r.to>n)return o+(r.point&&r.to>n?1:0);s=r.to,r.next()}}static of(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new zO;for(let i of t instanceof jO?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(UO(e,i)>0)return t.slice().sort(UO);e=i}return t}(t):t)n.add(i.from,i.to,i.value);return n.finish()}static join(t){if(!t.length)return WO.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let i=t[n];i!=WO.empty;i=i.nextLayer)e=new WO(i.chunkPos,i.chunk,e,Math.max(i.maxPoint,e.maxPoint));return e}}WO.empty=new WO([],[],null,-1),WO.empty.nextLayer=WO.empty;class zO{finishChunk(t){this.chunks.push(new LO(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new zO)).add(t,e,n)}addInner(t,e,n){let i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(WO.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=WO.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function VO(t,e,n){let i=new Map;for(let s of t)for(let t=0;t<s.chunk.length;t++)s.chunk[t].maxPoint<=0&&i.set(s.chunk[t],s.chunkPos[t]);let r=new Set;for(let s of e)for(let t=0;t<s.chunk.length;t++){let e=i.get(s.chunk[t]);null==e||(n?n.mapPos(e):e)!=s.chunkPos[t]||(null===n||void 0===n?void 0:n.touchesRange(e,e+s.chunk[t].length))||r.add(s.chunk[t])}return r}class ZO{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.layer=t,this.skip=e,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class XO{constructor(t){this.heap=t}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[];for(let r=0;r<t.length;r++)for(let s=t[r];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new ZO(s,e,n,r));return 1==i.length?i[0]:new XO(i)}get startSide(){return this.value?this.value.startSide:0}goto(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)YO(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)YO(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),YO(this.heap,0)}}}function YO(t,e){for(let n=t[e];;){let i=1+(e<<1);if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class FO{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=XO.from(t,e,n)}goto(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){HO(this.active,t),HO(this.activeTo,t),HO(this.activeRank,t),this.minActive=JO(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:i,rank:r}=this.cursor;for(;e<this.activeRank.length&&(r-this.activeRank[e]||i-this.activeTo[e])>0;)e++;KO(this.active,e,n),KO(this.activeTo,e,i),KO(this.activeRank,e,r),t&&KO(t,e,this.cursor.from),this.minActive=JO(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&HO(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function BO(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,a=i,l=i-e;for(;;){let e=t.to+l-n.to||t.endSide-n.endSide,i=e<0?t.to+l:n.to,r=Math.min(i,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&GO(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,r,t.point,n.point):r>a&&!GO(t.active,n.active)&&s.compareRange(a,r,t.active,n.active),i>o)break;a=i,e<=0&&t.next(),e>=0&&n.next()}}function GO(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function HO(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function KO(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function JO(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function ty(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=0;for(let r=0;r<n;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=_m(t,r));return i}function ey(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=9==t.charCodeAt(r)?n-s%n:1,r=_m(t,r)}return!0===i?-1:t.length}const ny="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),iy="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),ry="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class sy{constructor(t,e){this.rules=[];let{finish:n}=e||{};function i(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function r(t,e,s,o){let a=[],l=/^@(\w+)\b/.exec(t[0]),h=l&&"keyframes"==l[1];if(l&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))r(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(i(n),o,a,h)}else null!=o&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(a.length||h)&&s.push((!n||l||o?t:t.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let s in t)r(i(s),t[s],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=ry[ny]||1;return ry[ny]=t+1,"\u037c"+t.toString(36)}static mount(t,e,n){let i=t[iy],r=n&&n.nonce;i?r&&i.setNonce(r):i=new ay(t,r),i.mount(Array.isArray(e)?e:[e],t)}}let oy=new Map;class ay{constructor(t,e){let n=t.ownerDocument||t,i=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let e=oy.get(n);if(e)return t[iy]=e;this.sheet=new i.CSSStyleSheet,oy.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[iy]=this}mount(t,e){let n=this.sheet,i=0,r=0;for(let s=0;s<t.length;s++){let e=t[s],o=this.modules.indexOf(e);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,e),n)for(let t=0;t<e.rules.length;t++)n.insertRule(e.rules[t],i++)}else{for(;r<o;)i+=this.modules[r++].rules.length;i+=e.rules.length,r++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let n=e.head||e;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var ly={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cy="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),uy="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),dy=0;dy<10;dy++)ly[48+dy]=ly[96+dy]=String(dy);for(dy=1;dy<=24;dy++)ly[dy+111]="F"+dy;for(dy=65;dy<=90;dy++)ly[dy]=String.fromCharCode(dy+32),hy[dy]=String.fromCharCode(dy);for(var fy in ly)hy.hasOwnProperty(fy)||(hy[fy]=ly[fy]);function py(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function gy(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function my(t,e){if(!e.anchorNode)return!1;try{return gy(t,e.anchorNode)}catch(P5){return!1}}function Oy(t){return 3==t.nodeType?Ey(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function yy(t,e,n,i){return!!n&&(wy(t,e,n,i,-1)||wy(t,e,n,i,1))}function vy(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function by(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function wy(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:xy(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=vy(t)+(r<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(r<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=r<0?xy(t):0}}}function xy(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function ky(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Sy(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Py(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}class _y{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?xy(e):0),n,Math.min(t.focusOffset,n?xy(n):0))}set(t,e,n,i){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=i}}let Qy,Ty=null;function Cy(t){if(t.setActive)return t.setActive();if(Ty)return t.focus(Ty);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==Ty?{get preventScroll(){return Ty={preventScroll:!0},!0}}:void 0),!Ty){Ty=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],r=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function Ey(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=Qy||(Qy=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function Ry(t,e,n,i){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function Ay(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function $y(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function Ny(t,e){for(let n=t,i=e;;){if(3==n.nodeType&&i>0)return{node:n,offset:i};if(1==n.nodeType&&i>0){if("false"==n.contentEditable)return null;n=n.childNodes[i-1],i=xy(n)}else{if(!n.parentNode||by(n))return null;i=vy(n),n=n.parentNode}}}function Iy(t,e){for(let n=t,i=e;;){if(3==n.nodeType&&i<n.nodeValue.length)return{node:n,offset:i};if(1==n.nodeType&&i<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[i],i=0}else{if(!n.parentNode||by(n))return null;i=vy(n)+1,n=n.parentNode}}}class My{constructor(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.node=t,this.offset=e,this.precise=n}static before(t,e){return new My(t.parentNode,vy(t),e)}static after(t,e){return new My(t.parentNode,vy(t)+1,e)}}const Dy=[];class qy{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,i=this.dom,r=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(n=r?r.nextSibling:i.firstChild)){let t=qy.get(n);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t,e),s.flags&=-8}if(n=r?r.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&n!=s.dom&&(e.written=!0),s.dom.parentNode==i)for(;n&&n!=s.dom;)n=jy(n);else i.insertBefore(s.dom,n);r=s.dom}for(n=r?r.nextSibling:i.firstChild,n&&e&&e.node==i&&(e.written=!0);n;)n=jy(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let i=0==xy(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==i&&e.firstChild!=e.lastChild&&(i=t==e.firstChild?-1:1),t=e}n=i<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!qy.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,r=0;;i++){let t=this.children[i];if(t.dom==n)return r;r+=t.length+t.breakAfter}}domBoundsAround(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=-1,r=-1,s=-1,o=-1;for(let a=0,l=n,h=n;a<this.children.length;a++){let n=this.children[a],c=l+n.length;if(l<t&&c>e)return n.domBoundsAround(t,e,l);if(c>=t&&-1==i&&(i=a,r=l),l>e&&n.dom.parentNode==this.dom){s=a,o=h;break}h=c,l=c+n.breakAfter}return{from:r,to:o<0?n+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dy;this.markDirty();for(let i=t;i<e;i++){let t=this.children[i];t.parent==this&&n.indexOf(t)<0&&t.destroy()}this.children.splice(t,e-t,...n);for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new Uy(this.children,t,this.children.length)}childPos(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,i,r,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function jy(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}qy.prototype.breakAfter=0;class Uy{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Ly(t,e,n,i,r,s,o,a,l){let{children:h}=t,c=h.length?h[e]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(e==i&&c&&!o&&!d&&s.length<2&&c.merge(n,r,s.length?u:null,0==n,a,l))){if(i<h.length){let t=h[i];t&&(r<t.length||t.breakAfter&&(null===u||void 0===u?void 0:u.breakAfter))?(e==i&&(t=t.split(r),r=0),!d&&u&&t.merge(0,r,u,!0,0,l)?s[s.length-1]=t:((r||t.children.length&&!t.children[0].length)&&t.merge(0,r,null,!1,0,l),s.push(t))):(null===t||void 0===t?void 0:t.breakAfter)&&(u?u.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,a,0),e++));e<i&&s.length;)if(h[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else{if(!h[e].become(s[0]))break;e++,s.shift(),a=s.length?0:l}!s.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,a,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function Wy(t,e,n,i,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:h,off:c}=o.findPos(e,-1),u=e-n;for(let d of i)u+=d.length;t.length+=u,Ly(t,h,c,a,l,i,0,r,s)}let zy="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Vy="undefined"!=typeof document?document:{documentElement:{style:{}}};const Zy=/Edge\/(\d+)/.exec(zy.userAgent),Xy=/MSIE \d/.test(zy.userAgent),Yy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zy.userAgent),Fy=!!(Xy||Yy||Zy),By=!Fy&&/gecko\/(\d+)/i.test(zy.userAgent),Gy=!Fy&&/Chrome\/(\d+)/.exec(zy.userAgent),Hy="webkitFontSmoothing"in Vy.documentElement.style,Ky=!Fy&&/Apple Computer/.test(zy.vendor),Jy=Ky&&(/Mobile\/\w+/.test(zy.userAgent)||zy.maxTouchPoints>2);var tv={mac:Jy||/Mac/.test(zy.platform),windows:/Win/.test(zy.platform),linux:/Linux|X11/.test(zy.platform),ie:Fy,ie_version:Xy?Vy.documentMode||6:Yy?+Yy[1]:Zy?+Zy[1]:0,gecko:By,gecko_version:By?+(/Firefox\/(\d+)/.exec(zy.userAgent)||[0,0])[1]:0,chrome:!!Gy,chrome_version:Gy?+Gy[1]:0,ios:Jy,android:/Android\b/.test(zy.userAgent),webkit:Hy,safari:Ky,webkit_version:Hy?+(/\bAppleWebKit\/(\d+)/.exec(zy.userAgent)||[0,0])[1]:0,tabSize:null!=Vy.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class ev extends qy{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof ev)||this.length-(e-t)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new ev(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new My(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;0==e&&n<0||e==i&&n>=0?tv.chrome||tv.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let a=Ey(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];tv.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,(t=>t.width))||l);return o?ky(l,o<0):l||null}(this.dom,t,e)}}class nv extends qy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this.mark=t,this.children=e,this.length=n;for(let i of e)i.setParent(this)}setAttrs(t){if(Ay(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,i,r,s){return(!n||!(!(n instanceof nv&&n.mark.eq(this.mark))||t&&r<=0||e<this.length&&s<=0))&&(Wy(this,t,e,n?n.children.slice():[],r-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,i=-1,r=0;for(let o of this.children){let s=n+o.length;s>t&&e.push(n<t?o.split(t-n):o),i<0&&n>=t&&(i=r),n=s,r++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new nv(this.mark,e,s)}domAtPos(t){return sv(this,t)}coordsAt(t,e){return av(this,t,e)}}class iv extends qy{static create(t,e,n){return new iv(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=iv.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof iv&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof iv&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return dm.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):dm.empty}domAtPos(t){return(this.length?0==t:this.side>0)?My.before(this.dom):My.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let i=this.dom.getClientRects(),r=null;if(!i.length)return null;let s=this.side?this.side<0:t>0;for(let o=s?i.length-1:0;r=i[o],!(t>0?0==o:o==i.length-1||r.top<r.bottom);o+=s?-1:1);return ky(r,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class rv extends qy{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof rv&&t.side==this.side}split(){return new rv(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?My.before(this.dom):My.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return dm.empty}get isHidden(){return!0}}function sv(t,e){let n=t.dom,{children:i}=t,r=0;for(let s=0;r<i.length;r++){let t=i[r],o=s+t.length;if(!(o==s&&t.getSide()<=0)){if(e>s&&e<o&&t.dom.parentNode==n)return t.domAtPos(e-s);if(e<=s)break;s=o}}for(let s=r;s>0;s--){let t=i[s-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let s=r;s<i.length;s++){let t=i[s];if(t.dom.parentNode==n)return t.domAtPos(0)}return new My(n,0)}function ov(t,e,n){let i,{children:r}=t;n>0&&e instanceof nv&&r.length&&(i=r[r.length-1])instanceof nv&&i.mark.eq(e.mark)?ov(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function av(t,e,n){let i=null,r=-1,s=null,o=-1;!function t(e,a){for(let l=0,h=0;l<e.children.length&&h<=a;l++){let c=e.children[l],u=h+c.length;u>=a&&(c.children.length?t(c,a-h):(!s||s.isHidden&&n>0)&&(u>a||h==u&&c.getSide()>0)?(s=c,o=a-h):(h<a||h==u&&c.getSide()<0&&!c.isHidden)&&(i=c,r=a-h)),h=u}}(t,e);let a=(n<0?i:s)||i||s;return a?a.coordsAt(Math.max(0,a==i?r:o),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Oy(e);return n[n.length-1]||null}(t)}function lv(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}ev.prototype.children=iv.prototype.children=rv.prototype.children=Dy;const hv=Object.create(null);function cv(t,e,n){if(t==e)return!0;t||(t=hv),e||(e=hv);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(-1==r.indexOf(s)||t[s]!==e[s]))return!1;return!0}function uv(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,"style"==r?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,"style"==r?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function dv(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class fv extends qy{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,i,r,s){if(n){if(!(n instanceof fv))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),Wy(this,t,e,n?n.children.slice():[],r,s),!0}split(t){let e=new fv;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:i}=this.childPos(t);i&&(e.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let r=n;r<this.children.length;r++)e.append(this.children[r],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){cv(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){ov(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=lv(e,this.attrs||{})),n&&(this.attrs=lv({class:n},this.attrs||{}))}domAtPos(t){return sv(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(Ay(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(uv(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let i=this.dom.lastChild;for(;i&&qy.get(i)instanceof nv;)i=i.lastChild;if(!i||!this.length||"BR"!=i.nodeName&&0==(null===(n=qy.get(i))||void 0===n?void 0:n.isEditable)&&(!tv.ios||!this.children.some((t=>t instanceof ev)))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof ev)||/[^ -~]/.test(n.text))return null;let i=Oy(n.dom);if(1!=i.length)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=av(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let i=(e-t.textHeight)/2;return{top:n.top+i,bottom:n.bottom-i,left:n.left,right:n.left}}}return n}become(t){return t instanceof fv&&0==this.children.length&&0==t.children.length&&cv(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let n=0,i=0;n<t.children.length;n++){let r=t.children[n],s=i+r.length;if(s>=e){if(r instanceof fv)return r;if(s>e)break}i=s+r.breakAfter}return null}}class pv extends qy{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof pv&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?My.before(this.dom):My.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new pv(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Dy}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):dm.empty}domBoundsAround(){return null}become(t){return t instanceof pv&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class gv{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var mv=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(mv||(mv={}));class Ov extends qO{constructor(t,e,n,i){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(t){return new yv(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new bv(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,i=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:r,end:s}=wv(t,i);e=(r?i?-3e8:-1:5e8)-1,n=1+(s?i?2e8:1:-6e8)}return new bv(t,e,n,i,t.widget||null,!0)}static line(t){return new vv(t)}static set(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return WO.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Ov.none=WO.empty;class yv extends Ov{constructor(t){let{start:e,end:n}=wv(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof yv&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&cv(this.attrs,t.attrs,"class")}range(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}yv.prototype.point=!1;class vv extends Ov{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof vv&&this.spec.class==t.spec.class&&cv(this.spec.attributes,t.spec.attributes)}range(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}vv.prototype.mapMode=Im.TrackBefore,vv.prototype.point=!0;class bv extends Ov{constructor(t,e,n,i,r,s){super(e,n,r,t),this.block=i,this.isReplace=s,this.mapMode=i?e<=0?Im.TrackBefore:Im.TrackAfter:Im.TrackDel}get type(){return this.startSide!=this.endSide?mv.WidgetRange:this.startSide<=0?mv.WidgetBefore:mv.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof bv&&function(t,e){return t==e||!!(t&&e&&t.compare(e))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function wv(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{inclusiveStart:n,inclusiveEnd:i}=t;return null==n&&(n=t.inclusive),null==i&&(i=t.inclusive),{start:null!==n&&void 0!==n?n:e,end:null!==i&&void 0!==i?i:e}}function xv(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}bv.prototype.point=!0;class kv{constructor(t,e,n,i){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof pv&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new fv),this.atCursorPos=!0),this.curLine}flushBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(Sv(new rv(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof pv||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(Sv(new ev(this.text.slice(this.textOff,this.textOff+i)),e),n),this.atCursorPos=!0,this.textOff+=i,t-=i,n=0}}span(t,e,n,i){this.buildText(e-t,n,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,n,i,r,s){if(this.disallowBlockEffectsFor[s]&&n instanceof bv){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof bv)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new pv(n.widget||Pv.block,o,n));else{let s=iv.create(n.widget||Pv.inline,o,o?0:n.startSide),a=this.atCursorPos&&!s.isEditable&&r<=i.length&&(t<e||n.startSide>0),l=!s.isEditable&&(t<e||r>i.length||n.startSide<=0),h=this.getLine();2!=this.pendingBuffer||a||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),a&&(h.append(Sv(new rv(1),i),r),r=i.length+Math.max(0,r-i.length)),h.append(Sv(s,i),r),this.atCursorPos=l,this.pendingBuffer=l?t<e||r>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=r)}static build(t,e,n,i,r){let s=new kv(t,e,n,r);return s.openEnd=WO.spans(i,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Sv(t,e){for(let n of e)t=new nv(n,[t],t.length);return t}class Pv extends gv{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Pv.inline=new Pv("span"),Pv.block=new Pv("div");var _v=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(_v||(_v={}));const Qv=_v.LTR,Tv=_v.RTL;function Cv(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Ev=Cv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Rv=Cv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Av=Object.create(null),$v=[];for(let Q5 of["()","[]","{}"]){let t=Q5.charCodeAt(0),e=Q5.charCodeAt(1);Av[t]=e,Av[e]=-t}function Nv(t){return t<=247?Ev[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Rv[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Iv=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Mv{get dir(){return this.level%2?Tv:Qv}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,i){let r=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(r<0||(0!=i?i<0?o.from<e:o.to>e:t[r].level>o.level))&&(r=s)}}if(r<0)throw new RangeError("Index out of range");return r}}function Dv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!Dv(i.inner,r.inner))return!1}return!0}const qv=[];function jv(t,e,n,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,h=0;l<n;){let e=!0,c=!1;if(h==s.length||l<s[h].from){let t=qv[l];t!=a&&(e=!1,c=16==t)}let u=e||1!=a?null:[],d=e?i:i+1,f=l;t:for(;;)if(h<s.length&&f==s[h].from){if(c)break t;let p=s[h];if(!e)for(let t=p.to,e=h+1;;){if(t==n)break t;if(!(e<s.length&&s[e].from==t)){if(qv[t]==a)break t;break}t=s[e++].to}if(h++,u)u.push(p);else{p.from>l&&o.push(new Mv(l,p.from,d)),Uv(t,p.direction==Qv!=!(d%2)?i+1:i,r,p.inner,p.from,p.to,o),l=p.to}f=p.to}else{if(f==n||(e?qv[f]!=a:qv[f]==a))break;f++}u?jv(t,l,f,i+1,r,u,o):l<f&&o.push(new Mv(l,f,d)),l=f}else for(let l=n,h=s.length;l>e;){let n=!0,c=!1;if(!h||l>s[h-1].to){let t=qv[l-1];t!=a&&(n=!1,c=16==t)}let u=n||1!=a?null:[],d=n?i:i+1,f=l;t:for(;;)if(h&&f==s[h-1].to){if(c)break t;let p=s[--h];if(!n)for(let t=p.from,n=h;;){if(t==e)break t;if(!n||s[n-1].to!=t){if(qv[t-1]==a)break t;break}t=s[--n].from}if(u)u.push(p);else{p.to<l&&o.push(new Mv(p.to,l,d)),Uv(t,p.direction==Qv!=!(d%2)?i+1:i,r,p.inner,p.from,p.to,o),l=p.from}f=p.from}else{if(f==e||(n?qv[f-1]!=a:qv[f-1]==a))break;f--}u?jv(t,f,l,i+1,r,u,o):f<l&&o.push(new Mv(f,l,d)),l=f}}function Uv(t,e,n,i,r,s,o){let a=e%2?2:1;!function(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:n,l=s?256:r;for(let e=o,n=l,i=l;e<a;e++){let r=Nv(t.charCodeAt(e));512==r?r=n:8==r&&4==i&&(r=16),qv[e]=4==r?2:r,7&r&&(i=r),n=r}for(let t=o,e=l,i=l;t<a;t++){let r=qv[t];if(128==r)t<a-1&&e==qv[t+1]&&24&e?r=qv[t]=e:qv[t]=256;else if(64==r){let r=t+1;for(;r<a&&64==qv[r];)r++;let s=t&&8==e||r<n&&8==qv[r]?1==i?1:8:256;for(let e=t;e<r;e++)qv[e]=s;t=r-1}else 8==r&&1==i&&(qv[t]=1);e=r,7&r&&(i=r)}}}(t,r,s,i,a),function(t,e,n,i,r){let s=1==r?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let h=o?i[o-1].to:e,c=o<i.length?i[o].from:n;for(let e,n,i,o=h;o<c;o++)if(n=Av[e=t.charCodeAt(o)])if(n<0){for(let t=a-3;t>=0;t-=3)if($v[t+1]==-n){let e=$v[t+2],n=2&e?r:4&e?1&e?s:r:0;n&&(qv[o]=qv[$v[t]]=n),a=t;break}}else{if(189==$v.length)break;$v[a++]=o,$v[a++]=e,$v[a++]=l}else if(2==(i=qv[o])||1==i){let t=i==r;l=t?0:1;for(let e=a-3;e>=0;e-=3){let n=$v[e+2];if(2&n)break;if(t)$v[e+2]|=2;else{if(4&n)break;$v[e+2]|=4}}}}}(t,r,s,i,a),function(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,a=r<n.length?n[r].from:e;for(let l=o;l<a;){let o=qv[l];if(256==o){let o=l+1;for(;;)if(o==a){if(r==n.length)break;o=n[r++].to,a=r<n.length?n[r].from:e}else{if(256!=qv[o])break;o++}let h=1==s,c=h==(1==(o<e?qv[o]:i))?h?1:2:i;for(let e=o,i=r,s=i?n[i-1].to:t;e>l;)e==s&&(e=n[--i].from,s=i?n[i-1].to:t),qv[--e]=c;l=o}else s=o,l++}}}(r,s,i,a),jv(t,r,s,e,n,i,o)}function Lv(t,e,n){if(!t)return[new Mv(0,0,e==Tv?1:0)];if(e==Qv&&!n.length&&!Iv.test(t))return Wv(t.length);if(n.length)for(;t.length>qv.length;)qv[qv.length]=256;let i=[],r=e==Qv?0:1;return Uv(t,r,r,n,0,t.length,i),i}function Wv(t){return[new Mv(0,t,0)]}let zv="";function Vv(t,e,n,i,r){var s;let o=i.head-t.from,a=Mv.find(e,o,null!==(s=i.bidiLevel)&&void 0!==s?s:-1,i.assoc),l=e[a],h=l.side(r,n);if(o==h){let t=a+=r?1:-1;if(t<0||t>=e.length)return null;l=e[a=t],o=l.side(!r,n),h=l.side(r,n)}let c=_m(t.text,o,l.forward(r,n));(c<l.from||c>l.to)&&(c=h),zv=t.text.slice(Math.min(o,c),Math.max(o,c));let u=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return u&&c==h&&u.level+(r?0:1)<l.level?Zm.cursor(u.side(!r,n)+t.from,u.forward(r,n)?1:-1,u.level):Zm.cursor(c+t.from,l.forward(r,n)?-1:1,l.level)}function Zv(t,e,n){for(let i=e;i<n;i++){let e=Nv(t.charCodeAt(i));if(1==e)return Qv;if(2==e||4==e)return Tv}return Qv}const Xv=Fm.define(),Yv=Fm.define(),Fv=Fm.define(),Bv=Fm.define(),Gv=Fm.define(),Hv=Fm.define(),Kv=Fm.define(),Jv=Fm.define({combine:t=>t.some((t=>t))}),tb=Fm.define({combine:t=>t.some((t=>t))}),eb=Fm.define();class nb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.range=t,this.y=e,this.x=n,this.yMargin=i,this.xMargin=r,this.isSnapshot=s}map(t){return t.empty?this:new nb(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new nb(Zm.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ib=SO.define({map:(t,e)=>t.map(e)}),rb=SO.define();function sb(t,e,n){let i=t.facet(Bv);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const ob=Fm.define({combine:t=>!t.length||t[0]});let ab=0;const lb=Fm.define();class hb{constructor(t,e,n,i,r){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=i,this.extension=r(this)}static define(t,e){const{eventHandlers:n,eventObservers:i,provide:r,decorations:s}=e||{};return new hb(ab++,t,n,i,(t=>{let e=[lb.of(t)];return s&&e.push(fb.of((e=>{let n=e.plugin(t);return n?s(n):Ov.none}))),r&&e.push(r(t)),e}))}static fromClass(t,e){return hb.define((e=>new t(e)),e)}}class cb{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(S5){if(sb(t.state,S5,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(P5){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(S5){sb(t.state,S5,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(S5){sb(t.state,S5,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ub=Fm.define(),db=Fm.define(),fb=Fm.define(),pb=Fm.define(),gb=Fm.define(),mb=Fm.define();function Ob(t,e){let n=t.state.facet(mb);if(!n.length)return n;let i=n.map((e=>e instanceof Function?e(t):e)),r=[];return WO.spans(i,e.from,e.to,{point(){},span(t,n,i,s){let o=t-e.from,a=n-e.from,l=r;for(let r=i.length-1;r>=0;r--,s--){let t,n=i[r].spec.bidiIsolate;if(null==n&&(n=Zv(e.text,o,a)),s>0&&l.length&&(t=l[l.length-1]).to==o&&t.direction==n)t.to=a,l=t.inner;else{let t={from:o,to:a,direction:n,inner:[]};l.push(t),l=t.inner}}}}),r}const yb=Fm.define();function vb(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(yb)){let o=s(t);o&&(null!=o.left&&(e=Math.max(e,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(i=Math.max(i,o.top)),null!=o.bottom&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const bb=Fm.define();class wb{constructor(t,e,n,i){this.fromA=t,this.toA=e,this.fromB=n,this.toB=i}join(t){return new wb(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let i=0,r=0,s=0,o=0;;i++){let a=i==t.length?null:t[i],l=s-o,h=a?a.fromB:1e9;for(;r<e.length&&e[r]<h;){let t=e[r],i=e[r+1],s=Math.max(o,t),a=Math.min(h,i);if(s<=a&&new wb(s+l,a+l,s,a).addToSet(n),i>h)break;r+=2}if(!a)return n;new wb(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),s=a.toA,o=a.toB}}}class xb{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=Dm.empty(this.startState.doc.length);for(let r of n)this.changes=this.changes.compose(r.changes);let i=[];this.changes.iterChangedRanges(((t,e,n,r)=>i.push(new wb(t,e,n,r)))),this.changedRanges=i}static create(t,e,n){return new xb(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class kb extends qy{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ov.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new fv],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new wb(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((t=>{let{fromA:e,toA:n}=t;return n<this.minWidthFrom||e>this.minWidthTo}))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?i=this.domChanged.newSel.head:function(t,e){let n=!1;e&&t.iterChangedRanges(((t,i)=>{t<e.to&&i>e.from&&(n=!0)}));return n}(t.changes,this.hasComposition)||t.selectionSet||(i=t.state.selection.main.head));let r=i>-1?function(t,e,n){let i=Pb(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a))return null;if(t.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,h=new wb(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let u=r.parentNode;;u=u.parentNode){let e=qy.get(u);if(e instanceof nv)c.push({node:u,deco:e.mark});else{if(e instanceof fv||"DIV"==u.nodeName&&u.parentNode==t.contentDOM)return{range:h,text:r,marks:c,line:u};if(u==t.contentDOM)return null;c.push({node:u,deco:new yv({inclusive:!0,attributes:dv(u),tagName:u.tagName.toLowerCase()})})}}}(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:i}=this.hasComposition;n=new wb(e,i,t.changes.mapPos(e,-1),t.changes.mapPos(i,1)).addToSet(n.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(tv.ie||tv.chrome)&&!r&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(t,e,n){let i=new _b;return WO.compare(t,e,n,i),i.changes}(this.decorations,this.updateDeco(),t.changes);return n=wb.extendWithRanges(n,s),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,r),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:i}=this.view;i.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=tv.chrome||tv.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||i.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof pv&&s.widget instanceof Sb&&r.push(s.dom);i.updateGaps(r)}updateChildren(t,e,n){let i=n?n.range.addToSet(t.slice()):t,r=this.childCursor(e);for(let s=i.length-1;;s--){let t=s>=0?i[s]:null;if(!t)break;let e,o,a,l,{fromA:h,toA:c,fromB:u,toB:d}=t;if(n&&n.range.fromB<d&&n.range.toB>u){let t=kv.build(this.view.state.doc,u,n.range.fromB,this.decorations,this.dynamicDecorationMap),i=kv.build(this.view.state.doc,n.range.toB,d,this.decorations,this.dynamicDecorationMap);o=t.breakAtStart,a=t.openStart,l=i.openEnd;let r=this.compositionView(n);i.breakAtStart?r.breakAfter=1:i.content.length&&r.merge(r.length,r.length,i.content[0],!1,i.openStart,0)&&(r.breakAfter=i.content[0].breakAfter,i.content.shift()),t.content.length&&r.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),e=t.content.concat(r).concat(i.content)}else({content:e,breakAtStart:o,openStart:a,openEnd:l}=kv.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=r.findPos(c,1),{i:g,off:m}=r.findPos(h,-1);Ly(this,g,m,f,p,e,o,a,l)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(rb)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new ev(t.text.nodeValue);e.flags|=8;for(let{deco:i}of t.marks)e=new nv(i,[e],e.length);let n=new fv;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=qy.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),i=this.children[n.i];e(t.line,i);for(let r=t.marks.length-1;r>=-1;r--)n=i.childPos(n.off,1),i=i.children[n.i],e(r>=0?t.marks[r].node:t.text,i)}updateSelection(){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let e=this.view.root.activeElement,n=e==this.dom,i=!n&&my(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e));if(!(n||t||i))return;let r=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,o=this.moveToLine(this.domAtPos(s.anchor)),a=s.empty?o:this.moveToLine(this.domAtPos(s.head));if(tv.gecko&&s.empty&&!this.hasComposition&&(1==(l=o).node.nodeType&&l.node.firstChild&&(0==l.offset||"false"==l.node.childNodes[l.offset-1].contentEditable)&&(l.offset==l.node.childNodes.length||"false"==l.node.childNodes[l.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>o.node.insertBefore(t,o.node.childNodes[o.offset]||null))),o=a=new My(t,0),r=!0}var l;let h=this.view.observer.selectionRange;!r&&h.focusNode&&(yy(o.node,o.offset,h.anchorNode,h.anchorOffset)&&yy(a.node,a.offset,h.focusNode,h.focusOffset)||this.suppressWidgetCursorChange(h,s))||(this.view.observer.ignore((()=>{tv.android&&tv.chrome&&this.dom.contains(h.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=py(this.view.root);if(t)if(s.empty){if(tv.gecko){let t=(n=o.node,r=o.offset,1!=n.nodeType?0:(r&&"false"==n.childNodes[r-1].contentEditable?1:0)|(r<n.childNodes.length&&"false"==n.childNodes[r].contentEditable?2:0));if(t&&3!=t){let e=(1==t?Ny:Iy)(o.node,o.offset);e&&(o=new My(e.node,e.offset))}}t.collapse(o.node,o.offset),null!=s.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=s.bidiLevel)}else if(t.extend){t.collapse(o.node,o.offset);try{t.extend(a.node,a.offset)}catch(P5){}}else{let e=document.createRange();s.anchor>s.head&&([o,a]=[a,o]),e.setEnd(a.node,a.offset),e.setStart(o.node,o.offset),t.removeAllRanges(),t.addRange(e)}else;var n,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),e&&e.focus())})),this.view.observer.setSelectionRange(o,a)),this.impreciseAnchor=o.precise?null:new My(h.anchorNode,h.anchorOffset),this.impreciseHead=a.precise?null:new My(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&yy(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=py(t.root),{anchorNode:i,anchorOffset:r}=t.observer.selectionRange;if(!n||!e.empty||!e.assoc||!n.modify)return;let s=fv.find(this,e.head);if(!s)return;let o=s.posAtStart;if(e.head==o||e.head==o+s.length)return;let a=this.coordsAt(e.head,-1),l=this.coordsAt(e.head,1);if(!a||!l||a.bottom>l.top)return;let h=this.domAtPos(e.head+e.assoc);n.collapse(h.node,h.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&n.collapse(i,r)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let i=t.offset;!e&&i<n.childNodes.length;i++){let t=qy.get(n.childNodes[i]);t instanceof fv&&(e=t.domAtPos(0))}for(let i=t.offset-1;!e&&i>=0;i--){let t=qy.get(n.childNodes[i]);t instanceof fv&&(e=t.domAtPos(t.length))}return e?new My(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=qy.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof fv)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,i=0;for(let r=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],a=r-o.breakAfter,l=a-o.length;if(a<t)break;if(l<=t&&(l<t||o.covers(-1))&&(a>t||o.covers(1))&&(!n||o instanceof fv&&!(n instanceof fv&&e>=0)))n=o,i=l;else if(n&&l==t&&a==t&&o instanceof pv&&Math.abs(e)<2){if(o.deco.startSide<0)break;s&&(n=null)}r=l}return n?n.coordsAt(t-i,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),i=this.children[e];if(!(i instanceof fv))return null;for(;i.children.length;){let{i:t,off:e}=i.childPos(n,1);for(;;t++){if(t==i.children.length)return null;if((i=i.children[t]).length)break}n=e}if(!(i instanceof ev))return null;let r=_m(i.text,n);if(r==n)return null;let s=Ey(i.dom,n,r).getClientRects();for(let o=0;o<s.length;o++){let t=s[o];if(o==s.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:i}=t,r=this.view.contentDOM.clientWidth,s=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==_v.LTR;for(let l=0,h=0;h<this.children.length;h++){let t=this.children[h],c=l+t.length;if(c>i)break;if(l>=n){let n=t.dom.getBoundingClientRect();if(e.push(n.height),s){let e=t.dom.lastChild,i=e?Oy(e):[];if(i.length){let t=i[i.length-1],e=a?t.right-n.left:n.right-t.left;e>o&&(o=e,this.minWidth=r,this.minWidthFrom=l,this.minWidthTo=c)}}}l=c+t.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?_v.RTL:_v.LTR}measureTextSize(){for(let r of this.children)if(r instanceof fv){let t=r.measureTextSize();if(t)return t}let t,e,n,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(i);let r=Oy(i.firstChild)[0];t=i.getBoundingClientRect().height,e=r?r.width/27:7,n=r?r.height:t,i.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,e=this.children.length;return e&&(t-=this.children[--e].length),new Uy(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,i=0;;i++){let r=i==e.viewports.length?null:e.viewports[i],s=r?r.from-1:this.length;if(s>n){let i=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(Ov.replace({widget:new Sb(i),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!r)break;n=r.to+1}return Ov.set(t)}updateDeco(){let t=1,e=this.view.state.facet(fb).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),n=!1,i=this.view.state.facet(pb).map(((t,e)=>{let i="function"==typeof t;return i&&(n=!0),i?t(this.view):t}));for(i.length&&(this.dynamicDecorationMap[t++]=n,e.push(WO.join(i))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let l of this.view.state.facet(eb))try{if(l(this.view,t.range,t))return!0}catch(S5){sb(this.view.state,S5,"scroll handler")}let e,{range:n}=t,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!i)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,e.left),top:Math.min(i.top,e.top),right:Math.max(i.right,e.right),bottom:Math.max(i.bottom,e.bottom)});let r=vb(this.view),s={left:i.left-r.left,top:i.top-r.top,right:i.right+r.right,bottom:i.bottom+r.bottom},{offsetWidth:o,offsetHeight:a}=this.view.scrollDOM;!function(t,e,n,i,r,s,o,a){let l=t.ownerDocument,h=l.defaultView||window;for(let c=t,u=!1;c&&!u;)if(1==c.nodeType){let t,d=c==l.body,f=1,p=1;if(d)t=Sy(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(u=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();({scaleX:f,scaleY:p}=Py(c,e)),t={left:e.left,right:e.left+c.clientWidth*f,top:e.top,bottom:e.top+c.clientHeight*p}}let g=0,m=0;if("nearest"==r)e.top<t.top?(m=-(t.top-e.top+o),n>0&&e.bottom>t.bottom+m&&(m=e.bottom-t.bottom+m+o)):e.bottom>t.bottom&&(m=e.bottom-t.bottom+o,n<0&&e.top-m<t.top&&(m=-(t.top+m-e.top+o)));else{let i=e.bottom-e.top,s=t.bottom-t.top;m=("center"==r&&i<=s?e.top+i/2-s/2:"start"==r||"center"==r&&n<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==i?e.left<t.left?(g=-(t.left-e.left+s),n>0&&e.right>t.right+g&&(g=e.right-t.right+g+s)):e.right>t.right&&(g=e.right-t.right+s,n<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+s))):g=("center"==i?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==i==a?e.left-s:e.right-(t.right-t.left)+s)-t.left,g||m)if(d)h.scrollBy(g,m);else{let t=0,n=0;if(m){let t=c.scrollTop;c.scrollTop+=m/p,n=(c.scrollTop-t)*p}if(g){let e=c.scrollLeft;c.scrollLeft+=g/f,t=(c.scrollLeft-e)*f}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-g)<1&&(i="nearest"),n&&Math.abs(n-m)<1&&(r="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,a),-a),this.view.textDirection==_v.LTR)}}class Sb extends gv{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Pb(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=Ny(n.focusNode,n.focusOffset),r=Iy(n.focusNode,n.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let e=qy.get(r.node);if(!e||e instanceof ev&&e.text!=r.node.nodeValue)s=r;else if(t.docView.lastCompositionAfterCursor){let t=qy.get(i.node);!t||t instanceof ev&&t.text!=i.node.nodeValue||(s=r)}}if(t.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}let _b=class{constructor(){this.changes=[]}compareRange(t,e){xv(t,e,this.changes)}comparePoint(t,e){xv(t,e,this.changes)}};function Qb(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Tb(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Cb(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Eb(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Rb(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Ab(t,e,n){let i,r,s,o,a,l,h,c,u=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=Oy(f);for(let d=0;d<t.length;d++){let p=t[d];r&&Cb(r,p)&&(p=Eb(Rb(p,r.bottom),r.top));let g=Qb(e,p),m=Tb(n,p);if(0==g&&0==m)return 3==f.nodeType?$b(f,e,n):Ab(f,e,n);if(!i||o>m||o==m&&s>g){i=f,r=p,s=g,o=m;let a=m?n<p.top?-1:1:g?e<p.left?-1:1:0;u=!a||(a>0?d<t.length-1:d>0)}0==g?n>p.bottom&&(!h||h.bottom<p.bottom)?(a=f,h=p):n<p.top&&(!c||c.top>p.top)&&(l=f,c=p):h&&Cb(h,p)?h=Rb(h,p.bottom):c&&Cb(c,p)&&(c=Eb(c,p.top))}}if(h&&h.bottom>=n?(i=a,r=h):c&&c.top<=n&&(i=l,r=c),!i)return{node:t,offset:0};let d=Math.max(r.left,Math.min(r.right,e));return 3==i.nodeType?$b(i,d,n):u&&"false"!=i.contentEditable?Ab(i,d,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0)}}function $b(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let i=Ey(t,a,a+1).getClientRects();for(let l=0;l<i.length;l++){let h=i[l];if(h.top==h.bottom)continue;o||(o=e-h.left);let c=(h.top>n?h.top-n:n-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&c<s){let n=e>=(h.left+h.right)/2,i=n;if(tv.chrome||tv.gecko){Ey(t,a).getBoundingClientRect().left==h.right&&(i=!n)}if(c<=0)return{node:t,offset:a+(i?1:0)};r=a+(i?1:0),s=c}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function Nb(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;var r,s;let o,a=t.contentDOM.getBoundingClientRect(),l=a.top+t.viewState.paddingTop,{docHeight:h}=t.viewState,{x:c,y:u}=e,d=u-l;if(d<0)return 0;if(d>h)return t.state.doc.length;for(let b=t.viewState.heightOracle.textHeight/2,w=!1;o=t.elementAtHeight(d),o.type!=mv.Text;)for(;d=i>0?o.bottom+b:o.top-b,!(d>=0&&d<=h);){if(w)return n?null:0;w=!0,i=-i}u=l+d;let f=o.from;if(f<t.viewport.from)return 0==t.viewport.from?0:n?null:Ib(t,a,o,c,u);if(f>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Ib(t,a,o,c,u);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,m=g.elementFromPoint(c,u);m&&!t.contentDOM.contains(m)&&(m=null),m||(c=Math.max(a.left+1,Math.min(a.right-1,c)),m=g.elementFromPoint(c,u),m&&!t.contentDOM.contains(m)&&(m=null));let O,y=-1;if(m&&0!=(null===(r=t.docView.nearest(m))||void 0===r?void 0:r.isEditable))if(p.caretPositionFromPoint){let t=p.caretPositionFromPoint(c,u);t&&({offsetNode:O,offset:y}=t)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(c,u);e&&(({startContainer:O,startOffset:y}=e),(!t.contentDOM.contains(O)||tv.safari&&function(t,e,n){let i;if(3!=t.nodeType||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(1!=r.nodeType||"BR"!=r.nodeName)return!1;return Ey(t,i-1,i).getBoundingClientRect().left>n}(O,y,c)||tv.chrome&&function(t,e,n){if(0!=e)return!1;for(let r=t;;){let t=r.parentNode;if(!t||1!=t.nodeType||t.firstChild!=r)return!1;if(t.classList.contains("cm-line"))break;r=t}let i=1==t.nodeType?t.getBoundingClientRect():Ey(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}(O,y,c))&&(O=void 0))}if(!O||!t.docView.dom.contains(O)){let e=fv.find(t.docView,f);if(!e)return d>o.top+o.height/2?o.to:o.from;({node:O,offset:y}=Ab(e.dom,c,u))}let v=t.docView.nearest(O);if(!v)return null;if(v.isWidget&&1==(null===(s=v.dom)||void 0===s?void 0:s.nodeType)){let t=v.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?v.posAtStart:v.posAtEnd}return v.localPosFromDOM(O,y)+v.posAtStart}function Ib(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;s+=Math.floor((r-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+ey(o,s,t.state.tabSize)}function Mb(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==mv.Text))return i;return n}function Db(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let e=Vv(r,s,o,a,n),h=zv;if(!e){if(r.number==(n?t.state.doc.lines:1))return a;h="\n",r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),e=t.visualLineSide(r,!n)}if(l){if(!l(h))return a}else{if(!i)return e;l=i(h)}a=e}}function qb(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,((t,r,s)=>{if(e>t&&e<r){let s=i||n||(e-t<r-e?-1:1);e=s<0?t:r,i=s}}));if(!i)return e}}function jb(t,e,n){let i=qb(t.state.facet(gb).map((e=>e(t))),n.from,e.head>n.from?-1:1);return i==n.from?n:Zm.cursor(i,i<n.from?1:-1)}class Ub{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,tv.safari&&t.contentDOM.addEventListener("input",(()=>null)),tv.gecko&&function(t){fw.has(t)||(fw.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,i=e.target;i!=t.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=qy.get(i))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=Wb(t),n=this.handlers,i=this.view.contentDOM;for(let r in e)if("scroll"!=r){let t=!e[r].handlers.length,s=n[r];s&&t!=!s.handlers.length&&(i.removeEventListener(r,this.handleEvent),s=null),s||i.addEventListener(r,this.handleEvent,{passive:t})}for(let r in n)"scroll"==r||e[r]||i.removeEventListener(r,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Zb.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),tv.android&&tv.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!tv.ios||t.synthetic||t.altKey||t.metaKey||!((e=zb.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Vb.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,Ry(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0)))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(tv.safari&&!tv.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Lb(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(S5){sb(n.state,S5)}}}function Wb(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let i of t){let t=i.spec;if(t&&t.domEventHandlers)for(let e in t.domEventHandlers){let r=t.domEventHandlers[e];r&&n(e).handlers.push(Lb(i.value,r))}if(t&&t.domEventObservers)for(let e in t.domEventObservers){let r=t.domEventObservers[e];r&&n(e).observers.push(Lb(i.value,r))}}for(let i in Fb)n(i).handlers.push(Fb[i]);for(let i in Bb)n(i).observers.push(Bb[i]);return e}const zb=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Vb="dthko",Zb=[16,17,18,20,91,92,224,225];function Xb(t){return.7*Math.max(0,t)+8}class Yb{constructor(t,e,n,i){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e,n,i=t.ownerDocument;for(let r=t.parentNode;r&&!(r==i.body||e&&n);)if(1==r.nodeType)!n&&r.scrollHeight>r.clientHeight&&(n=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}return{x:e,y:n}}(t.contentDOM),this.atoms=t.state.facet(gb).map((e=>e(t)));let r=t.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(MO.allowMultipleSelections)&&function(t,e){let n=t.state.facet(Xv);return n.length?n[0](e):tv.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=py(t.root);if(!i||0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let t=r[s];if(t.left<=e.clientX&&t.right>=e.clientX&&t.top<=e.clientY&&t.bottom>=e.clientY)return!0}return!1}(t,e)||1!=aw(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,n=0,i=0,r=0,s=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:r,bottom:o}=this.scrollParents.y.getBoundingClientRect());let a=vb(this.view);t.clientX-a.left<=i+6?e=-Xb(i-t.clientX):t.clientX+a.right>=s-6&&(e=Xb(t.clientX-s)),t.clientY-a.top<=r+6?n=-Xb(r-t.clientY):t.clientY+a.bottom>=o-6&&(n=Xb(t.clientY-o)),this.setScrollSpeed(e,n)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let i=t.ranges[n],r=null;if(i.empty){let t=qb(this.atoms,i.from,0);t!=i.from&&(r=Zm.cursor(t,-1))}else{let t=qb(this.atoms,i.from,-1),e=qb(this.atoms,i.to,1);t==i.from&&e==i.to||(r=Zm.range(i.from==i.anchor?t:e,i.from==i.head?t:e))}r&&(e||(e=t.ranges.slice()),e[n]=r)}return e?Zm.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&n.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Fb=Object.create(null),Bb=Object.create(null),Gb=tv.ie&&tv.ie_version<15||tv.ios&&tv.webkit_version<604;function Hb(t,e){let n,{state:i}=t,r=1,s=i.toText(e),o=s.lines==i.selection.ranges.length;if(null!=hw&&i.selection.ranges.every((t=>t.empty))&&hw==s.toString()){let t=-1;n=i.changeByRange((n=>{let a=i.doc.lineAt(n.from);if(a.from==t)return{range:n};t=a.from;let l=i.toText((o?s.line(r++).text:e)+i.lineBreak);return{changes:{from:a.from,insert:l},range:Zm.cursor(n.from+l.length)}}))}else n=o?i.changeByRange((t=>{let e=s.line(r++);return{changes:{from:t.from,to:t.to,insert:e.text},range:Zm.cursor(t.from+e.length)}})):i.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Kb(t,e,n,i){if(1==i)return Zm.cursor(e,n);if(2==i)return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(0==r.length)return Zm.cursor(e);0==s?n=1:s==r.length&&(n=-1);let o=s,a=s;n<0?o=_m(r.text,s,!1):a=_m(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let t=_m(r.text,o,!1);if(i(r.text.slice(t,o))!=l)break;o=t}for(;a<r.length;){let t=_m(r.text,a);if(i(r.text.slice(a,t))!=l)break;a=t}return Zm.range(o+r.from,a+r.from)}(t.state,e,n);{let n=fv.find(t.docView,e),i=t.state.doc.lineAt(n?n.posAtEnd:e),r=n?n.posAtStart:i.from,s=n?n.posAtEnd:i.to;return s<t.state.doc.length&&s==i.to&&s++,Zm.range(r,s)}}Bb.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Fb.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),Bb.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Bb.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Fb.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(Fv))if(n=i(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=nw(t,e),i=aw(e),r=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),r=r.map(t.changes))},get(e,s,o){let a,l=nw(t,e),h=Kb(t,l.pos,l.bias,i);if(n.pos!=l.pos&&!s){let e=Kb(t,n.pos,n.bias,i),r=Math.min(e.from,h.from),s=Math.max(e.to,h.to);h=r<h.from?Zm.range(r,s):Zm.range(s,r)}return s?r.replaceRange(r.main.extend(h.from,h.to)):o&&1==i&&r.ranges.length>1&&(a=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return Zm.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(r,l.pos))?a:o?r.addRange(h):Zm.create([h])}}}(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new Yb(t,e,n,i)),i&&t.observer.ignore((()=>{Cy(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let r=t.inputState.mouseSelection;if(r)return r.start(e),!1===r.dragging}return!1};let Jb=(t,e)=>t>=e.top&&t<=e.bottom,tw=(t,e,n)=>Jb(e,n)&&t>=n.left&&t<=n.right;function ew(t,e,n,i){let r=fv.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&tw(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&tw(n,i,a)?1:o&&Jb(i,o)?-1:1}function nw(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:ew(t,n,e.clientX,e.clientY)}}const iw=tv.ie&&tv.ie_version<=11;let rw=null,sw=0,ow=0;function aw(t){if(!iw)return t.detail;let e=rw,n=ow;return rw=t,ow=Date.now(),sw=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(sw+1)%3:1}function lw(t,e,n,i){if(!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&function(t,e){let n=t.state.facet(Yv);return n.length?n[0](e):tv.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,a={from:r,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Fb.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let t=i.posAtStart,e=t+i.length;(t>=n.to||e<=n.from)&&(n=Zm.range(t,e))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1},Fb.dragend=t=>(t.inputState.draggedContent=null,!1),Fb.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&lw(t,e,i.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(i[t]=e.result),s()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return lw(t,e,n,!0),!0}return!1},Fb.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Gb?null:e.clipboardData;return n?(Hb(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),Hb(t,n.value)}),50)}(t),!1)};let hw=null;Fb.copy=Fb.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=function(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:i}of t.selection.ranges){let s=t.doc.lineAt(i);s.number>r&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}(t.state);if(!n&&!r)return!1;hw=r?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=Gb?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout((()=>{i.remove(),t.focus()}),50)}(t,n),!1)};const cw=wO.define();function uw(t,e){let n=[];for(let i of t.facet(Kv)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:cw.of(!0)}):null}function dw(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=uw(t.state,e);n?t.dispatch(n):t.update([])}}),10)}Bb.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),dw(t)},Bb.blur=t=>{t.observer.clearSelectionRange(),dw(t)},Bb.compositionstart=Bb.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},Bb.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,tv.chrome&&tv.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50))},Bb.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Fb.beforeinput=(t,e)=>{var n;let i;if(tv.chrome&&tv.android&&(i=zb.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return tv.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),tv.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>Bb.compositionend(t,e)),20),!1};const fw=new Set;const pw=["pre-wrap","normal","pre-line","break-spaces"];class gw{constructor(t){this.lineWrapping=t,this.doc=dm.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return pw.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let i=t[n];i<0?n++:this.heightSamples[Math.floor(10*i)]||(e=!0,this.heightSamples[Math.floor(10*i)]=!0)}return e}refresh(t,e,n,i,r,s){let o=pw.indexOf(t)>-1,a=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=n,this.textHeight=i,this.lineLength=r,a){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}}class mw{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Ow{constructor(t,e,n,i,r){this.from=t,this.length=e,this.top=n,this.height=i,this._content=r}get type(){return"number"==typeof this._content?mv.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof bv?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Ow(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var yw=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(yw||(yw={}));const vw=.001;class bw{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>vw&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return bw.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,i){let r=this,s=n.doc;for(let o=i.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:h,toB:c}=i[o],u=r.lineAt(a,yw.ByPosNoHeight,n.setDoc(e),0,0),d=u.to>=l?u:r.lineAt(l,yw.ByPosNoHeight,n,0,0);for(c+=d.to-l,l=d.to;o>0&&u.from<=i[o-1].toA;)a=i[o-1].fromA,h=i[o-1].fromB,o--,a<u.from&&(u=r.lineAt(a,yw.ByPosNoHeight,n,0,0));h+=u.from-a,a=u.from;let f=_w.build(n.setDoc(s),t,h,c);r=r.replace(a,l,f)}return r.updateHeight(n,0)}static empty(){return new xw(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,i=0,r=0;for(;;)if(e==n)if(i>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,r-=e.size}}else if(i<r){let n=t[e++];n&&(i+=n.size)}else{let e=t[--n];e&&(r+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new Sw(bw.of(t.slice(0,e)),s,bw.of(t.slice(n)))}}bw.prototype.size=1;class ww extends bw{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,i){return new Ow(i,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(t,e,n,i,r,s){t<=r+this.length&&e>=r&&s(this.blockAt(0,n,i,r))}updateHeight(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=e&&n.more&&this.setHeight(t,n.heights[n.index++]),this.outdated=!1,this}toString(){return"block(".concat(this.length,")")}}class xw extends ww{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,i){return new Ow(i,this.length,n,this.height,this.breaks)}replace(t,e,n){let i=n[0];return 1==n.length&&(i instanceof xw||i instanceof kw&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof kw?i=new xw(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):bw.of(n)}updateHeight(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return i&&i.from<=e&&i.more?this.setHeight(t,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}class kw extends bw{constructor(t){super(t,0)}heightMetrics(t,e){let n,i=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,s=r-i+1,o=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);n=e/s,this.length>s+1&&(o=(this.height-e)/(this.length-s-1))}else n=this.height/s;return{firstLine:i,lastLine:r,perLine:n,perChar:o}}blockAt(t,e,n,i){let{firstLine:r,lastLine:s,perLine:o,perChar:a}=this.heightMetrics(e,i);if(e.lineWrapping){let r=i+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),s=e.doc.lineAt(r),l=o+s.length*a,h=Math.max(n,t-l/2);return new Ow(s.from,s.length,h,l,0)}{let i=Math.max(0,Math.min(s-r,Math.floor((t-n)/o))),{from:a,length:l}=e.doc.line(r+i);return new Ow(a,l,n+o*i,o,0)}}lineAt(t,e,n,i,r){if(e==yw.ByHeight)return this.blockAt(t,n,i,r);if(e==yw.ByPosNoHeight){let{from:e,to:i}=n.doc.lineAt(t);return new Ow(e,i-e,0,0,0)}let{firstLine:s,perLine:o,perChar:a}=this.heightMetrics(n,r),l=n.doc.lineAt(t),h=o+l.length*a,c=l.number-s,u=i+o*c+a*(l.from-r-c);return new Ow(l.from,l.length,Math.max(i,Math.min(u,i+this.height-h)),h,0)}forEachLine(t,e,n,i,r,s){t=Math.max(t,r),e=Math.min(e,r+this.length);let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,r);for(let h=t,c=i;h<=e;){let e=n.doc.lineAt(h);if(h==t){let n=e.number-o;c+=a*n+l*(t-r-n)}let i=a+l*e.length;s(new Ow(e.from,e.length,c,i,0)),c+=i,h=e.to+1}}replace(t,e,n){let i=this.length-e;if(i>0){let t=n[n.length-1];t instanceof kw?n[n.length-1]=new kw(t.length+i):n.push(null,new kw(i-1))}if(t>0){let e=n[0];e instanceof kw?n[0]=new kw(t+e.length):n.unshift(new kw(t-1),null)}return bw.of(n)}decomposeLeft(t,e){e.push(new kw(t-1),null)}decomposeRight(t,e){e.push(null,new kw(this.length-t-1))}updateHeight(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=e+this.length;if(i&&i.from<=e+this.length&&i.more){let n=[],s=Math.max(e,i.from),o=-1;for(i.from>e&&n.push(new kw(i.from-e-1).updateHeight(t,e));s<=r&&i.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let r=i.heights[i.index++];-1==o?o=r:Math.abs(r-o)>=vw&&(o=-2);let a=new xw(e,r);a.outdated=!1,n.push(a),s+=e+1}s<=r&&n.push(null,new kw(r-s).updateHeight(t,s));let a=bw.of(n);return(o<0||Math.abs(a.height-this.height)>=vw||Math.abs(o-this.heightMetrics(t,e).perLine)>=vw)&&(t.heightChanged=!0),a}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return"gap(".concat(this.length,")")}}class Sw extends bw{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,i){let r=n+this.left.height;return t<r?this.left.blockAt(t,e,n,i):this.right.blockAt(t,e,r,i+this.left.length+this.break)}lineAt(t,e,n,i,r){let s=i+this.left.height,o=r+this.left.length+this.break,a=e==yw.ByHeight?t<s:t<o,l=a?this.left.lineAt(t,e,n,i,r):this.right.lineAt(t,e,n,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let h=e==yw.ByPosNoHeight?yw.ByPosNoHeight:yw.ByPos;return a?l.join(this.right.lineAt(o,h,n,s,o)):this.left.lineAt(o,h,n,i,r).join(l)}forEachLine(t,e,n,i,r,s){let o=i+this.left.height,a=r+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,n,i,r,s),e>=a&&this.right.forEachLine(t,e,n,o,a,s);else{let l=this.lineAt(a,yw.ByPos,n,i,r);t<l.from&&this.left.forEachLine(t,l.from-1,n,i,r,s),l.to>=t&&l.from<=e&&s(l),e>l.to&&this.right.forEachLine(l.to+1,e,n,o,a,s)}}replace(t,e,n){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,n));let r=[];t>0&&this.decomposeLeft(t,r);let s=r.length;for(let o of n)r.push(o);if(t>0&&Pw(r,s-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Pw(r,t)}return bw.of(r)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,i=n+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?bw.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,{left:r,right:s}=this,o=e+r.length+this.break,a=null;return i&&i.from<=e+r.length&&i.more?a=r=r.updateHeight(t,e,n,i):r.updateHeight(t,e,n),i&&i.from<=o+s.length&&i.more?a=s=s.updateHeight(t,o,n,i):s.updateHeight(t,o,n),a?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Pw(t,e){let n,i;null==t[e]&&(n=t[e-1])instanceof kw&&(i=t[e+1])instanceof kw&&t.splice(e-1,3,new kw(n.length+1+i.length))}class _w{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof xw?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new xw(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,r=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new ww(s,i,n)):(s||r||i>=5)&&this.addLineDeco(i,r,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new xw(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new kw(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof xw)return t;let e=new xw(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof xw||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new xw(0,-1));let n=t;for(let i of this.nodes)i instanceof xw&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(t,e,n,i){let r=new _w(n,t);return WO.spans(e,n,i,r,0),r.finish(n)}}class Qw{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,i){(t<e||n&&n.heightRelevant||i&&i.heightRelevant)&&xv(t,e,this.changes,5)}}function Tw(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(r.innerHeight,n.bottom);for(let h=t.parentNode;h&&h!=i.body;)if(1==h.nodeType){let e=h,n=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=n.overflow){let n=e.getBoundingClientRect();s=Math.max(s,n.left),o=Math.min(o,n.right),a=Math.max(a,n.top),l=h==t.parentNode?n.bottom:Math.min(l,n.bottom)}h="absolute"==n.position||"fixed"==n.position?e.offsetParent:e.parentNode}else{if(11!=h.nodeType)break;h=h.host}return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Cw(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Ew{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(t,e){return Ov.replace({widget:new Rw(this.size*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class Rw extends gv{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Aw{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Mw,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_v.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(db).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new gw(e),this.stateDeco=t.facet(fb).filter((t=>"function"!=typeof t)),this.heightMap=bw.empty().applyChanges(this.stateDeco,dm.empty,this.heightOracle.setDoc(t.doc),[new wb(0,0,0,t.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ov.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let i=n?e.head:e.anchor;if(!t.some((t=>{let{from:e,to:n}=t;return i>=e&&i<=n}))){let{from:e,to:n}=this.lineBlockAt(i);t.push(new $w(e,n))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?Mw:new Dw(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(qw(t,this.scaler))}))}update(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(fb).filter((t=>"function"!=typeof t));let i=t.changedRanges,r=wb.extendWithRanges(i,function(t,e,n){let i=new Qw;return WO.compare(t,e,n,i,0),i.changes}(n,this.stateDeco,t?t.changes:Dm.empty(this.state.doc.length))),s=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),r),this.heightMap.height!=s&&(t.flags|=2),o?(this.scrollAnchorPos=t.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=r.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e));let l=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,t.flags|=this.updateForViewport(),(l||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(tb)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),i=this.heightOracle,r=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?_v.RTL:_v.LTR;let s=this.heightOracle.mustRefreshForWrapping(r),o=e.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let l=0,h=0;if(o.width&&o.height){let{scaleX:t,scaleY:n}=Py(e,o);(t>.005&&Math.abs(this.scaleX-t)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=t,this.scaleY=n,l|=8,s=a=!0)}let c=(parseInt(n.paddingTop)||0)*this.scaleY,u=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==c&&this.paddingBottom==u||(this.paddingTop=c,this.paddingBottom=u,l|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,l|=8);let d=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=$y(t.scrollDOM);let f=(this.printing?Cw:Tw)(e,this.paddingTop),p=f.top-this.pixelViewport.top,g=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let O=o.width;if(this.contentDOMWidth==O&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=o.width,this.editorHeight=t.scrollDOM.clientHeight,l|=8),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(s=!0),s||i.lineWrapping&&Math.abs(O-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:o,textHeight:a}=t.docView.measureTextSize();s=n>0&&i.refresh(r,n,o,a,O/o,e),s&&(t.docView.minWidth=0,l|=8)}p>0&&g>0?h=Math.max(p,g):p<0&&g<0&&(h=Math.min(p,g)),i.heightChanged=!1;for(let n of this.viewports){let r=n.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(n);this.heightMap=(s?bw.empty().applyChanges(this.stateDeco,dm.empty,this.heightOracle,[new wb(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new mw(n.from,r))}i.heightChanged&&(l|=2)}let y=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),l|=this.updateForViewport()),(2&l||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,r=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,a=new $w(i.lineAt(s-1e3*n,yw.ByHeight,r,0,0).from,i.lineAt(o+1e3*(1-n),yw.ByHeight,r,0,0).to);if(e){let{head:t}=e.range;if(t<a.from||t>a.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=i.lineAt(t,yw.ByPos,r,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<a.from?o.top:o.bottom-s,a=new $w(i.lineAt(n-500,yw.ByHeight,r,0,0).from,i.lineAt(n+s+500,yw.ByHeight,r,0,0).to)}}return a}mapViewport(t,e){let n=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new $w(this.heightMap.lineAt(n,yw.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,yw.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate(t){let{from:e,to:n}=t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,yw.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,yw.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(0==e||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2e3&&s<a+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let i of t)e.touchesRange(i.from,i.to)||n.push(new Ew(e.mapPos(i.from),e.mapPos(i.to),i.size));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,r=i>>1,s=i<<1;if(this.defaultTextDirection!=_v.LTR&&!n)return[];let o=[],a=(i,s,l,h)=>{if(s-i<r)return;let c=this.state.selection.main,u=[c.from];c.empty||u.push(c.to);for(let t of u)if(t>i&&t<s)return a(i,t-10,l,h),void a(t+10,s,l,h);let d=function(t,e){for(let n of t)if(e(n))return n;return}(t,(t=>t.from>=l.from&&t.to<=l.to&&Math.abs(t.from-i)<r&&Math.abs(t.to-s)<r&&!u.some((e=>t.from<e&&t.to>e))));if(!d){if(s<l.to&&e&&n&&e.visibleRanges.some((t=>t.from<=s&&t.to>=s))){let t=e.moveToLineBoundary(Zm.cursor(s),!1,!0).head;t>i&&(s=t)}d=new Ew(i,s,this.gapSize(l,i,s,h))}o.push(d)},l=t=>{if(t.length<s||t.type!=mv.Text)return;let e=function(t,e,n){let i=[],r=t,s=0;WO.spans(n,t,e,{span(){},point(t,e){t>r&&(i.push({from:r,to:t}),s+=t-r),r=e}},20),r<e&&(i.push({from:r,to:e}),s+=e-r);return{total:s,ranges:i}}(t.from,t.to,this.stateDeco);if(e.total<s)return;let r,o,l=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,s,a=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=l){let i=Iw(e,l),r=((this.visibleBottom-this.visibleTop)/2+a)/t.height;n=i-r,s=i+r}else n=(this.visibleTop-t.top-a)/t.height,s=(this.visibleBottom-t.top+a)/t.height;r=Nw(e,n),o=Nw(e,s)}else{let t,n,s=e.total*this.heightOracle.charWidth,a=i*this.heightOracle.charWidth;if(null!=l){let i=Iw(e,l),r=((this.pixelViewport.right-this.pixelViewport.left)/2+a)/s;t=i-r,n=i+r}else t=(this.pixelViewport.left-a)/s,n=(this.pixelViewport.right+a)/s;r=Nw(e,t),o=Nw(e,n)}r>t.from&&a(t.from,r,t,e),o<t.to&&a(o,t.to,t,e)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(l):l(h);return o}gapSize(t,e,n,i){let r=Iw(i,n)-Iw(i,e);return this.heightOracle.lineWrapping?t.height*r:i.total*this.heightOracle.charWidth*r}updateLineGaps(t){Ew.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Ov.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];WO.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||qw(this.heightMap.lineAt(t,yw.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||qw(this.heightMap.lineAt(this.scaler.fromDOM(t),yw.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return qw(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class $w{constructor(t,e){this.from=t,this.to=e}}function Nw(t,e){let{total:n,ranges:i}=t;if(e<=0)return i[0].from;if(e>=1)return i[i.length-1].to;let r=Math.floor(n*e);for(let s=0;;s++){let{from:t,to:e}=i[s],n=e-t;if(r<=n)return t+r;r-=n}}function Iw(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}const Mw={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class Dw{constructor(t,e,n){let i=0,r=0,s=0;this.viewports=n.map((n=>{let{from:r,to:s}=n,o=e.lineAt(r,yw.ByPos,t,0,0).top,a=e.lineAt(s,yw.ByPos,t,0,0).bottom;return i+=a-o,{from:r,to:s,top:o,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(e.height-i);for(let o of this.viewports)o.domTop=s+(o.top-r)*this.scale,s=o.domBottom=o.domTop+(o.bottom-o.top),r=o.bottom}toDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.top)return i+(t-n)*this.scale;if(t<=r.bottom)return r.domTop+(t-r.top);n=r.bottom,i=r.domBottom}}fromDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.domTop)return n+(t-i)/this.scale;if(t<=r.domBottom)return r.top+(t-r.domTop);n=r.bottom,i=r.domBottom}}eq(t){return t instanceof Dw&&(this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to)))}}function qw(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Ow(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map((t=>qw(t,e))):t._content)}const jw=Fm.define({combine:t=>t.join(" ")}),Uw=Fm.define({combine:t=>t.indexOf(!0)>-1}),Lw=sy.newName(),Ww=sy.newName(),zw=sy.newName(),Vw={"&light":"."+Ww,"&dark":"."+zw};function Zw(t,e,n){return new sy(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError("Unsupported selector: ".concat(e));return n[e]})):t+" "+e})}const Xw=Zw("."+Lw,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Vw),Yw="\uffff";class Fw{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(MO.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Yw}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let i=t;;){this.findPointBefore(n,i);let t=this.text.length;this.readNode(i);let r=i.nextSibling;if(r==e)break;let s=qy.get(i),o=qy.get(r);(s&&o?s.breakAfter:(s?s.breakAfter:by(i))||by(r)&&("BR"!=i.nodeName||i.cmIgnore)&&this.text.length>t)&&this.lineBreak(),i=r}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let r,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(r=i.exec(e))&&(s=r.index,o=r[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=qy.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(Bw(t,n.node,n.offset)?e:0))}}function Bw(t,e,n){for(;;){if(!e||n<xy(e))return!1;if(e==t)return!0;n=vy(e)+1,e=e.parentNode}}class Gw{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Hw{constructor(t,e,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:r,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=r||s?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;n&&(e.push(new Gw(n,i)),r==n&&s==i||e.push(new Gw(r,s)));return e}(t),n=new Fw(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,i=2==t.length?t[1].pos:n;return n>-1&&i>-1?Zm.single(n+e,i+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=r&&r.node==e.focusNode&&r.offset==e.focusOffset||!gy(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),i=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!gy(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),o=t.viewport;if((tv.ios||tv.chrome)&&t.state.selection.main.empty&&n!=i&&(o.from>0||o.to<t.state.doc.length)){let e=Math.min(n,i),r=Math.max(n,i),s=o.from-e,a=o.to-r;0!=s&&1!=s&&0!=e||0!=a&&-1!=a&&r!=t.state.doc.length||(n=0,i=t.state.doc.length)}this.newSel=Zm.single(i,n)}}}function Kw(t,e){let n,{newSel:i}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:i,to:o}=e.bounds,a=r.from,l=null;(8===s||tv.android&&e.text.length<o-i)&&(a=r.to,l="end");let h=function(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if("end"==i){n-=o+Math.max(0,s-Math.min(o,a))-s}if(o<s&&t.length<e.length){s-=n<=s&&n>=o?s-n:0,a=s+(a-o),o=s}else if(a<s){s-=n<=s&&n>=a?s-n:0,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}(t.state.doc.sliceString(i,o,Yw),e.text,a-i,l);h&&(tv.chrome&&13==s&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Yw+Yw&&h.toB--,n={from:i+h.from,to:i+h.toA,insert:dm.of(e.text.slice(h.from,h.toB).split(Yw))})}else i&&(!t.hasFocus&&t.state.facet(ob)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:(tv.mac||tv.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(i&&2==n.insert.length&&(i=Zm.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:dm.of([" "])}):tv.chrome&&n&&n.from==n.to&&n.from==r.head&&"\n "==n.insert.toString()&&t.lineWrapping&&(i&&(i=Zm.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:dm.of([" "])}),n)return Jw(t,n,i,s);if(i&&!i.main.eq(r)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:e,userEvent:n}),!0}return!1}function Jw(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(tv.ios&&t.inputState.flushIOSKey(e))return!0;let r=t.state.selection.main;if(tv.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&" "==t.state.sliceDoc(e.from,r.from))&&1==e.insert.length&&2==e.insert.lines&&Ry(t.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&0==e.insert.length||8==i&&e.insert.length<e.to-e.from&&e.to>r.head)&&Ry(t.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&0==e.insert.length&&Ry(t.contentDOM,"Delete",46)))return!0;let s,o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a=()=>s||(s=function(t,e,n){let i,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=s.from<e.from?r.sliceDoc(s.from,e.from):"",o=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+o))}else{let o=r.changes(e),a=n&&n.main.to<=o.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let l,h=t.state.sliceDoc(e.from,e.to),c=n&&Pb(t,n.main.head);if(c){let t=e.insert.length-(e.to-e.from);l={from:c.from,to:c.to-t}}else l=t.state.doc.lineAt(s.head);let u=s.to-e.to,d=s.to-s.from;i=r.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:o,range:a||n.map(o)};let i=n.to-u,c=i-h.length;if(n.to-n.from!=d||t.state.sliceDoc(c,i)!=h||n.to>=l.from&&n.from<=l.to)return{range:n};let f=r.changes({from:c,to:i,insert:e.insert}),p=n.to-s.to;return{changes:f,range:a?Zm.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):n.map(f)}}))}else i={changes:o,selection:a&&r.selection.replaceRange(a)}}let o="input.type";(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1));return r.update(i,{userEvent:o,scrollIntoView:!0})}(t,e,n));return t.state.facet(Hv).some((n=>n(t,e.from,e.to,o,a)))||t.dispatch(a()),!0}const tx={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ex=tv.ie&&tv.ie_version<=11;class nx{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new _y,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(tv.ie&&tv.ie_version<=11||tv.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===t.constructor.EDIT_CONTEXT||tv.chrome&&tv.chrome_version<126||(this.editContext=new sx(t),t.state.facet(ob)&&(t.contentDOM.editContext=this.editContext.editContext)),ex&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(ob)?n.root.activeElement!=this.dom:!my(n.dom,i))return;let r=i.anchorNode&&n.docView.nearest(i.anchorNode);r&&r.ignoreEvent(t)?e||(this.selectionChanged=!1):(tv.ie&&tv.ie_version<=11||tv.android&&tv.chrome)&&!n.state.selection.main.empty&&i.focusNode&&yy(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=py(t.root);if(!e)return!1;let n=tv.safari&&11==t.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return rx(t,n)}let n=null;function i(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?rx(t,n):null}(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let i=my(this.dom,n);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,xy(n));;)if(i){if(1!=n.nodeType)return!1;let t=n.childNodes[i-1];"false"==t.contentEditable?i--:(n=t,i=xy(n))}else{if(n==t)return!0;i=vy(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,tx),ex&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ex&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;if(t){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&Ry(this.dom,t.key,t.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,i=!1;for(let r of t){let t=this.readMutation(r);t&&(t.typeOver&&(i=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:i}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),i=this.selectionChanged&&my(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new Hw(this.view,t,e,n);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,i=Kw(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=ix(e,t.previousSibling||t.target.previousSibling,-1),i=ix(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(ob)!=t.state.facet(ob)&&(t.view.contentDOM.editContext=t.state.facet(ob)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ix(t,e,n){for(;e;){let i=qy.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function rx(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return yy(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}class sx{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=e=>{let{anchor:n}=t.state.selection.main,i={from:this.toEditorPos(e.updateRangeStart),to:this.toEditorPos(e.updateRangeEnd),insert:dm.of(e.text.split("\n"))};i.from==this.from&&n<this.from?i.from=n:i.to==this.to&&n>this.to&&(i.to=n),(i.from!=i.to||i.insert.length)&&(this.pendingContextChange=i,Jw(t,i,Zm.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=n=>{let i=[],r=null;for(let e=this.toEditorPos(n.rangeStart),s=this.toEditorPos(n.rangeEnd);e<s;e++){let n=t.coordsForChar(e);r=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||r||new DOMRect,i.push(r)}e.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=e=>{let n=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,i=t.underlineThickness;if("None"!=e&&"None"!=i){let r="text-decoration: underline ".concat("Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":"").concat("Thin"==i?1:2,"px");n.push(Ov.mark({attributes:{style:r}}).range(this.toEditorPos(t.rangeStart),this.toEditorPos(t.rangeEnd)))}}t.dispatch({effects:rb.of(Ov.set(n))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null};for(let n in this.handlers)e.addEventListener(n,this.handlers[n]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=py(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,i=this.pendingContextChange;return t.changes.iterChanges(((r,s,o,a,l)=>{if(n)return;let h=l.length-(s-r);if(i&&s>=i.to){if(i.from==r&&i.to==s&&i.insert.eq(l))return i=this.pendingContextChange=null,e+=h,void(this.to+=h);i=null,this.revertPending(t.state)}if(r+=e,(s+=e)<=this.from)this.from+=h,this.to+=h;else if(r<this.to){if(r<this.from||s>this.to||this.to-this.from+l.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(r),this.toContextPos(s),l.toString()),this.to+=h}e+=h})),i&&!n&&this.revertPending(t.state),!n}update(t){let e=this.pendingContextChange;this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),i=this.toContextPos(e.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==i||this.editContext.updateSelection(n,i)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class ox{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:e}=t;this.dispatchTransactions=t.dispatchTransactions||e&&(t=>t.forEach((t=>e(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new Aw(t.state||MO.create(t)),t.scrollTo&&t.scrollTo.is(ib)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(lb).map((t=>new cb(t)));for(let n of this.plugins)n.update(this);this.observer=new nx(this),this.inputState=new Ub(this),this.inputState.ensureHandlers(this.plugins),this.docView=new kb(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=1==e.length&&e[0]instanceof PO?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(i,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,i=!1,r=this.state;for(let u of t){if(u.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=u.state}if(this.destroyed)return void(this.viewState.state=r);let s=this.hasFocus,o=0,a=null;t.some((t=>t.annotation(cw)))?(this.inputState.notifiedFocused=s,o=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=uw(r,s),a||(o=1));let l=this.observer.delayedAndroidKey,h=null;if(l?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(h=null)):this.observer.clear(),r.facet(MO.phrases)!=this.state.facet(MO.phrases))return this.setState(r);e=xb.create(this,r,t),e.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(c&&(c=c.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;c=new nb(t.empty?t:Zm.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(ib)&&(c=t.value.clip(this.state))}this.viewState.update(e,c),this.bidiCache=hx.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(bb)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(jw)!=e.state.facet(jw)&&(this.viewState.mustMeasureContent=!0),(n||i||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!e.empty)for(let u of this.state.facet(Gv))try{u(e)}catch(S5){sb(this.state,S5,"update listener")}(a||h)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),h&&!Kw(this,h)&&l.force&&Ry(this.contentDOM,l.key,l.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Aw(t),this.plugins=t.facet(lb).map((t=>new cb(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new kb(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(lb),n=t.state.facet(lb);if(e!=n){let i=[];for(let r of n){let n=e.indexOf(r);if(n<0)i.push(new cb(r));else{let e=this.plugins[n];e.mustUpdate=t,i.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(S5){sb(this.state,S5,"doc view update listener")}}}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if($y(n))r=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(i);r=t.from,s=t.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&o||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map((t=>{try{return t.read(this)}catch(S5){return sb(this.state,S5),lx}})),h=xb.create(this,this.state,[]),c=!1;h.flags|=o,e?e.flags|=o:e=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),c=this.docView.update(h),c&&this.docViewUpdate());for(let t=0;t<a.length;t++)if(l[t]!=lx)try{let e=a[t];e.write&&e.write(l[t],this)}catch(S5){sb(this.state,S5)}if(c&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let t=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-s;if(t>1||t<-1){i+=t,n.scrollTop=i/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let o of this.state.facet(Gv))o(e)}get themeClasses(){return Lw+" "+(this.state.facet(Uw)?zw:Ww)+" "+this.state.facet(jw)}updateAttrs(){let t=cx(this,ub,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ob)?"true":"false",class:"cm-content",style:"".concat(tv.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),cx(this,db,e);let n=this.observer.ignore((()=>{let n=uv(this.contentDOM,this.contentAttrs,e),i=uv(this.dom,this.editorAttrs,t);return n||i}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)if(t.is(ox.announce)){e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(bb);let t=this.state.facet(ox.cspNonce);sy.mount(this.root,this.styleModules.concat(Xw).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return jb(this,t,Db(this,t,e,n))}moveByGroup(t,e){return jb(this,t,Db(this,t,e,(e=>function(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return t=>{let e=i(t);return r==AO.Space&&(r=e),r==e}}(this,t.head,e))))}visualLineSide(t,e){let n=this.bidiSpans(t),i=this.textDirectionAt(t.from),r=n[e?n.length-1:0];return Zm.cursor(r.side(e,i)+t.from,r.forward(!e,i)?1:-1)}moveToLineBoundary(t,e){return function(t,e,n,i){let r=Mb(t,e.head),s=i&&r.type==mv.Text&&(t.lineWrapping||r.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),i=t.textDirectionAt(r.from),o=t.posAtCoords({x:n==(i==_v.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=o)return Zm.cursor(o,n?-1:1)}return Zm.cursor(n?r.to:r.from,n?-1:1)}(this,t,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}moveVertically(t,e,n){return jb(this,t,function(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return Zm.cursor(r,e.assoc);let o,a=e.goalColumn,l=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(r,e.assoc||-1),c=t.documentTop;if(h)null==a&&(a=h.left-l.left),o=s<0?h.top:h.bottom;else{let e=t.viewState.lineBlockAt(r);null==a&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-e.from))),o=(s<0?e.top:e.bottom)+c}let u=l.left+a,d=null!==i&&void 0!==i?i:t.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let e=o+(d+f)*s,n=Nb(t,{x:u,y:e},!1,s);if(e<l.top||e>l.bottom||(s<0?n<r:n>r)){let i=t.docView.coordsForChar(n),r=!i||e<i.top?-1:1;return Zm.cursor(n,r,void 0,a)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(t,e)}posAtCoords(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),Nb(this,t,e)}coordsAtPos(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(t),r=this.bidiSpans(i);return ky(n,r[Mv.find(r,t-i.from,-1,e)].dir==_v.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Jv)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>ax)return Wv(t.length);let e,n=this.textDirectionAt(t.from);for(let r of this.bidiCache)if(r.from==t.from&&r.dir==n&&(r.fresh||Dv(r.isolates,e=Ob(this,t))))return r.order;e||(e=Ob(this,t));let i=Lv(t.text,n,e);return this.bidiCache.push(new hx(t.from,t.to,n,e,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||tv.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Cy(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ib.of(new nb("number"==typeof t?Zm.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return ib.of(new nb(Zm.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return hb.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return hb.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=sy.newName(),i=[jw.of(n),bb.of(Zw(".".concat(n),t))];return e&&e.dark&&i.push(Uw.of(!0)),i}static baseTheme(t){return aO.lowest(bb.of(Zw("."+Lw,t,Vw)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),i=n&&qy.get(n)||qy.get(t);return(null===(e=null===i||void 0===i?void 0:i.rootView)||void 0===e?void 0:e.view)||null}}ox.styleModule=bb,ox.inputHandler=Hv,ox.scrollHandler=eb,ox.focusChangeEffect=Kv,ox.perLineTextDirection=Jv,ox.exceptionSink=Bv,ox.updateListener=Gv,ox.editable=ob,ox.mouseSelectionStyle=Fv,ox.dragMovesSelection=Yv,ox.clickAddsSelectionRange=Xv,ox.decorations=fb,ox.outerDecorations=pb,ox.atomicRanges=gb,ox.bidiIsolatedRanges=mb,ox.scrollMargins=yb,ox.darkTheme=Uw,ox.cspNonce=Fm.define({combine:t=>t.length?t[0]:""}),ox.contentAttributes=db,ox.editorAttributes=ub,ox.lineWrapping=ox.contentAttributes.of({class:"cm-lineWrapping"}),ox.announce=SO.define();const ax=4096,lx={};class hx{constructor(t,e,n,i,r,s){this.from=t,this.to=e,this.dir=n,this.isolates=i,this.fresh=r,this.order=s}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],i=t.length?t[t.length-1].dir:_v.LTR;for(let r=Math.max(0,t.length-10);r<t.length;r++){let s=t[r];s.dir!=i||e.touchesRange(s.from,s.to)||n.push(new hx(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function cx(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let e=i[r],s="function"==typeof e?e(t):e;s&&lv(s,n)}return n}const ux=tv.mac?"mac":tv.windows?"win":tv.linux?"linux":"key";function dx(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const fx=aO.default(ox.domEventHandlers({keydown:(t,e)=>bx(mx(e.state),t,e,"editor")})),px=Fm.define({enables:fx}),gx=new WeakMap;function mx(t){let e=t.facet(px),n=gx.get(e);return n||gx.set(e,n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ux,n=Object.create(null),i=Object.create(null),r=(t,e)=>{let n=i[t];if(null==n)i[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,i,s,o,a)=>{var l,h;let c=n[t]||(n[t]=Object.create(null)),u=i.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let i,r,s,o,a=n[n.length-1];"Space"==a&&(a=" ");for(let l=0;l<n.length-1;++l){const t=n[l];if(/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))i=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))s=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);"mac"==e?o=!0:r=!0}}return i&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),s&&(a="Shift-"+a),a}(t,e)));for(let e=1;e<u.length;e++){let n=u.slice(0,e).join(" ");r(n,!0),c[n]||(c[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let i=Ox={view:e,prefix:n,scope:t};return setTimeout((()=>{Ox==i&&(Ox=null)}),yx),!0}]})}let d=u.join(" ");r(d,!1);let f=c[d]||(c[d]={preventDefault:!1,stopPropagation:!1,run:(null===(h=null===(l=c._any)||void 0===l?void 0:l.run)||void 0===h?void 0:h.slice())||[]});s&&f.run.push(s),o&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let o of t){let t=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:i}=o;for(let e in t)t[e].run.push((t=>i(t,vx)))}let i=o[e]||o.key;if(i)for(let e of t)s(e,i,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(e,"Shift-"+i,o.shift,o.preventDefault,o.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}let Ox=null;const yx=4e3;let vx=null;function bx(t,e,n,i){vx=e;let r=function(t){var e=!(cy&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||uy&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?hy:ly)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=$m(Rm(r,0))==r.length&&" "!=r,o="",a=!1,l=!1,h=!1;Ox&&Ox.view==n&&Ox.scope==i&&(o=Ox.prefix+" ",Zb.indexOf(e.keyCode)<0&&(l=!0,Ox=null));let c,u,d=new Set,f=t=>{if(t){for(let e of t.run)if(!d.has(e)&&(d.add(e),e(n)))return t.stopPropagation&&(h=!0),!0;t.preventDefault&&(t.stopPropagation&&(h=!0),l=!0)}return!1},p=t[i];return p&&(f(p[o+dx(r,e,!s)])?a=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(tv.windows&&e.ctrlKey&&e.altKey)&&(c=ly[e.keyCode])&&c!=r?(f(p[o+dx(c,e,!0)])||e.shiftKey&&(u=hy[e.keyCode])!=r&&u!=c&&f(p[o+dx(u,e,!1)]))&&(a=!0):s&&e.shiftKey&&f(p[o+dx(r,e,!0)])&&(a=!0),!a&&f(p._any)&&(a=!0)),l&&(a=!0),a&&h&&e.stopPropagation(),vx=null,a}class wx{constructor(t,e,n,i,r){this.className=t,this.left=e,this.top=n,this.width=i,this.height=r}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let i=t.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let r=xx(t);return[new wx(e,i.left-r.left,i.top-r.top,null,i.bottom-i.top)]}return function(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let i=Math.max(n.from,t.viewport.from),r=Math.min(n.to,t.viewport.to),s=t.textDirection==_v.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=xx(t),h=o.querySelector(".cm-line"),c=h&&window.getComputedStyle(h),u=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=a.right-(c?parseInt(c.paddingRight):0),f=Mb(t,i),p=Mb(t,r),g=f.type==mv.Text?f:null,m=p.type==mv.Text?p:null;g&&(t.lineWrapping||f.widgetLineBreaks)&&(g=kx(t,i,1,g));m&&(t.lineWrapping||p.widgetLineBreaks)&&(m=kx(t,r,-1,m));if(g&&m&&g.from==m.from&&g.to==m.to)return y(v(n.from,n.to,g));{let e=g?v(n.from,null,g):b(f,!1),i=m?v(null,n.to,m):b(p,!0),r=[];return(g||f).to<(m||p).from-(g&&m?1:0)||f.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<i.top?r.push(O(u,e.bottom,d,i.top)):e.bottom<i.top&&t.elementAtHeight((e.bottom+i.top)/2).type==mv.Text&&(e.bottom=i.top=(e.bottom+i.top)/2),y(e).concat(r).concat(y(i))}function O(t,n,i,r){return new wx(e,t-l.left,n-l.top-.01,i-t,r-n+.01)}function y(t){let{top:e,bottom:n,horizontal:i}=t,r=[];for(let s=0;s<i.length;s+=2)r.push(O(i[s],e,i[s+1],n));return r}function v(e,n,i){let r=1e9,o=-1e9,a=[];function l(e,n,l,h,c){let f=t.coordsAtPos(e,e==i.to?-2:2),p=t.coordsAtPos(l,l==i.from?2:-2);f&&p&&(r=Math.min(f.top,p.top,r),o=Math.max(f.bottom,p.bottom,o),c==_v.LTR?a.push(s&&n?u:f.left,s&&h?d:p.right):a.push(!s&&h?u:p.left,!s&&n?d:f.right))}let h=null!==e&&void 0!==e?e:i.from,c=null!==n&&void 0!==n?n:i.to;for(let s of t.visibleRanges)if(s.to>h&&s.from<c)for(let i=Math.max(s.from,h),r=Math.min(s.to,c);;){let s=t.state.doc.lineAt(i);for(let o of t.bidiSpans(s)){let t=o.from+s.from,a=o.to+s.from;if(t>=r)break;a>i&&l(Math.max(t,i),null==e&&t<=h,Math.min(a,r),null==n&&a>=c,o.dir)}if(i=s.to+1,i>=r)break}return 0==a.length&&l(h,null==e,c,null==n,t.textDirection),{top:r,bottom:o,horizontal:a}}function b(t,e){let n=a.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(t,e,n)}}function xx(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==_v.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function kx(t,e,n,i){let r=t.coordsAtPos(e,2*n);if(!r)return i;let s=t.dom.getBoundingClientRect(),o=(r.top+r.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return null==a||null==l?i:{from:Math.max(i.from,Math.min(a,l)),to:Math.min(i.to,Math.max(a,l))}}class Sx{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(Px)!=t.state.facet(Px)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,n=t.facet(Px);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform="scale(".concat(1/t,", ").concat(1/e,")"))}draw(t){if(t.length!=this.drawn.length||t.some(((t,e)=>!function(t,e){return t.constructor==e.constructor&&t.eq(e)}(t,this.drawn[e])))){let e=this.dom.firstChild,n=0;for(let i of t)i.update&&e&&i.constructor&&this.drawn[n].constructor&&i.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(i.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Px=Fm.define();function _x(t){return[hb.define((e=>new Sx(e,t))),Px.of(t)]}const Qx=!tv.ios,Tx=Fm.define({combine:t=>DO(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function Cx(t){return t.startState.facet(Tx)!=t.state.facet(Tx)}const Ex=_x({above:!0,markers(t){let{state:e}=t,n=e.facet(Tx),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||Qx:n.drawRangeCursor){let e=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=r.empty?r:Zm.cursor(r.head,r.head>r.anchor?-1:1);for(let r of wx.forRange(t,e,n))i.push(r)}}return i},update(t,e){t.transactions.some((t=>t.selection))&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let n=Cx(t);return n&&Rx(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){Rx(e.state,t)},class:"cm-cursorLayer"});function Rx(t,e){e.style.animationDuration=t.facet(Tx).cursorBlinkRate+"ms"}const Ax=_x({above:!1,markers:t=>t.state.selection.ranges.map((e=>e.empty?[]:wx.forRange(t,"cm-selectionBackground",e))).reduce(((t,e)=>t.concat(e))),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||Cx(t),class:"cm-selectionLayer"}),$x={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Qx&&($x[".cm-line"].caretColor=$x[".cm-content"].caretColor="transparent !important");const Nx=aO.highest(ox.theme($x)),Ix=SO.define({map:(t,e)=>null==t?null:e.mapPos(t)}),Mx=eO.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(Ix)?e.value:t),t))}),Dx=hb.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Mx);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Mx)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Mx),n=null!=e&&t.coordsAtPos(e);if(!n)return null;let i=t.scrollDOM.getBoundingClientRect();return{left:n.left-i.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-i.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Mx)!=t&&this.view.dispatch({effects:Ix.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function qx(t,e,n,i,r){e.lastIndex=0;for(let s,o=t.iterRange(n,i),a=n;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)r(a+s.index,s)}class jx{constructor(t){const{regexp:e,decoration:n,decorate:i,boundary:r,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,i)this.addMatch=(t,e,n,r)=>i(r,n,n+t[0].length,t,e);else if("function"==typeof n)this.addMatch=(t,e,i,r)=>{let s=n(t,e,i);s&&r(i,i+t[0].length,s)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,i,r)=>r(i,i+t[0].length,n)}this.boundary=r,this.maxLength=s}createDeco(t){let e=new zO,n=e.add.bind(e);for(let{from:i,to:r}of function(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let i=[];for(let{from:r,to:s}of n)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}(t,this.maxLength))qx(t.state.doc,this.regexp,i,r,((e,i)=>this.addMatch(i,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,i=-1;return t.docChanged&&t.changes.iterChanges(((e,r,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),i=Math.max(o,i))})),t.viewportChanged||i-n>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,e.map(t.changes),n,i):e}updateRange(t,e,n,i){for(let r of t.visibleRanges){let s=Math.max(r.from,n),o=Math.min(r.to,i);if(o>s){let n=t.state.doc.lineAt(s),i=n.to<o?t.state.doc.lineAt(o):n,a=Math.max(r.from,n.from),l=Math.min(r.to,i.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){a=s;break}for(;o<i.to;o++)if(this.boundary.test(i.text[o-i.from])){l=o;break}}let h,c=[],u=(t,e,n)=>c.push(n.range(t,e));if(n==i)for(this.regexp.lastIndex=a-n.from;(h=this.regexp.exec(n.text))&&h.index<l-n.from;)this.addMatch(h,t,h.index+n.from,u);else qx(t.state.doc,this.regexp,a,l,((e,n)=>this.addMatch(n,t,e,u)));e=e.update({filterFrom:a,filterTo:l,filter:(t,e)=>t<a||e>l,add:c})}}return e}}const Ux=null!=/x/.unicode?"gu":"g",Lx=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",Ux),Wx={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let zx=null;const Vx=Fm.define({combine(t){let e=DO(t,{render:null,specialChars:Lx,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==zx&&"undefined"!=typeof document&&document.body){let e=document.body.style;zx=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return zx||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Ux)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ux)),e}});let Zx=null;class Xx extends gv{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"\u2022":10==t?"\u2424":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(Wx[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,e);if(i)return i;let r=document.createElement("span");return r.textContent=e,r.title=n,r.setAttribute("aria-label",n),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class Yx extends gv{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const Fx=Ov.line({class:"cm-activeLine"}),Bx=hb.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){let r=t.lineBlockAt(i.head);r.from>e&&(n.push(Fx.range(r.from)),e=r.from)}return Ov.set(n)}},{decorations:t=>t.decorations});class Gx extends gv{constructor(t){super(),this.content=t}toDOM(){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(t){let e=t.firstChild?Oy(t.firstChild):[];if(!e.length)return null;let n=window.getComputedStyle(t.parentNode),i=ky(e[0],"rtl"!=n.direction),r=parseInt(n.lineHeight);return i.bottom-i.top>1.5*r?{left:i.left,right:i.right,top:i.top,bottom:i.top+r}:i}ignoreEvent(){return!1}}const Hx=2e3;function Kx(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),r=n-i.from,s=r>Hx?-1:r==i.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):ty(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:s,off:r}}function Jx(t,e){let n=Kx(t,e),i=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),r=t.state.doc.lineAt(e);n={line:r.number,col:n.col,off:Math.min(n.off,r.length)},i=i.map(t.changes)}},get(e,r,s){let o=Kx(t,e);if(!o)return i;let a=function(t,e,n){let i=Math.min(e.line,n.line),r=Math.max(e.line,n.line),s=[];if(e.off>Hx||n.off>Hx||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let e=i;e<=r;e++){let n=t.doc.line(e);n.length<=a&&s.push(Zm.range(n.from+o,n.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let e=i;e<=r;e++){let n=t.doc.line(e),i=ey(n.text,o,t.tabSize,!0);if(i<0)s.push(Zm.cursor(n.to));else{let e=ey(n.text,a,t.tabSize);s.push(Zm.range(n.from+i,n.from+e))}}}return s}(t.state,n,o);return a.length?s?Zm.create(a.concat(i.ranges)):Zm.create(a):i}}:null}const tk={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},ek={style:"cursor: crosshair"};const nk="-10000px";class ik{constructor(t,e,n,i){this.facet=e,this.createTooltipView=n,this.removeTooltipView=i,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t));let r=null;this.tooltipViews=this.tooltips.map((t=>r=n(t,r)))}update(t,e){var n;let i=t.state.facet(this.facet),r=i.filter((t=>t));if(i===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let s=[],o=e?[]:null;for(let a=0;a<r.length;a++){let n=r[a],i=-1;if(n){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==n.create&&(i=t)}if(i<0)s[a]=this.createTooltipView(n,a?s[a-1]:null),o&&(o[a]=!!n.above);else{let n=s[a]=this.tooltipViews[i];o&&(o[a]=e[i]),n.update&&n.update(t)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(this.removeTooltipView(a),null===(n=a.destroy)||void 0===n||n.call(a));return e&&(o.forEach(((t,n)=>e[n]=t)),e.length=o.length),this.input=i,this.tooltips=r,this.tooltipViews=s,!0}}function rk(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const sk=Fm.define({combine:t=>{var e,n,i;return{position:tv.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(i=t.find((t=>t.tooltipSpace)))||void 0===i?void 0:i.tooltipSpace)||rk}}}),ok=new WeakMap,ak=hb.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(sk);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new ik(t,ck,((t,e)=>this.createTooltip(t,e)),(t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()})),this.above=this.manager.tooltips.map((t=>!!t.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(sk);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),i=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",n.dom.appendChild(t)}return n.dom.style.position=this.position,n.dom.style.top=nk,n.dom.style.left="0px",this.container.insertBefore(n.dom,i),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),null===(t=i.destroy)||void 0===t||t.call(i);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,i=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(tv.gecko)i=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==nk&&"0px"==t.style.left){let e=t.getBoundingClientRect();i=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(i||"absolute"==this.position)if(this.parent){let t=this.parent.getBoundingClientRect();t.width&&t.height&&(e=t.width/this.parent.offsetWidth,n=t.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((t=>{let{dom:e}=t;return e.getBoundingClientRect()})),space:this.view.state.facet(sk).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{editor:n,space:i,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],h=this.manager.tooltipViews[a],{dom:c}=h,u=t.pos[a],d=t.size[a];if(!u||u.bottom<=Math.max(n.top,i.top)||u.top>=Math.min(n.bottom,i.bottom)||u.right<Math.max(n.left,i.left)-.1||u.left>Math.min(n.right,i.right)+.1){c.style.top=nk;continue}let f=l.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,g=d.right-d.left,m=null!==(e=ok.get(h))&&void 0!==e?e:d.bottom-d.top,O=h.offset||hk,y=this.view.textDirection==_v.LTR,v=d.width>i.right-i.left?y?i.left:i.right-d.width:y?Math.min(u.left-(f?14:0)+O.x,i.right-g):Math.max(i.left,u.left-g+(f?14:0)-O.x),b=this.above[a];!l.strictSide&&(b?u.top-(d.bottom-d.top)-O.y<i.top:u.bottom+(d.bottom-d.top)+O.y>i.bottom)&&b==i.bottom-u.bottom>u.top-i.top&&(b=this.above[a]=!b);let w=(b?u.top-i.top:i.bottom-u.bottom)-p;if(w<m&&!1!==h.resize){if(w<this.view.defaultLineHeight){c.style.top=nk;continue}ok.set(h,m),c.style.height=(m=w)/s+"px"}else c.style.height&&(c.style.height="");let x=b?u.top-m-p-O.y:u.bottom+p+O.y,k=v+g;if(!0!==h.overlap)for(let t of o)t.left<k&&t.right>v&&t.top<x+m&&t.bottom>x&&(x=b?t.top-m-2-p:t.bottom+p+2);if("absolute"==this.position?(c.style.top=(x-t.parent.top)/s+"px",c.style.left=(v-t.parent.left)/r+"px"):(c.style.top=x/s+"px",c.style.left=v/r+"px"),f){let t=u.left+(y?O.x:-O.x)-(v+14-7);f.style.left=t/r+"px"}!0!==h.overlap&&o.push({left:v,top:x,right:k,bottom:x+m}),c.classList.toggle("cm-tooltip-above",b),c.classList.toggle("cm-tooltip-below",!b),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=nk}},{eventObservers:{scroll(){this.maybeMeasure()}}}),lk=ox.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),hk={x:0,y:0},ck=Fm.define({enables:[ak,lk]}),uk=Fm.define({combine:t=>t.reduce(((t,e)=>t.concat(e)),[])});class dk{static create(t){return new dk(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new ik(t,uk,((t,e)=>this.createHostedView(t,e)),(t=>t.dom.remove()))}createHostedView(t,e){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let i=n[t];if(void 0!==i)if(void 0===e)e=i;else if(e!==i)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const fk=ck.compute([uk],(t=>{let e=t.facet(uk);return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.map((t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos}))),create:dk.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class pk{constructor(t,e,n,i,r){this.view=t,this.source=e,this.field=n,this.setHover=i,this.hoverTime=r,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let i,r=1;if(n instanceof iv)i=n.posAtStart;else{if(i=t.posAtCoords(e),null==i)return;let n=t.coordsAtPos(i);if(!n||e.y<n.top||e.y>n.bottom||e.x<n.left-t.defaultCharacterWidth||e.x>n.right+t.defaultCharacterWidth)return;let s=t.bidiSpans(t.state.doc.lineAt(i)).find((t=>t.from<=i&&t.to>=i)),o=s&&s.dir==_v.RTL?-1:1;r=e.x<n.left?-o:o}let s=this.source(t,i,r);if(null===s||void 0===s?void 0:s.then){let e=this.pending={pos:i};s.then((n=>{this.pending==e&&(this.pending=null,!n||Array.isArray(n)&&!n.length||t.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))}),(e=>sb(t.state,e,"hover tooltip")))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(ak),e=t?t.manager.tooltips.findIndex((t=>t.create==dk.create)):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:r}=this;if(i.length&&r&&!function(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-gk&&e.clientX<=n.right+gk&&e.clientY>=n.top-gk&&e.clientY<=n.bottom+gk}(r.dom,t)||this.pending){let{pos:r}=i[0]||this.pending,s=null!==(n=null===(e=i[0])||void 0===e?void 0:e.end)&&void 0!==n?n:r;(r==s?this.view.posAtCoords(this.lastMove)==r:function(t,e,n,i,r){let s=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>i||s.right<i||s.top>r||Math.min(s.bottom,o)<r)return!1;let a=t.posAtCoords({x:i,y:r},!1);return a>=e&&a<=n}(this.view,r,s,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const gk=4;function mk(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=SO.define(),i=eO.define({create:()=>[],update(t,i){if(t.length&&(e.hideOnChange&&(i.docChanged||i.selection)?t=[]:e.hideOn&&(t=t.filter((t=>!e.hideOn(i,t)))),i.docChanged)){let e=[];for(let n of t){let t=i.changes.mapPos(n.pos,-1,Im.TrackDel);if(null!=t){let r=Object.assign(Object.create(null),n);r.pos=t,null!=r.end&&(r.end=i.changes.mapPos(r.end)),e.push(r)}}t=e}for(let e of i.effects)e.is(n)&&(t=e.value),e.is(yk)&&(t=[]);return t},provide:t=>uk.from(t)});return[i,hb.define((r=>new pk(r,t,i,n,e.hoverTime||300))),fk]}function Ok(t,e){let n=t.plugin(ak);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const yk=SO.define();const vk=Fm.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function bk(t,e){let n=t.plugin(wk),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const wk=hb.fromClass(class{constructor(t){this.input=t.state.facet(Sk),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(vk);this.top=new xk(t,!0,e.topContainer),this.bottom=new xk(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(vk);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new xk(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new xk(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Sk);if(n!=this.input){let e=n.filter((t=>t)),i=[],r=[],s=[],o=[];for(let n of e){let e,a=this.specs.indexOf(n);a<0?(e=n(t.view),o.push(e)):(e=this.panels[a],e.update&&e.update(t)),i.push(e),(e.top?r:s).push(e)}this.specs=e,this.panels=i,this.top.sync(r),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ox.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class xk{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=kk(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=kk(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function kk(t){let e=t.nextSibling;return t.remove(),e}const Sk=Fm.define({enables:wk});class Pk extends qO{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Pk.prototype.elementClass="",Pk.prototype.toDOM=void 0,Pk.prototype.mapMode=Im.TrackBefore,Pk.prototype.startSide=Pk.prototype.endSide=-1,Pk.prototype.point=!0;const _k=Fm.define(),Qk={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>WO.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Tk=Fm.define();function Ck(t){return[Rk(),Tk.of(Object.assign(Object.assign({},Qk),t))]}const Ek=Fm.define({combine:t=>t.some((t=>t))});function Rk(t){let e=[Ak];return t&&!1===t.fixed&&e.push(Ek.of(!0)),e}const Ak=hb.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Tk).map((e=>new Mk(t,e)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Ek),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Ek)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=WO.iter(this.view.state.facet(_k),this.view.viewport.from),i=[],r=this.gutters.map((t=>new Ik(t,this.view.viewport,-this.view.documentPadding.top)));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let t=!0;for(let e of s.type)if(e.type==mv.Text&&t){Nk(n,i,e.from);for(let t of r)t.line(this.view,e,i);t=!1}else if(e.widget)for(let t of r)t.widget(this.view,e)}else if(s.type==mv.Text){Nk(n,i,s.from);for(let t of r)t.line(this.view,s,i)}else if(s.widget)for(let t of r)t.widget(this.view,s);for(let s of r)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Tk),n=t.state.facet(Tk),i=t.docChanged||t.heightChanged||t.viewportChanged||!WO.eq(t.startState.facet(_k),t.state.facet(_k),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let r of this.gutters)r.update(t)&&(i=!0);else{i=!0;let r=[];for(let i of n){let n=e.indexOf(i);n<0?r.push(new Mk(this.view,i)):(this.gutters[n].update(t),r.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),r.indexOf(t)<0&&t.destroy();for(let t of r)this.dom.appendChild(t.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ox.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==_v.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function $k(t){return Array.isArray(t)?t:[t]}function Nk(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Ik{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=WO.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:i}=this,r=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==i.elements.length){let e=new Dk(t,s,r,n);i.elements.push(e),i.dom.appendChild(e.dom)}else i.elements[this.i].update(t,s,r,n);this.height=e.bottom,this.i++}line(t,e,n){let i=[];Nk(this.cursor,i,e.from),n.length&&(i=i.concat(n));let r=this.gutter.config.lineMarker(t,e,i);r&&i.unshift(r);let s=this.gutter;(0!=i.length||s.config.renderEmptyElements)&&this.addElement(t,e,i)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e);n&&this.addElement(t,e,[n])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Mk{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(i=>{let r,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();r=(t.top+t.bottom)/2}else r=i.clientY;let o=t.lineBlockAtHeight(r-t.documentTop);e.domEventHandlers[n](t,o,i)&&i.preventDefault()}));this.markers=$k(e.markers(t)),e.initialSpacer&&(this.spacer=new Dk(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=$k(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!WO.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Dk{constructor(t,e,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,i)}update(t,e,n,i){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,e){let n="cm-gutterElement",i=this.dom.firstChild;for(let r=0,s=0;;){let o=s,a=r<e.length?e[r++]:null,l=!1;if(a){let t=a.elementClass;t&&(n+=" "+t);for(let e=s;e<this.markers.length;e++)if(this.markers[e].compare(a)){o=e,l=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(i);let e=i.nextSibling;i.remove(),i=e}}if(!a)break;a.toDOM&&(l?i=i.nextSibling:this.dom.insertBefore(a.toDOM(t),i)),l&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const qk=Fm.define(),jk=Fm.define({combine:t=>DO(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let i in e){let t=n[i],r=e[i];n[i]=t?(e,n,i)=>t(e,n,i)||r(e,n,i):r}return n}})});class Uk extends Pk{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Lk(t,e){return t.state.facet(jk).formatNumber(e,t.state)}const Wk=Tk.compute([jk],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(qk),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new Uk(Lk(t,t.state.doc.lineAt(e.from).number)),widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(jk)!=t.state.facet(jk),initialSpacer:t=>new Uk(Lk(t,zk(t.state.doc.lines))),updateSpacer(t,e){let n=Lk(e.view,zk(e.view.state.doc.lines));return n==t.number?t:new Uk(n)},domEventHandlers:t.facet(jk).domEventHandlers})));function zk(t){let e=9;for(;e<t;)e=10*e+9;return e}const Vk=new class extends Pk{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Zk=_k.compute(["selection"],(t=>{let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(Vk.range(r)))}return WO.of(e)}));const Xk=1024;let Yk=0;class Fk{constructor(t,e){this.from=t,this.to=e}}class Bk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=Yk++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Kk.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}Bk.closedBy=new Bk({deserialize:t=>t.split(" ")}),Bk.openedBy=new Bk({deserialize:t=>t.split(" ")}),Bk.group=new Bk({deserialize:t=>t.split(" ")}),Bk.isolate=new Bk({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Bk.contextHash=new Bk({perNode:!0}),Bk.lookAhead=new Bk({perNode:!0}),Bk.mounted=new Bk({perNode:!0});class Gk{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Bk.mounted.id]}}const Hk=Object.create(null);class Kk{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):Hk,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new Kk(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Bk.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(Bk.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}Kk.none=new Kk("",Object.create(null),0,8);const Jk=new WeakMap,tS=new WeakMap;var eS;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(eS||(eS={}));class nS{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=Gk.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new gS(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Jk.get(this)||this.topNode,i=new gS(n);return i.moveTo(t,e),Jk.set(this,i._tree),i}get topNode(){return new lS(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=oS(Jk.get(this)||this.topNode,t,e,!1);return Jk.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=oS(tS.get(this)||this.topNode,t,e,!0);return tS.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof lS?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=Gk.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new lS(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(oS(o,e,n,!1))}}return r?fS(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&eS.IncludeAnonymous)>0;for(let a=this.cursor(s|eS.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:vS(Kk.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new nS(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new nS(Kk.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=Xk,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new iS(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new rS(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=vS(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new rS(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof nS){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(Bk.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[Bk.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[Bk.lookAhead,r];s=s?[t].concat(s):[t]}return new nS(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new nS(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}nS.empty=new nS(Kk.none,[],[],0);class iS{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new iS(this.buffer,this.index)}}class rS{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return Kk.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(sS(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new rS(r,s,this.set)}}function sS(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function oS(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof lS&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:eS.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof lS&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class aS{cursor(){return new gS(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=hS(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return hS(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return oS(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return oS(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return cS(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class lS extends aS{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(sS(i,n,h,h+l.length))if(l instanceof rS){if(r&eS.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new dS(new uS(s,l,t,h),null,o)}else if(r&eS.IncludeAnonymous||!l.type.isAnonymous||mS(l)){let o;if(!(r&eS.IgnoreMounts)&&(o=Gk.get(l))&&!o.overlay)return new lS(o.tree,h,t,s);let a=new lS(l,h,t,s);return r&eS.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&eS.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&eS.IgnoreOverlays)&&(n=Gk.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new lS(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function hS(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function cS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class uS{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class dS extends aS{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new dS(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&eS.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new dS(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new dS(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new dS(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new nS(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function fS(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof lS&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new pS(r,n)}class pS{constructor(t,e){this.heads=t,this.node=e}get next(){return fS(this.heads)}}class gS{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof lS)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof lS?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&eS.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&eS.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&eS.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&eS.IncludeAnonymous||t instanceof rS||!t.type.isAnonymous||mS(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new dS(this.buffer,e,this.stack[i]);return this.bufferNode=new dS(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return cS(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return cS(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function mS(t){return t.children.some((t=>t instanceof rS||!t.type.isAnonymous||mS(t)))}const OS=new WeakMap;function yS(t,e){if(!t.isAnonymous||e instanceof rS||e.type!=t)return 1;let n=OS.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof nS)){n=1;break}n+=yS(t,i)}OS.set(e,n)}return n}function vS(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=yS(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=yS(t,n[h]);for(h++;h<o;h++){let e=yS(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(vS(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class bS{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[new bS(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=n)for(;s&&s.from<c;){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new bS(t,n,e.tree,e.offset+l,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class wS{startParse(t,e,n){return"string"==typeof t&&(t=new xS(t)),n=n?n.length?n.map((t=>new Fk(t.from,t.to))):[new Fk(0,0)]:[new Fk(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class xS{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Bk({perNode:!0});let kS=0;class SS{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=kS++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new SS([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new _S;return e=>e.modified.indexOf(t)>-1?e:_S.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let PS=0;class _S{constructor(){this.instances=[],this.id=PS++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new SS(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(_S.get(o,t));return r}}function QS(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new CS(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return TS.add(e)}const TS=new Bk;class CS{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function ES(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}CS.empty=new CS([],2,null);const RS=SS.define,AS=RS(),$S=RS(),NS=RS($S),IS=RS($S),MS=RS(),DS=RS(MS),qS=RS(MS),jS=RS(),US=RS(jS),LS=RS(),WS=RS(),zS=RS(),VS=RS(zS),ZS=RS(),XS={comment:AS,lineComment:RS(AS),blockComment:RS(AS),docComment:RS(AS),name:$S,variableName:RS($S),typeName:NS,tagName:RS(NS),propertyName:IS,attributeName:RS(IS),className:RS($S),labelName:RS($S),namespace:RS($S),macroName:RS($S),literal:MS,string:DS,docString:RS(DS),character:RS(DS),attributeValue:RS(DS),number:qS,integer:RS(qS),float:RS(qS),bool:RS(MS),regexp:RS(MS),escape:RS(MS),color:RS(MS),url:RS(MS),keyword:LS,self:RS(LS),null:RS(LS),atom:RS(LS),unit:RS(LS),modifier:RS(LS),operatorKeyword:RS(LS),controlKeyword:RS(LS),definitionKeyword:RS(LS),moduleKeyword:RS(LS),operator:WS,derefOperator:RS(WS),arithmeticOperator:RS(WS),logicOperator:RS(WS),bitwiseOperator:RS(WS),compareOperator:RS(WS),updateOperator:RS(WS),definitionOperator:RS(WS),typeOperator:RS(WS),controlOperator:RS(WS),punctuation:zS,separator:RS(zS),bracket:VS,angleBracket:RS(VS),squareBracket:RS(VS),paren:RS(VS),brace:RS(VS),content:jS,heading:US,heading1:RS(US),heading2:RS(US),heading3:RS(US),heading4:RS(US),heading5:RS(US),heading6:RS(US),contentSeparator:RS(jS),list:RS(jS),quote:RS(jS),emphasis:RS(jS),strong:RS(jS),link:RS(jS),monospace:RS(jS),strikethrough:RS(jS),inserted:RS(),deleted:RS(),changed:RS(),invalid:RS(),meta:ZS,documentMeta:RS(ZS),annotation:RS(ZS),processingInstruction:RS(ZS),definition:SS.defineModifier(),constant:SS.defineModifier(),function:SS.defineModifier(),standard:SS.defineModifier(),local:SS.defineModifier(),special:SS.defineModifier()};ES([{tag:XS.link,class:"tok-link"},{tag:XS.heading,class:"tok-heading"},{tag:XS.emphasis,class:"tok-emphasis"},{tag:XS.strong,class:"tok-strong"},{tag:XS.keyword,class:"tok-keyword"},{tag:XS.atom,class:"tok-atom"},{tag:XS.bool,class:"tok-bool"},{tag:XS.url,class:"tok-url"},{tag:XS.labelName,class:"tok-labelName"},{tag:XS.inserted,class:"tok-inserted"},{tag:XS.deleted,class:"tok-deleted"},{tag:XS.literal,class:"tok-literal"},{tag:XS.string,class:"tok-string"},{tag:XS.number,class:"tok-number"},{tag:[XS.regexp,XS.escape,XS.special(XS.string)],class:"tok-string2"},{tag:XS.variableName,class:"tok-variableName"},{tag:XS.local(XS.variableName),class:"tok-variableName tok-local"},{tag:XS.definition(XS.variableName),class:"tok-variableName tok-definition"},{tag:XS.special(XS.variableName),class:"tok-variableName2"},{tag:XS.definition(XS.propertyName),class:"tok-propertyName tok-definition"},{tag:XS.typeName,class:"tok-typeName"},{tag:XS.namespace,class:"tok-namespace"},{tag:XS.className,class:"tok-className"},{tag:XS.macroName,class:"tok-macroName"},{tag:XS.propertyName,class:"tok-propertyName"},{tag:XS.operator,class:"tok-operator"},{tag:XS.comment,class:"tok-comment"},{tag:XS.meta,class:"tok-meta"},{tag:XS.invalid,class:"tok-invalid"},{tag:XS.punctuation,class:"tok-punctuation"}]);var YS;const FS=new Bk;const BS=new Bk;class GS{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=t,this.name=i,MO.prototype.hasOwnProperty("tree")||Object.defineProperty(MO.prototype,"tree",{get(){return KS(this)}}),this.parser=e,this.extension=[aP.of(this),MO.languageData.of(((t,e,n)=>{let i=HS(t,e,n),r=i.type.prop(FS);if(!r)return[];let s=t.facet(r),o=i.type.prop(BS);if(o){let r=i.resolve(e-i.from,n);for(let e of o)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e){return HS(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(FS)==this.data}findRegions(t){let e=t.facet(aP);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(FS)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(Bk.mounted);if(r){if(r.tree.prop(FS)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof nS&&i(r,t.positions[n]+e)}};return i(KS(t),0),n}get allowsNesting(){return!0}}function HS(t,e,n){let i=t.facet(aP),r=KS(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,eS.ExcludeBuffers))s.type.isTop&&(r=s);return r}GS.setState=SO.define();function KS(t){let e=t.field(GS.state,!1);return e?e.tree:nS.empty}class JS{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let tP=null;class eP{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new eP(t,e,[],nS.empty,0,n,[],null)}startParse(){return this.parser.startParse(new JS(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=nS.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(bS.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(bS.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=tP;tP=this;try{return t()}finally{tP=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=nP(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=bS.applyChanges(n,e),i=nS.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new eP(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:i}=this.skipped[n];e<t.to&&i>t.from&&(this.fragments=nP(this.fragments,e,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends wS{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=tP;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new nS(Kk.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return tP}}function nP(t,e,n){return bS.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class iP{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new iP(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=eP.create(t.facet(aP).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new iP(n)}}GS.state=eO.define({create:iP.init,update(t,e){for(let n of e.effects)if(n.is(GS.setState))return n.value;return e.startState.facet(aP)!=e.state.facet(aP)?iP.init(e.state):t.apply(e)}});let rP=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(rP=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const sP="undefined"!=typeof navigator&&(null===(YS=navigator.scheduling)||void 0===YS?void 0:YS.isInputPending)?()=>navigator.scheduling.isInputPending():null,oP=hb.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(GS.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(GS.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=rP(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(GS.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!sP?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>sP&&sP()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:GS.setState.of(new iP(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>sb(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),aP=Fm.define({combine:t=>t.length?t[0]:null,enables:t=>[GS.state,oP,ox.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});const lP=Fm.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function hP(t){let e=t.facet(lP);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function cP(t,e){let n="",i=t.tabSize,r=t.facet(lP)[0];if("\t"==r){for(;e>=i;)n+="\t",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}class uP{constructor(t,e){let n;function i(t){let e=sy.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof GS?t=>t.prop(FS)==s.data:s?t=>t==s:void 0,this.style=ES(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new sy(n):null,this.themeType=e.themeType}static define(t,e){return new uP(t,e||{})}}XS.meta,XS.link,XS.heading,XS.emphasis,XS.strong,XS.strikethrough,XS.keyword,XS.atom,XS.bool,XS.url,XS.contentSeparator,XS.labelName,XS.literal,XS.inserted,XS.string,XS.deleted,XS.regexp,XS.escape,XS.string,XS.variableName,XS.variableName,XS.typeName,XS.namespace,XS.className,XS.variableName,XS.macroName,XS.propertyName,XS.comment,XS.invalid;const dP=Object.create(null),fP=[Kk.none],pP=[],gP=Object.create(null),mP=Object.create(null);for(let[Q5,T5]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])mP[Q5]=yP(dP,T5);function OP(t,e){pP.indexOf(t)>-1||(pP.push(t),console.warn(e))}function yP(t,e){let n=[];for(let a of e.split(" ")){let e=[];for(let n of a.split(".")){let i=t[n]||XS[n];i?"function"==typeof i?e.length?e=e.map(i):OP(n,"Modifier ".concat(n," used at start of tag")):e.length?OP(n,"Tag ".concat(n," used as modifier")):e=Array.isArray(i)?i:[i]:OP(n,"Unknown highlighting tag ".concat(n))}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),s=gP[r];if(s)return s.id;let o=gP[r]=Kk.define({id:fP.length,name:i,props:[QS({[i]:n})]});return fP.push(o),o.id}_v.RTL,_v.LTR;const vP=wO.define(),bP=Fm.define();class wP{constructor(t,e,n,i,r){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(t){return new wP(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new wP(t.changes&&Dm.fromJSON(t.changes),[],t.mapped&&Mm.fromJSON(t.mapped),t.startSelection&&Zm.fromJSON(t.startSelection),t.selectionsAfter.map(Zm.fromJSON))}static fromTransaction(t,e){let n=SP;for(let i of t.startState.facet(bP)){let e=i(t);e.length&&(n=n.concat(e))}return!n.length&&t.changes.empty?null:new wP(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,SP)}static selection(t){return new wP(void 0,SP,void 0,void 0,t)}}function xP(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function kP(t,e){return t.length?e.length?t.concat(e):t:e}const SP=[],PP=200;function _P(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-PP));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),xP(t,t.length-1,1e9,n.setSelAfter(i)))}return[wP.selection([e])]}function QP(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function TP(t,e){if(!t.length)return t;let n=t.length,i=SP;for(;n;){let r=CP(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let e=t.slice(0,n);return e[n-1]=r,e}e=r.mapped,n--,i=r.selectionsAfter}return i.length?[wP.selection(i)]:SP}function CP(t,e,n){let i=kP(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):SP,n);if(!t.changes)return wP.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new wP(r,SO.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const EP=/^(input\.type|delete)($|\.)/;class RP{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new RP(this.done,this.undone):this}addChanges(t,e,n,i,r){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||EP.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<i.newGroupDelay&&i.joinToEvent(r,function(t,e){let n=[],i=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,r,s)=>{for(let o=0;o<n.length;){let t=n[o++],e=n[o++];s>=t&&r<=e&&(i=!0)}})),i}(o.changes,t.changes))||"input.type.compose"==n)?xP(s,s.length-1,i.minDepth,new wP(t.changes.compose(o.changes),kP(t.effects,o.effects),o.mapped,o.startSelection,SP)):xP(s,s.length,i.minDepth,t),new RP(s,SP,e,n)}addSelection(t,e,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:SP;return r.length>0&&e-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(r[r.length-1],t)?this:new RP(_P(this.done,t),this.undone,e,n)}addMapping(t){return new RP(TP(this.done,t),TP(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let i=0==t?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1],s=r.selectionsAfter[0]||e.selection;if(n&&r.selectionsAfter.length)return e.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:vP.of({side:t,rest:QP(i),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let n=1==i.length?SP:i.slice(0,i.length-1);return r.mapped&&(n=TP(n,r.mapped)),e.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:vP.of({side:t,rest:n,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}RP.empty=new RP(SP,SP);"undefined"!=typeof Intl&&Intl.Segmenter;function AP(t,e){let n=-1;return t.changeByRange((i=>{let r=[];for(let o=i.from;o<=i.to;){let s=t.doc.lineAt(o);s.number>n&&(i.empty||i.to>s.from)&&(e(s,r,i),n=s.number),o=s.to+1}let s=t.changes(r);return{changes:r,range:Zm.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}}))}const $P=t=>{let{state:e,dispatch:n}=t;return!e.readOnly&&(n(e.update(AP(e,((t,n)=>{n.push({from:t.from,insert:e.facet(lP)})})),{userEvent:"input.indent"})),!0)},NP=t=>{let{state:e,dispatch:n}=t;return!e.readOnly&&(n(e.update(AP(e,((t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let r=ty(i,e.tabSize),s=0,o=cP(e,Math.max(0,r-hP(e)));for(;s<i.length&&s<o.length&&i.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:t.from+s,to:t.from+i.length,insert:o.slice(s)})})),{userEvent:"delete.dedent"})),!0)},IP={key:"Tab",run:$P,shift:NP},MP=1024;let DP=0;class qP{constructor(t,e){this.from=t,this.to=e}}class jP{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=DP++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=WP.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}jP.closedBy=new jP({deserialize:t=>t.split(" ")}),jP.openedBy=new jP({deserialize:t=>t.split(" ")}),jP.group=new jP({deserialize:t=>t.split(" ")}),jP.isolate=new jP({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),jP.contextHash=new jP({perNode:!0}),jP.lookAhead=new jP({perNode:!0}),jP.mounted=new jP({perNode:!0});class UP{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[jP.mounted.id]}}const LP=Object.create(null);class WP{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):LP,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new WP(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(jP.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(jP.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}WP.none=new WP("",Object.create(null),0,8);const zP=new WeakMap,VP=new WeakMap;var ZP;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(ZP||(ZP={}));class XP{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=UP.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new s_(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=zP.get(this)||this.topNode,i=new s_(n);return i.moveTo(t,e),zP.set(this,i._tree),i}get topNode(){return new KP(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=GP(zP.get(this)||this.topNode,t,e,!1);return zP.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=GP(VP.get(this)||this.topNode,t,e,!0);return VP.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof KP?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=UP.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new KP(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(GP(o,e,n,!1))}}return r?i_(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&ZP.IncludeAnonymous)>0;for(let a=this.cursor(s|ZP.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:h_(WP.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new XP(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new XP(WP.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=MP,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new YP(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new FP(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=h_(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new FP(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof XP){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(jP.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[jP.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[jP.lookAhead,r];s=s?[t].concat(s):[t]}return new XP(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new XP(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}XP.empty=new XP(WP.none,[],[],0);class YP{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new YP(this.buffer,this.index)}}class FP{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return WP.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(BP(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new FP(r,s,this.set)}}function BP(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function GP(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof KP&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:ZP.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof KP&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class HP{cursor(){return new s_(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=JP(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return JP(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return GP(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return GP(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return t_(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class KP extends HP{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(BP(i,n,h,h+l.length))if(l instanceof FP){if(r&ZP.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new n_(new e_(s,l,t,h),null,o)}else if(r&ZP.IncludeAnonymous||!l.type.isAnonymous||o_(l)){let o;if(!(r&ZP.IgnoreMounts)&&(o=UP.get(l))&&!o.overlay)return new KP(o.tree,h,t,s);let a=new KP(l,h,t,s);return r&ZP.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&ZP.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&ZP.IgnoreOverlays)&&(n=UP.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new KP(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function JP(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function t_(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class e_{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class n_ extends HP{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new n_(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&ZP.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new n_(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new n_(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new n_(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new XP(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function i_(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof KP&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new r_(r,n)}class r_{constructor(t,e){this.heads=t,this.node=e}get next(){return i_(this.heads)}}class s_{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof KP)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof KP?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&ZP.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ZP.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&ZP.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&ZP.IncludeAnonymous||t instanceof FP||!t.type.isAnonymous||o_(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new n_(this.buffer,e,this.stack[i]);return this.bufferNode=new n_(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return t_(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return t_(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function o_(t){return t.children.some((t=>t instanceof FP||!t.type.isAnonymous||o_(t)))}const a_=new WeakMap;function l_(t,e){if(!t.isAnonymous||e instanceof FP||e.type!=t)return 1;let n=a_.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof XP)){n=1;break}n+=l_(t,i)}a_.set(e,n)}return n}function h_(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=l_(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=l_(t,n[h]);for(h++;h<o;h++){let e=l_(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(h_(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class c_{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[new c_(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=n)for(;s&&s.from<c;){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new c_(t,n,e.tree,e.offset+l,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class u_{startParse(t,e,n){return"string"==typeof t&&(t=new d_(t)),n=n?n.length?n.map((t=>new qP(t.from,t.to))):[new qP(0,0)]:[new qP(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class d_{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new jP({perNode:!0});let f_=0;class p_{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=f_++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new p_([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new m_;return e=>e.modified.indexOf(t)>-1?e:m_.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let g_=0;class m_{constructor(){this.instances=[],this.id=g_++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new p_(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(m_.get(o,t));return r}}function O_(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new v_(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return y_.add(e)}const y_=new jP;class v_{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function b_(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}function w_(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,s=new x_(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}v_.empty=new v_([],2,null);class x_{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,i,r){let{type:s,from:o,to:a}=t;if(o>=n||a<=e)return;s.isTop&&(r=this.highlighters.filter((t=>!t.scope||t.scope(s))));let l=i,h=function(t){let e=t.type.prop(y_);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||v_.empty,c=function(t,e){let n=null;for(let i of t){let t=i.style(e);t&&(n=n?n+" "+t:t)}return n}(r,h.tags);if(c&&(l&&(l+=" "),l+=c,1==h.mode&&(i+=(i?" ":"")+c)),this.startSpan(Math.max(e,o),l),h.opaque)return;let u=t.tree&&t.tree.prop(jP.mounted);if(u&&u.overlay){let s=t.node.enter(u.overlay[0].from+o,1),h=this.highlighters.filter((t=>!t.scope||t.scope(u.tree.type))),c=t.firstChild();for(let d=0,f=o;;d++){let p=d<u.overlay.length?u.overlay[d]:null,g=p?p.from+o:a,m=Math.max(e,f),O=Math.min(n,g);if(m<O&&c)for(;t.from<O&&(this.highlightRange(t,m,O,i,r),this.startSpan(Math.min(O,t.to),l),!(t.to>=g)&&t.nextSibling()););if(!p||g>n)break;f=p.to+o,f>e&&(this.highlightRange(s.cursor(),Math.max(e,p.from+o),Math.min(n,f),"",h),this.startSpan(Math.min(n,f),l))}c&&t.parent()}else if(t.firstChild()){u&&(i="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,i,r),this.startSpan(Math.min(n,t.to),l)}}while(t.nextSibling());t.parent()}}}const k_=p_.define,S_=k_(),P_=k_(),__=k_(P_),Q_=k_(P_),T_=k_(),C_=k_(T_),E_=k_(T_),R_=k_(),A_=k_(R_),$_=k_(),N_=k_(),I_=k_(),M_=k_(I_),D_=k_(),q_={comment:S_,lineComment:k_(S_),blockComment:k_(S_),docComment:k_(S_),name:P_,variableName:k_(P_),typeName:__,tagName:k_(__),propertyName:Q_,attributeName:k_(Q_),className:k_(P_),labelName:k_(P_),namespace:k_(P_),macroName:k_(P_),literal:T_,string:C_,docString:k_(C_),character:k_(C_),attributeValue:k_(C_),number:E_,integer:k_(E_),float:k_(E_),bool:k_(T_),regexp:k_(T_),escape:k_(T_),color:k_(T_),url:k_(T_),keyword:$_,self:k_($_),null:k_($_),atom:k_($_),unit:k_($_),modifier:k_($_),operatorKeyword:k_($_),controlKeyword:k_($_),definitionKeyword:k_($_),moduleKeyword:k_($_),operator:N_,derefOperator:k_(N_),arithmeticOperator:k_(N_),logicOperator:k_(N_),bitwiseOperator:k_(N_),compareOperator:k_(N_),updateOperator:k_(N_),definitionOperator:k_(N_),typeOperator:k_(N_),controlOperator:k_(N_),punctuation:I_,separator:k_(I_),bracket:M_,angleBracket:k_(M_),squareBracket:k_(M_),paren:k_(M_),brace:k_(M_),content:R_,heading:A_,heading1:k_(A_),heading2:k_(A_),heading3:k_(A_),heading4:k_(A_),heading5:k_(A_),heading6:k_(A_),contentSeparator:k_(R_),list:k_(R_),quote:k_(R_),emphasis:k_(R_),strong:k_(R_),link:k_(R_),monospace:k_(R_),strikethrough:k_(R_),inserted:k_(),deleted:k_(),changed:k_(),invalid:k_(),meta:D_,documentMeta:k_(D_),annotation:k_(D_),processingInstruction:k_(D_),definition:p_.defineModifier(),constant:p_.defineModifier(),function:p_.defineModifier(),standard:p_.defineModifier(),local:p_.defineModifier(),special:p_.defineModifier()};b_([{tag:q_.link,class:"tok-link"},{tag:q_.heading,class:"tok-heading"},{tag:q_.emphasis,class:"tok-emphasis"},{tag:q_.strong,class:"tok-strong"},{tag:q_.keyword,class:"tok-keyword"},{tag:q_.atom,class:"tok-atom"},{tag:q_.bool,class:"tok-bool"},{tag:q_.url,class:"tok-url"},{tag:q_.labelName,class:"tok-labelName"},{tag:q_.inserted,class:"tok-inserted"},{tag:q_.deleted,class:"tok-deleted"},{tag:q_.literal,class:"tok-literal"},{tag:q_.string,class:"tok-string"},{tag:q_.number,class:"tok-number"},{tag:[q_.regexp,q_.escape,q_.special(q_.string)],class:"tok-string2"},{tag:q_.variableName,class:"tok-variableName"},{tag:q_.local(q_.variableName),class:"tok-variableName tok-local"},{tag:q_.definition(q_.variableName),class:"tok-variableName tok-definition"},{tag:q_.special(q_.variableName),class:"tok-variableName2"},{tag:q_.definition(q_.propertyName),class:"tok-propertyName tok-definition"},{tag:q_.typeName,class:"tok-typeName"},{tag:q_.namespace,class:"tok-namespace"},{tag:q_.className,class:"tok-className"},{tag:q_.macroName,class:"tok-macroName"},{tag:q_.propertyName,class:"tok-propertyName"},{tag:q_.operator,class:"tok-operator"},{tag:q_.comment,class:"tok-comment"},{tag:q_.meta,class:"tok-meta"},{tag:q_.invalid,class:"tok-invalid"},{tag:q_.punctuation,class:"tok-punctuation"}]);var j_;const U_=new jP;const L_=new jP;class W_{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=t,this.name=i,MO.prototype.hasOwnProperty("tree")||Object.defineProperty(MO.prototype,"tree",{get(){return V_(this)}}),this.parser=e,this.extension=[J_.of(this),MO.languageData.of(((t,e,n)=>{let i=z_(t,e,n),r=i.type.prop(U_);if(!r)return[];let s=t.facet(r),o=i.type.prop(L_);if(o){let r=i.resolve(e-i.from,n);for(let e of o)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e){return z_(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(U_)==this.data}findRegions(t){let e=t.facet(J_);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(U_)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(jP.mounted);if(r){if(r.tree.prop(U_)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof XP&&i(r,t.positions[n]+e)}};return i(V_(t),0),n}get allowsNesting(){return!0}}function z_(t,e,n){let i=t.facet(J_),r=V_(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,ZP.ExcludeBuffers))s.type.isTop&&(r=s);return r}W_.setState=SO.define();function V_(t){let e=t.field(W_.state,!1);return e?e.tree:XP.empty}class Z_{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let X_=null;class Y_{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new Y_(t,e,[],XP.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Z_(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=XP.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(c_.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(c_.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=X_;X_=this;try{return t()}finally{X_=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=F_(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=c_.applyChanges(n,e),i=XP.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new Y_(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:i}=this.skipped[n];e<t.to&&i>t.from&&(this.fragments=F_(this.fragments,e,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends u_{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=X_;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new XP(WP.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return X_}}function F_(t,e,n){return c_.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class B_{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new B_(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=Y_.create(t.facet(J_).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new B_(n)}}W_.state=eO.define({create:B_.init,update(t,e){for(let n of e.effects)if(n.is(W_.setState))return n.value;return e.startState.facet(J_)!=e.state.facet(J_)?B_.init(e.state):t.apply(e)}});let G_=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(G_=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const H_="undefined"!=typeof navigator&&(null===(j_=navigator.scheduling)||void 0===j_?void 0:j_.isInputPending)?()=>navigator.scheduling.isInputPending():null,K_=hb.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(W_.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(W_.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=G_(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(W_.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!H_?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>H_&&H_()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:W_.setState.of(new B_(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>sb(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),J_=Fm.define({combine:t=>t.length?t[0]:null,enables:t=>[W_.state,K_,ox.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});const tQ=Fm.define(),eQ=Fm.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function nQ(t){let e=t.facet(eQ);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function iQ(t,e){let n="",i=t.tabSize,r=t.facet(eQ)[0];if("\t"==r){for(;e>=i;)n+="\t",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}function rQ(t,e){t instanceof MO&&(t=new sQ(t));for(let i of t.state.facet(tQ)){let n=i(t,e);if(void 0!==n)return n}let n=V_(t.state);return n.length>=e?function(t,e,n){let i=e.resolveStack(n),r=i.node.enterUnfinishedNodesBefore(n);if(r!=i.node){let t=[];for(let e=r;e!=i.node;e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)i={node:t[e],next:i}}return aQ(i,t,n)}(t,n,e):null}class sQ{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state=t,this.options=e,this.unit=nQ(t)}lineAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:r}=this.options;return null!=i&&i>=n.from&&i<=n.to?r&&i==t?{text:"",from:t}:(e<0?i<t:i<=t)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(t,e);return n.slice(t-i,Math.min(n.length,t+100-i))}column(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:n,from:i}=this.lineAt(t,e),r=this.countColumn(n,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(r+=s-this.countColumn(n,n.search(/\S|$/))),r}countColumn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;return ty(t,this.state.tabSize,e)}lineIndent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:n,from:i}=this.lineAt(t,e),r=this.options.overrideIndentation;if(r){let t=r(i);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const oQ=new jP;function aQ(t,e,n){for(let i=t;i;i=i.next){let t=lQ(i.node);if(t)return t(cQ.create(e,n,i))}return 0}function lQ(t){let e=t.type.prop(oQ);if(e)return e;let n,i=t.firstChild;if(i&&(n=i.type.prop(jP.closedBy))){let e=t.lastChild,i=e&&n.indexOf(e.name)>-1;return t=>dQ(t,!0,1,void 0,i&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?hQ:null}function hQ(){return 0}class cQ extends sQ{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new cQ(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(uQ(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return aQ(this.context.next,this.base,this.pos)}}function uQ(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function dQ(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?function(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let t=e.childAfter(a);if(!t||t==i)return null;if(!t.type.isSkipped)return t.from<o?n:null;a=t.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const fQ=Fm.define(),pQ=new jP;function gQ(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function mQ(t,e,n){for(let i of t.facet(fQ)){let r=i(t,e,n);if(r)return r}return function(t,e,n){let i=V_(t);if(i.length<n)return null;let r=null;for(let s=i.resolveStack(n,1);s;s=s.next){let o=s.node;if(o.to<=n||o.from>n)continue;if(r&&o.from<e)break;let a=o.type.prop(pQ);if(a&&(o.to<i.length-50||i.length==t.doc.length||!gQ(o))){let i=a(o,t);i&&i.from<=n&&i.from>=e&&i.to>n&&(r=i)}}return r}(t,e,n)}function OQ(t,e){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return n>=i?void 0:{from:n,to:i}}const yQ=SO.define({map:OQ}),vQ=SO.define({map:OQ});function bQ(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const wQ=eO.define({create:()=>Ov.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(yQ)&&!kQ(t,n.value.from,n.value.to)){let{preparePlaceholder:i}=e.state.facet(TQ),r=i?Ov.replace({widget:new AQ(i(e.state,n.value))}):RQ;t=t.update({add:[r.range(n.value.from,n.value.to)]})}else n.is(vQ)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;t.between(i,i,((t,e)=>{t<i&&e>i&&(n=!0)})),n&&(t=t.update({filterFrom:i,filterTo:i,filter:(t,e)=>e<=i||t>=i}))}return t},provide:t=>ox.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let i=t[n++],r=t[n++];if("number"!=typeof i||"number"!=typeof r)throw new RangeError("Invalid JSON for fold state");e.push(RQ.range(i,r))}return Ov.set(e,!0)}});function xQ(t,e,n){var i;let r=null;return null===(i=t.field(wQ,!1))||void 0===i||i.between(e,n,((t,e)=>{(!r||r.from>t)&&(r={from:t,to:e})})),r}function kQ(t,e,n){let i=!1;return t.between(e,e,((t,r)=>{t==e&&r==n&&(i=!0)})),i}function SQ(t,e){return t.field(wQ,!1)?e:e.concat(SO.appendConfig.of(CQ()))}function PQ(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return ox.announce.of("".concat(t.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(i," ").concat(t.state.phrase("to")," ").concat(r,"."))}const _Q=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of bQ(t)){let n=mQ(t.state,e.from,e.to);if(n)return t.dispatch({effects:SQ(t.state,[yQ.of(n),PQ(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(wQ,!1))return!1;let e=[];for(let n of bQ(t)){let i=xQ(t.state,n.from,n.to);i&&e.push(vQ.of(i),PQ(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let i=0;i<e.doc.length;){let r=t.lineBlockAt(i),s=mQ(e,r.from,r.to);s&&n.push(yQ.of(s)),i=(s?t.lineBlockAt(s.to):r).to+1}return n.length&&t.dispatch({effects:SQ(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(wQ,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(vQ.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],QQ={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},TQ=Fm.define({combine:t=>DO(t,QQ)});function CQ(t){let e=[wQ,IQ];return t&&e.push(TQ.of(t)),e}function EQ(t,e){let{state:n}=t,i=n.facet(TQ),r=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),i=xQ(t.state,n.from,n.to);i&&t.dispatch({effects:vQ.of(i)}),e.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(t,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const RQ=Ov.replace({widget:new class extends gv{toDOM(t){return EQ(t,null)}}});class AQ extends gv{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return EQ(t,this.value)}}const $Q={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class NQ extends Pk{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}const IQ=ox.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class MQ{constructor(t,e){let n;function i(t){let e=sy.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof W_?t=>t.prop(U_)==s.data:s?t=>t==s:void 0,this.style=b_(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new sy(n):null,this.themeType=e.themeType}static define(t,e){return new MQ(t,e||{})}}const DQ=Fm.define(),qQ=Fm.define({combine:t=>t.length?[t[0]]:null});function jQ(t){let e=t.facet(DQ);return e.length?e:t.facet(qQ)}class UQ{constructor(t){this.markCache=Object.create(null),this.tree=V_(t.state),this.decorations=this.buildDeco(t,jQ(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=V_(t.state),n=jQ(t.state),i=n!=jQ(t.startState),{viewport:r}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<r.to&&!i&&e.type==this.tree.type&&s>=r.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||i)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=r.to)}buildDeco(t,e){if(!e||!this.tree.length)return Ov.none;let n=new zO;for(let{from:i,to:r}of t.visibleRanges)w_(this.tree,e,((t,e,i)=>{n.add(t,e,this.markCache[i]||(this.markCache[i]=Ov.mark({class:i})))}),i,r);return n.finish()}}const LQ=aO.high(hb.fromClass(UQ,{decorations:t=>t.decorations})),WQ=MQ.define([{tag:q_.meta,color:"#404740"},{tag:q_.link,textDecoration:"underline"},{tag:q_.heading,textDecoration:"underline",fontWeight:"bold"},{tag:q_.emphasis,fontStyle:"italic"},{tag:q_.strong,fontWeight:"bold"},{tag:q_.strikethrough,textDecoration:"line-through"},{tag:q_.keyword,color:"#708"},{tag:[q_.atom,q_.bool,q_.url,q_.contentSeparator,q_.labelName],color:"#219"},{tag:[q_.literal,q_.inserted],color:"#164"},{tag:[q_.string,q_.deleted],color:"#a11"},{tag:[q_.regexp,q_.escape,q_.special(q_.string)],color:"#e40"},{tag:q_.definition(q_.variableName),color:"#00f"},{tag:q_.local(q_.variableName),color:"#30a"},{tag:[q_.typeName,q_.namespace],color:"#085"},{tag:q_.className,color:"#167"},{tag:[q_.special(q_.variableName),q_.macroName],color:"#256"},{tag:q_.definition(q_.propertyName),color:"#00c"},{tag:q_.comment,color:"#940"},{tag:q_.invalid,color:"#f00"}]),zQ=ox.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),VQ=1e4,ZQ="()[]{}",XQ=Fm.define({combine:t=>DO(t,{afterCursor:!0,brackets:ZQ,maxScanDistance:VQ,renderMatch:BQ})}),YQ=Ov.mark({class:"cm-matchingBracket"}),FQ=Ov.mark({class:"cm-nonmatchingBracket"});function BQ(t){let e=[],n=t.matched?YQ:FQ;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const GQ=eO.define({create:()=>Ov.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(XQ);for(let r of e.state.selection.ranges){if(!r.empty)continue;let t=eT(e.state,r.head,-1,i)||r.head>0&&eT(e.state,r.head-1,1,i)||i.afterCursor&&(eT(e.state,r.head,1,i)||r.head<e.state.doc.length&&eT(e.state,r.head+1,-1,i));t&&(n=n.concat(i.renderMatch(t,e.state)))}return Ov.set(n,!0)},provide:t=>ox.decorations.from(t)}),HQ=[GQ,zQ];const KQ=new jP;function JQ(t,e,n){let i=t.prop(e<0?jP.openedBy:jP.closedBy);if(i)return i;if(1==t.name.length){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function tT(t){let e=t.type.prop(KQ);return e?e(t.node):t}function eT(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.maxScanDistance||VQ,s=i.brackets||ZQ,o=V_(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let i=JQ(l.type,n,s);if(i&&l.from<l.to){let r=tT(l);if(r&&(n>0?e>=r.from&&e<r.to:e>r.from&&e<=r.to))return nT(t,e,n,l,r,i,s)}}return function(t,e,n,i,r,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let h={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),u=0;for(let d=0;!c.next().done&&d<=s;){let t=c.value;n<0&&(d+=t.length);let s=e+d*n;for(let e=n>0?0:t.length-1,a=n>0?t.length:-1;e!=a;e+=n){let a=o.indexOf(t[e]);if(!(a<0||i.resolveInner(s+e,1).type!=r))if(a%2==0==n>0)u++;else{if(1==u)return{start:h,end:{from:s+e,to:s+e+1},matched:a>>1==l>>1};u--}}n>0&&(d+=t.length)}return c.done?{start:h,matched:!1}:null}(t,e,n,o,a.type,r,s)}function nT(t,e,n,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},h=0,c=null===a||void 0===a?void 0:a.cursor();if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(n<0?c.to<=i.from:c.from>=i.to){if(0==h&&s.indexOf(c.type.name)>-1&&c.from<c.to){let t=tT(c);return{start:l,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(JQ(c.type,n,o))h++;else if(JQ(c.type,-n,o)){if(0==h){let t=tT(c);return{start:l,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}h--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}const iT=Object.create(null),rT=[WP.none],sT=[],oT=Object.create(null),aT=Object.create(null);for(let[Q5,T5]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])aT[Q5]=hT(iT,T5);function lT(t,e){sT.indexOf(t)>-1||(sT.push(t),console.warn(e))}function hT(t,e){let n=[];for(let a of e.split(" ")){let e=[];for(let n of a.split(".")){let i=t[n]||q_[n];i?"function"==typeof i?e.length?e=e.map(i):lT(n,"Modifier ".concat(n," used at start of tag")):e.length?lT(n,"Tag ".concat(n," used as modifier")):e=Array.isArray(i)?i:[i]:lT(n,"Unknown highlighting tag ".concat(n))}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),s=oT[r];if(s)return s.id;let o=oT[r]=WP.define({id:rT.length,name:i,props:[O_({[i]:n})]});return rT.push(o),o.id}_v.RTL,_v.LTR;function cT(t,e){return n=>{let{state:i,dispatch:r}=n;if(i.readOnly)return!1;let s=t(e,i);return!!s&&(r(i.update(s)),!0)}}const uT=cT(OT,0),dT=cT(mT,0),fT=cT(((t,e)=>mT(t,e,function(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}(e))),0);function pT(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const gT=50;function mT(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.selection.ranges,i=n.map((t=>pT(e,t.from).block));if(!i.every((t=>t)))return null;let r=n.map(((t,n)=>function(t,e,n,i){let r,s,{open:o,close:a}=e,l=t.sliceDoc(n-gT,n),h=t.sliceDoc(i,i+gT),c=/\s*$/.exec(l)[0].length,u=/^\s*/.exec(h)[0].length,d=l.length-c;if(l.slice(d-o.length,d)==o&&h.slice(u,u+a.length)==a)return{open:{pos:n-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};i-n<=2*gT?r=s=t.sliceDoc(n,i):(r=t.sliceDoc(n,n+gT),s=t.sliceDoc(i-gT,i));let f=/^\s*/.exec(r)[0].length,p=/\s*$/.exec(s)[0].length,g=s.length-p-a.length;return r.slice(f,f+o.length)==o&&s.slice(g,g+a.length)==a?{open:{pos:n+f+o.length,margin:/\s/.test(r.charAt(f+o.length))?1:0},close:{pos:i-p-a.length,margin:/\s/.test(s.charAt(g-1))?1:0}}:null}(e,i[n],t.from,t.to)));if(2!=t&&!r.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>r[e]?[]:[{from:t.from,insert:i[e].open+" "},{from:t.to,insert:" "+i[e].close}])))};if(1!=t&&r.some((t=>t))){let t=[];for(let e,n=0;n<r.length;n++)if(e=r[n]){let r=i[n],{open:s,close:o}=e;t.push({from:s.pos-r.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+r.close.length})}return{changes:t}}return null}function OT(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.selection.ranges,i=[],r=-1;for(let{from:s,to:o}of n){let t=i.length,n=1e9,a=pT(e,s).line;if(a){for(let t=s;t<=o;){let l=e.doc.lineAt(t);if(l.from>r&&(s==o||o>l.from)){r=l.from;let t=/^\s*/.exec(l.text)[0].length,e=t==l.length,s=l.text.slice(t,t+a.length)==a?t:-1;t<l.text.length&&t<n&&(n=t),i.push({line:l,comment:s,token:a,indent:t,empty:e,single:!1})}t=l.to+1}if(n<1e9)for(let e=t;e<i.length;e++)i[e].indent<i[e].line.text.length&&(i[e].indent=n);i.length==t+1&&(i[t].single=!0)}}if(2!=t&&i.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:r,indent:s,empty:o,single:a}of i)!a&&o||t.push({from:e.from+s,insert:r+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&i.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:r}of i)if(n>=0){let i=e.from+n,s=i+r.length;" "==e.text[s-e.from]&&s++,t.push({from:i,to:s})}return{changes:t}}return null}const yT=wO.define(),vT=wO.define(),bT=Fm.define(),wT=Fm.define({combine:t=>DO(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,i)=>t(n,i)||e(n,i)})}),xT=eO.define({create:()=>qT.empty,update(t,e){let n=e.state.facet(wT),i=e.annotation(yT);if(i){let r=TT.fromTransaction(e,i.selection),s=i.side,o=0==s?t.undone:t.done;return o=r?CT(o,o.length,n.minDepth,r):$T(o,e.startState.selection),new qT(0==s?i.rest:o,0==s?o:i.rest)}let r=e.annotation(vT);if("full"!=r&&"before"!=r||(t=t.isolate()),!1===e.annotation(PO.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=TT.fromTransaction(e),o=e.annotation(PO.time),a=e.annotation(PO.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),"full"!=r&&"after"!=r||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new qT(t.done.map(TT.fromJSON),t.undone.map(TT.fromJSON))});function kT(t,e){return function(n){let{state:i,dispatch:r}=n;if(!e&&i.readOnly)return!1;let s=i.field(xT,!1);if(!s)return!1;let o=s.pop(t,i,e);return!!o&&(r(o),!0)}}const ST=kT(0,!1),PT=kT(1,!1),_T=kT(0,!0),QT=kT(1,!0);class TT{constructor(t,e,n,i,r){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(t){return new TT(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new TT(t.changes&&Dm.fromJSON(t.changes),[],t.mapped&&Mm.fromJSON(t.mapped),t.startSelection&&Zm.fromJSON(t.startSelection),t.selectionsAfter.map(Zm.fromJSON))}static fromTransaction(t,e){let n=RT;for(let i of t.startState.facet(bT)){let e=i(t);e.length&&(n=n.concat(e))}return!n.length&&t.changes.empty?null:new TT(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,RT)}static selection(t){return new TT(void 0,RT,void 0,void 0,t)}}function CT(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function ET(t,e){return t.length?e.length?t.concat(e):t:e}const RT=[],AT=200;function $T(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-AT));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),CT(t,t.length-1,1e9,n.setSelAfter(i)))}return[TT.selection([e])]}function NT(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function IT(t,e){if(!t.length)return t;let n=t.length,i=RT;for(;n;){let r=MT(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let e=t.slice(0,n);return e[n-1]=r,e}e=r.mapped,n--,i=r.selectionsAfter}return i.length?[TT.selection(i)]:RT}function MT(t,e,n){let i=ET(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):RT,n);if(!t.changes)return TT.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new TT(r,SO.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const DT=/^(input\.type|delete)($|\.)/;class qT{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new qT(this.done,this.undone):this}addChanges(t,e,n,i,r){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||DT.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<i.newGroupDelay&&i.joinToEvent(r,function(t,e){let n=[],i=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,r,s)=>{for(let o=0;o<n.length;){let t=n[o++],e=n[o++];s>=t&&r<=e&&(i=!0)}})),i}(o.changes,t.changes))||"input.type.compose"==n)?CT(s,s.length-1,i.minDepth,new TT(t.changes.compose(o.changes),ET(t.effects,o.effects),o.mapped,o.startSelection,RT)):CT(s,s.length,i.minDepth,t),new qT(s,RT,e,n)}addSelection(t,e,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:RT;return r.length>0&&e-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(r[r.length-1],t)?this:new qT($T(this.done,t),this.undone,e,n)}addMapping(t){return new qT(IT(this.done,t),IT(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let i=0==t?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1],s=r.selectionsAfter[0]||e.selection;if(n&&r.selectionsAfter.length)return e.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:yT.of({side:t,rest:NT(i),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let n=1==i.length?RT:i.slice(0,i.length-1);return r.mapped&&(n=IT(n,r.mapped)),e.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:yT.of({side:t,rest:n,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}qT.empty=new qT(RT,RT);const jT=[{key:"Mod-z",run:ST,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:PT,preventDefault:!0},{linux:"Ctrl-Shift-z",run:PT,preventDefault:!0},{key:"Mod-u",run:_T,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:QT,preventDefault:!0}];function UT(t,e){return Zm.create(t.ranges.map(e),t.mainIndex)}function LT(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function WT(t,e){let{state:n,dispatch:i}=t,r=UT(n.selection,e);return!r.eq(n.selection,!0)&&(i(LT(n,r)),!0)}function zT(t,e){return Zm.cursor(e?t.to:t.from)}function VT(t,e){return WT(t,(n=>n.empty?t.moveByChar(n,e):zT(n,e)))}function ZT(t){return t.textDirectionAt(t.state.selection.main.head)==_v.LTR}const XT=t=>VT(t,!ZT(t)),YT=t=>VT(t,ZT(t));function FT(t,e){return WT(t,(n=>n.empty?t.moveByGroup(n,e):zT(n,e)))}"undefined"!=typeof Intl&&Intl.Segmenter;function BT(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function GT(t,e,n){let i,r,s=V_(t).resolveInner(e.head),o=n?jP.closedBy:jP.openedBy;for(let a=e.head;;){let e=n?s.childAfter(a):s.childBefore(a);if(!e)break;BT(t,e,o)?s=e:a=n?e.to:e.from}return r=s.type.prop(o)&&(i=n?eT(t,s.from,1):eT(t,s.to,-1))&&i.matched?n?i.end.to:i.end.from:n?s.to:s.from,Zm.cursor(r,n?-1:1)}function HT(t,e){return WT(t,(n=>{if(!n.empty)return zT(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)}))}const KT=t=>HT(t,!1),JT=t=>HT(t,!0);function tC(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,r=0;if(n){for(let e of t.state.facet(ox.scrollMargins)){let n=e(t);(null===n||void 0===n?void 0:n.top)&&(i=Math.max(null===n||void 0===n?void 0:n.top,i)),(null===n||void 0===n?void 0:n.bottom)&&(r=Math.max(null===n||void 0===n?void 0:n.bottom,r))}e=t.scrollDOM.clientHeight-i-r}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:r,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function eC(t,e){let n,i=tC(t),{state:r}=t,s=UT(r.selection,(n=>n.empty?t.moveVertically(n,e,i.height):zT(n,e)));if(s.eq(r.selection))return!1;if(i.selfScroll){let e=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),a=o.top+i.marginTop,l=o.bottom-i.marginBottom;e&&e.top>a&&e.bottom<l&&(n=ox.scrollIntoView(s.main.head,{y:"start",yMargin:e.top-a}))}return t.dispatch(LT(r,s),{effects:n}),!0}const nC=t=>eC(t,!1),iC=t=>eC(t,!0);function rC(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let n=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&e.head!=i.from+n&&(r=Zm.cursor(i.from+n))}return r}function sC(t,e,n){let i=!1,r=UT(t.selection,(e=>{let r=eT(t,e.head,-1)||eT(t,e.head,1)||e.head>0&&eT(t,e.head-1,1)||e.head<t.doc.length&&eT(t,e.head+1,-1);if(!r||!r.end)return e;i=!0;let s=r.start.from==e.head?r.end.to:r.end.from;return n?Zm.range(e.anchor,s):Zm.cursor(s)}));return!!i&&(e(LT(t,r)),!0)}function oC(t,e){let n=UT(t.state.selection,(t=>{let n=e(t);return Zm.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(LT(t.state,n)),!0)}function aC(t,e){return oC(t,(n=>t.moveByChar(n,e)))}const lC=t=>aC(t,!ZT(t)),hC=t=>aC(t,ZT(t));function cC(t,e){return oC(t,(n=>t.moveByGroup(n,e)))}function uC(t,e){return oC(t,(n=>t.moveVertically(n,e)))}const dC=t=>uC(t,!1),fC=t=>uC(t,!0);function pC(t,e){return oC(t,(n=>t.moveVertically(n,e,tC(t).height)))}const gC=t=>pC(t,!1),mC=t=>pC(t,!0),OC=t=>{let{state:e,dispatch:n}=t;return n(LT(e,{anchor:0})),!0},yC=t=>{let{state:e,dispatch:n}=t;return n(LT(e,{anchor:e.doc.length})),!0},vC=t=>{let{state:e,dispatch:n}=t;return n(LT(e,{anchor:e.selection.main.anchor,head:0})),!0},bC=t=>{let{state:e,dispatch:n}=t;return n(LT(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0};function wC(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange((i=>{let{from:r,to:s}=i;if(r==s){let o=e(i);o<r?(n="delete.backward",o=xC(t,o,!1)):o>r&&(n="delete.forward",o=xC(t,o,!0)),r=Math.min(r,o),s=Math.max(s,o)}else r=xC(t,r,!1),s=xC(t,s,!0);return r==s?{range:i}:{changes:{from:r,to:s},range:Zm.cursor(r,r<i.head?-1:1)}}));return!r.changes.empty&&(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?ox.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function xC(t,e,n){if(t instanceof ox)for(let i of t.state.facet(ox.atomicRanges).map((e=>e(t))))i.between(e,e,((t,i)=>{t<e&&i>e&&(e=n?i:t)}));return e}const kC=(t,e,n)=>wC(t,(i=>{let r,s,o=i.from,{state:a}=t,l=a.doc.lineAt(o);if(n&&!e&&o>l.from&&o<l.from+200&&!/[^ \t]/.test(r=l.text.slice(0,o-l.from))){if("\t"==r[r.length-1])return o-1;let t=ty(r,a.tabSize)%nQ(a)||nQ(a);for(let e=0;e<t&&" "==r[r.length-1-e];e++)o--;s=o}else s=_m(l.text,o-l.from,e,e)+l.from,s==o&&l.number!=(e?a.doc.lines:1)?s+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(s-l.from,o-l.from))&&(s=_m(l.text,s-l.from,!1,!1)+l.from);return s})),SC=t=>kC(t,!1,!0),PC=t=>kC(t,!0,!1),_C=(t,e)=>wC(t,(n=>{let i=n.head,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let t=null;;){if(i==(e?s.to:s.from)){i==n.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let a=_m(s.text,i-s.from,e)+s.from,l=s.text.slice(Math.min(i,a)-s.from,Math.max(i,a)-s.from),h=o(l);if(null!=t&&h!=t)break;" "==l&&i==n.head||(t=h),i=a}return i})),QC=t=>_C(t,!1);function TC(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(i.empty||i.to!=s.from||(s=t.doc.lineAt(i.to-1)),n>=r.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function CC(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let s of TC(t)){if(n?s.to==t.doc.length:0==s.from)continue;let e=t.doc.lineAt(n?s.to+1:s.from-1),o=e.length+1;if(n){i.push({from:s.to,to:e.to},{from:s.from,insert:e.text+t.lineBreak});for(let e of s.ranges)r.push(Zm.range(Math.min(t.doc.length,e.anchor+o),Math.min(t.doc.length,e.head+o)))}else{i.push({from:e.from,to:s.from},{from:s.to,insert:t.lineBreak+e.text});for(let t of s.ranges)r.push(Zm.range(t.anchor-o,t.head-o))}}return!!i.length&&(e(t.update({changes:i,scrollIntoView:!0,selection:Zm.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0)}function EC(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of TC(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const RC=$C(!1),AC=$C(!0);function $C(t){return e=>{let{state:n,dispatch:i}=e;if(n.readOnly)return!1;let r=n.changeByRange((e=>{let{from:i,to:r}=e,s=n.doc.lineAt(i),o=!t&&i==r&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,i=V_(t).resolveInner(e),r=i.childBefore(e),s=i.childAfter(e);return r&&s&&r.to<=e&&s.from>=e&&(n=r.type.prop(jP.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}(n,i);t&&(i=r=(r<=s.to?s:n.doc.lineAt(r)).to);let a=new sQ(n,{simulateBreak:i,simulateDoubleBreak:!!o}),l=rQ(a,i);for(null==l&&(l=ty(/^\s*/.exec(n.doc.lineAt(i).text)[0],n.tabSize));r<s.to&&/\s/.test(s.text[r-s.from]);)r++;o?({from:i,to:r}=o):i>s.from&&i<s.from+100&&!/\S/.test(s.text.slice(0,i))&&(i=s.from);let h=["",iQ(n,l)];return o&&h.push(iQ(n,a.lineIndent(s.from,-1))),{changes:{from:i,to:r,insert:dm.of(h)},range:Zm.cursor(i+1+h[1].length)}}));return i(n.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function NC(t,e){let n=-1;return t.changeByRange((i=>{let r=[];for(let o=i.from;o<=i.to;){let s=t.doc.lineAt(o);s.number>n&&(i.empty||i.to>s.from)&&(e(s,r,i),n=s.number),o=s.to+1}let s=t.changes(r);return{changes:r,range:Zm.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}}))}const IC=t=>{let{state:e,dispatch:n}=t;return!e.readOnly&&(n(e.update(NC(e,((t,n)=>{n.push({from:t.from,insert:e.facet(eQ)})})),{userEvent:"input.indent"})),!0)},MC=t=>{let{state:e,dispatch:n}=t;return!e.readOnly&&(n(e.update(NC(e,((t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let r=ty(i,e.tabSize),s=0,o=iQ(e,Math.max(0,r-nQ(e)));for(;s<i.length&&s<o.length&&i.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:t.from+s,to:t.from+i.length,insert:o.slice(s)})})),{userEvent:"delete.dedent"})),!0)},DC=[{key:"Ctrl-b",run:XT,shift:lC,preventDefault:!0},{key:"Ctrl-f",run:YT,shift:hC},{key:"Ctrl-p",run:KT,shift:dC},{key:"Ctrl-n",run:JT,shift:fC},{key:"Ctrl-a",run:t=>WT(t,(e=>Zm.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>oC(t,(e=>Zm.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>WT(t,(e=>Zm.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>oC(t,(e=>Zm.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:PC},{key:"Ctrl-h",run:SC},{key:"Ctrl-k",run:t=>wC(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:QC},{key:"Ctrl-o",run:t=>{let{state:e,dispatch:n}=t;if(e.readOnly)return!1;let i=e.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:dm.of(["",""])},range:Zm.cursor(t.from)})));return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:t=>{let{state:e,dispatch:n}=t;if(e.readOnly)return!1;let i=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,i=e.doc.lineAt(n),r=n==i.from?n-1:_m(i.text,n-i.from,!1)+i.from,s=n==i.to?n+1:_m(i.text,n-i.from,!0)+i.from;return{changes:{from:r,to:s,insert:e.doc.slice(n,s).append(e.doc.slice(r,n))},range:Zm.cursor(s)}}));return!i.changes.empty&&(n(e.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:iC}],qC=[{key:"ArrowLeft",run:XT,shift:lC,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>FT(t,!ZT(t)),shift:t=>cC(t,!ZT(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>WT(t,(e=>rC(t,e,!ZT(t)))),shift:t=>oC(t,(e=>rC(t,e,!ZT(t)))),preventDefault:!0},{key:"ArrowRight",run:YT,shift:hC,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>FT(t,ZT(t)),shift:t=>cC(t,ZT(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>WT(t,(e=>rC(t,e,ZT(t)))),shift:t=>oC(t,(e=>rC(t,e,ZT(t)))),preventDefault:!0},{key:"ArrowUp",run:KT,shift:dC,preventDefault:!0},{mac:"Cmd-ArrowUp",run:OC,shift:vC},{mac:"Ctrl-ArrowUp",run:nC,shift:gC},{key:"ArrowDown",run:JT,shift:fC,preventDefault:!0},{mac:"Cmd-ArrowDown",run:yC,shift:bC},{mac:"Ctrl-ArrowDown",run:iC,shift:mC},{key:"PageUp",run:nC,shift:gC},{key:"PageDown",run:iC,shift:mC},{key:"Home",run:t=>WT(t,(e=>rC(t,e,!1))),shift:t=>oC(t,(e=>rC(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:OC,shift:vC},{key:"End",run:t=>WT(t,(e=>rC(t,e,!0))),shift:t=>oC(t,(e=>rC(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:yC,shift:bC},{key:"Enter",run:RC},{key:"Mod-a",run:t=>{let{state:e,dispatch:n}=t;return n(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:SC,shift:SC},{key:"Delete",run:PC},{key:"Mod-Backspace",mac:"Alt-Backspace",run:QC},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>_C(t,!0)},{mac:"Mod-Backspace",run:t=>wC(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>wC(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat(DC.map((t=>({mac:t.key,run:t.run,shift:t.shift})))),jC=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>WT(t,(e=>GT(t.state,e,!ZT(t)))),shift:t=>oC(t,(e=>GT(t.state,e,!ZT(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>WT(t,(e=>GT(t.state,e,ZT(t)))),shift:t=>oC(t,(e=>GT(t.state,e,ZT(t))))},{key:"Alt-ArrowUp",run:t=>{let{state:e,dispatch:n}=t;return CC(e,n,!1)}},{key:"Shift-Alt-ArrowUp",run:t=>{let{state:e,dispatch:n}=t;return EC(e,n,!1)}},{key:"Alt-ArrowDown",run:t=>{let{state:e,dispatch:n}=t;return CC(e,n,!0)}},{key:"Shift-Alt-ArrowDown",run:t=>{let{state:e,dispatch:n}=t;return EC(e,n,!0)}},{key:"Escape",run:t=>{let{state:e,dispatch:n}=t,i=e.selection,r=null;return i.ranges.length>1?r=Zm.create([i.main]):i.main.empty||(r=Zm.create([Zm.cursor(i.main.head)])),!!r&&(n(LT(e,r)),!0)}},{key:"Mod-Enter",run:AC},{key:"Alt-l",mac:"Ctrl-l",run:t=>{let{state:e,dispatch:n}=t,i=TC(e).map((t=>{let{from:n,to:i}=t;return Zm.range(n,Math.min(i+1,e.doc.length))}));return n(e.update({selection:Zm.create(i),userEvent:"select"})),!0}},{key:"Mod-i",run:t=>{let{state:e,dispatch:n}=t,i=UT(e.selection,(t=>{var n;for(let i=V_(e).resolveStack(t.from,1);i;i=i.next){let{node:e}=i;if((e.from<t.from&&e.to>=t.to||e.to>t.to&&e.from<=t.from)&&(null===(n=e.parent)||void 0===n?void 0:n.parent))return Zm.range(e.to,e.from)}return t}));return n(LT(e,i)),!0},preventDefault:!0},{key:"Mod-[",run:MC},{key:"Mod-]",run:IC},{key:"Mod-Alt-\\",run:t=>{let{state:e,dispatch:n}=t;if(e.readOnly)return!1;let i=Object.create(null),r=new sQ(e,{overrideIndentation:t=>{let e=i[t];return null==e?-1:e}}),s=NC(e,((t,n,s)=>{let o=rQ(r,t.from);if(null==o)return;/\S/.test(t.text)||(o=0);let a=/^\s*/.exec(t.text)[0],l=iQ(e,o);(a!=l||s.from<t.from+a.length)&&(i[t.from]=o,n.push({from:t.from,to:t.from+a.length,insert:l}))}));return s.changes.empty||n(e.update(s,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(TC(e).map((t=>{let{from:n,to:i}=t;return n>0?n--:i<e.doc.length&&i++,{from:n,to:i}}))),i=UT(e.selection,(e=>{let n;if(t.lineWrapping){let i=t.lineBlockAt(e.head),r=t.coordsAtPos(e.head,e.assoc||1);r&&(n=i.bottom+t.documentTop-r.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,n)})).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:t=>{let{state:e,dispatch:n}=t;return sC(e,n,!1)}},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=pT(t.state,n.from);return i.line?uT(t):!!i.block&&fT(t)}},{key:"Alt-A",run:dT},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat(qC);function UC(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];"string"==typeof r?t.setAttribute(i,r):null!=r&&(t[i]=r)}e++}for(;e<arguments.length;e++)LC(t,arguments[e]);return t}function LC(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)LC(t,e[n])}}const WC="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class zC{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,i),this.bufferStart=n,this.normalize=r?t=>r(WC(t)):WC,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Rm(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=Am(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=$m(t);let i=this.normalize(e);for(let r=0,s=n;;r++){let t=i.charCodeAt(r),o=this.match(t,s,this.bufferPos+this.bufferStart);if(r==i.length-1){if(o)return this.value=o,this;break}s==n&&r<e.length&&e.charCodeAt(r)==t&&s++}}}match(t,e,n){let i=null;for(let r=0;r<this.matches.length;r+=2){let e=this.matches[r],s=!1;this.query.charCodeAt(e)==t&&(e==this.query.length-1?i={from:this.matches[r+1],to:n}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?i={from:e,to:n}:this.matches.push(1,e)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}"undefined"!=typeof Symbol&&(zC.prototype[Symbol.iterator]=function(){return this});const VC={from:-1,to:-1,match:/.*/.exec("")},ZC="gm"+(null==/x/.unicode?"":"u");class XC{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if(this.text=t,this.to=r,this.curLine="",this.done=!1,this.value=VC,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new BC(t,e,n,i,r);this.re=new RegExp(e,ZC+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.test=null===n||void 0===n?void 0:n.test,this.iter=t.iter();let s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=GC(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,i=n+e[0].length;if(this.matchPos=GC(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,e)))return this.value={from:n,to:i,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const YC=new WeakMap;class FC{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let i=YC.get(t);if(!i||i.from>=n||i.to<=e){let i=new FC(e,t.sliceString(e,n));return YC.set(t,i),i}if(i.from==e&&i.to==n)return i;let{text:r,from:s}=i;return s>e&&(r=t.sliceString(e,s)+r,s=e),i.to<n&&(r+=t.sliceString(i.to,n)),YC.set(t,new FC(s,r)),new FC(e,r.slice(e-s,n-s))}}class BC{constructor(t,e,n,i,r){this.text=t,this.to=r,this.done=!1,this.value=VC,this.matchPos=GC(t,i),this.re=new RegExp(e,ZC+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.test=null===n||void 0===n?void 0:n.test,this.flat=FC.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,n=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,n,e)))return this.value={from:t,to:n,match:e},this.matchPos=GC(this.text,n+(t==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FC.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function GC(t,e){if(e>=t.length)return e;let n,i=t.lineAt(e);for(;e<i.to&&(n=i.text.charCodeAt(e-i.from))>=56320&&n<57344;)e++;return e}function HC(t){let e=UC("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:i}=t,r=i.doc.lineAt(i.selection.main.head),[,s,o,a,l]=n,h=a?+a.slice(1):0,c=o?+o:r.number;if(o&&l){let t=c/100;s&&(t=t*("-"==s?-1:1)+r.number/i.doc.lines),c=Math.round(i.doc.lines*t)}else o&&s&&(c=c*("-"==s?-1:1)+r.number);let u=i.doc.line(Math.max(1,Math.min(i.doc.lines,c))),d=Zm.cursor(u.from+Math.max(0,Math.min(h,u.length)));t.dispatch({effects:[KC.of(!1),ox.scrollIntoView(d.from,{y:"center"})],selection:d}),t.focus()}return{dom:UC("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:KC.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},UC("label",t.state.phrase("Go to line"),": ",e)," ",UC("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(XC.prototype[Symbol.iterator]=BC.prototype[Symbol.iterator]=function(){return this});const KC=SO.define(),JC=eO.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(KC)&&(t=n.value);return t},provide:t=>Sk.from(t,(t=>t?HC:null))}),tE=ox.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),eE={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},nE=Fm.define({combine:t=>DO(t,eE,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});const iE=Ov.mark({class:"cm-selectionMatch"}),rE=Ov.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function sE(t,e,n,i){return(0==n||t(e.sliceDoc(n-1,n))!=AO.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=AO.Word)}const oE=hb.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(nE),{state:n}=t,i=n.selection;if(i.ranges.length>1)return Ov.none;let r,s=i.main,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return Ov.none;let t=n.wordAt(s.head);if(!t)return Ov.none;o=n.charCategorizer(s.head),r=n.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return Ov.none;if(e.wholeWords){if(r=n.sliceDoc(s.from,s.to),o=n.charCategorizer(s.head),!sE(o,n,s.from,s.to)||!function(t,e,n,i){return t(e.sliceDoc(n,n+1))==AO.Word&&t(e.sliceDoc(i-1,i))==AO.Word}(o,n,s.from,s.to))return Ov.none}else if(r=n.sliceDoc(s.from,s.to),!r)return Ov.none}let a=[];for(let l of t.visibleRanges){let t=new zC(n.doc,r,l.from,l.to);for(;!t.next().done;){let{from:i,to:r}=t.value;if((!o||sE(o,n,i,r))&&(s.empty&&i<=s.from&&r>=s.to?a.push(rE.range(i,r)):(i>=s.to||r<=s.from)&&a.push(iE.range(i,r)),a.length>e.maxMatches))return Ov.none}}return Ov.set(a)}},{decorations:t=>t.decorations}),aE=ox.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const lE=Fm.define({combine:t=>DO(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new DE(t),scrollToMatch:t=>ox.scrollIntoView(t)})});class hE{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,ZC),!0}catch(YS){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new mE(this):new dE(this)}getCursor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=t.doc?t:MO.create({doc:t});return null==n&&(n=i.doc.length),this.regexp?fE(this,i,e,n):uE(this,i,e,n)}}class cE{constructor(t){this.spec=t}}function uE(t,e,n,i){return new zC(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?function(t,e){return(n,i,r,s)=>((s>n||s+r.length<i)&&(s=Math.max(0,n-2),r=t.sliceString(s,Math.min(t.length,i+2))),(e(pE(r,n-s))!=AO.Word||e(gE(r,n-s))!=AO.Word)&&(e(gE(r,i-s))!=AO.Word||e(pE(r,i-s))!=AO.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class dE extends cE{constructor(t){super(t)}nextMatch(t,e,n){let i=uE(this.spec,t,n,t.doc.length).nextOverlapping();return i.done&&(i=uE(this.spec,t,0,e).nextOverlapping()),i.done?null:i.value}prevMatchInRange(t,e,n){for(let i=n;;){let n=Math.max(e,i-1e4-this.spec.unquoted.length),r=uE(this.spec,t,n,i),s=null;for(;!r.nextOverlapping().done;)s=r.value;if(s)return s;if(n==e)return null;i-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=uE(this.spec,t,0,t.doc.length),i=[];for(;!n.next().done;){if(i.length>=e)return null;i.push(n.value)}return i}highlight(t,e,n,i){let r=uE(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!r.next().done;)i(r.value.from,r.value.to)}}function fE(t,e,n,i){return new XC(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(r=e.charCategorizer(e.selection.main.head),(t,e,n)=>!n[0].length||(r(pE(n.input,n.index))!=AO.Word||r(gE(n.input,n.index))!=AO.Word)&&(r(gE(n.input,n.index+n[0].length))!=AO.Word||r(pE(n.input,n.index+n[0].length))!=AO.Word)):void 0},n,i);var r}function pE(t,e){return t.slice(_m(t,e,!1),e)}function gE(t,e){return t.slice(e,_m(t,e))}class mE extends cE{nextMatch(t,e,n){let i=fE(this.spec,t,n,t.doc.length).next();return i.done&&(i=fE(this.spec,t,0,e).next()),i.done?null:i.value}prevMatchInRange(t,e,n){for(let i=1;;i++){let r=Math.max(e,n-1e4*i),s=fE(this.spec,t,r,n),o=null;for(;!s.next().done;)o=s.value;if(o&&(r==e||o.from>r+10))return o;if(r==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=fE(this.spec,t,0,t.doc.length),i=[];for(;!n.next().done;){if(i.length>=e)return null;i.push(n.value)}return i}highlight(t,e,n,i){let r=fE(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!r.next().done;)i(r.value.from,r.value.to)}}const OE=SO.define(),yE=SO.define(),vE=eO.define({create:t=>new bE(RE(t).create(),null),update(t,e){for(let n of e.effects)n.is(OE)?t=new bE(n.value.create(),t.panel):n.is(yE)&&(t=new bE(t.query,n.value?EE:null));return t},provide:t=>Sk.from(t,(t=>t.panel))});class bE{constructor(t,e){this.query=t,this.panel=e}}const wE=Ov.mark({class:"cm-searchMatch"}),xE=Ov.mark({class:"cm-searchMatch cm-searchMatch-selected"}),kE=hb.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(vE))}update(t){let e=t.state.field(vE);(e!=t.startState.field(vE)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight(t){let{query:e,panel:n}=t;if(!n||!e.spec.valid)return Ov.none;let{view:i}=this,r=new zO;for(let s=0,o=i.visibleRanges,a=o.length;s<a;s++){let{from:t,to:n}=o[s];for(;s<a-1&&n>o[s+1].from-500;)n=o[++s].to;e.highlight(i.state,t,n,((t,e)=>{let n=i.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,n?xE:wE)}))}return r.finish()}},{decorations:t=>t.decorations});function SE(t){return e=>{let n=e.state.field(vE,!1);return n&&n.query.spec.valid?t(e,n):NE(e)}}const PE=SE(((t,e)=>{let{query:n}=e,{to:i}=t.state.selection.main,r=n.nextMatch(t.state,i,i);if(!r)return!1;let s=Zm.single(r.from,r.to),o=t.state.facet(lE);return t.dispatch({selection:s,effects:[LE(t,r),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),$E(t),!0})),_E=SE(((t,e)=>{let{query:n}=e,{state:i}=t,{from:r}=i.selection.main,s=n.prevMatch(i,r,r);if(!s)return!1;let o=Zm.single(s.from,s.to),a=t.state.facet(lE);return t.dispatch({selection:o,effects:[LE(t,s),a.scrollToMatch(o.main,t)],userEvent:"select.search"}),$E(t),!0})),QE=SE(((t,e)=>{let{query:n}=e,i=n.matchAll(t.state,1e3);return!(!i||!i.length)&&(t.dispatch({selection:Zm.create(i.map((t=>Zm.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),TE=SE(((t,e)=>{let{query:n}=e,{state:i}=t,{from:r,to:s}=i.selection.main;if(i.readOnly)return!1;let o=n.nextMatch(i,r,r);if(!o)return!1;let a,l,h=[],c=[];if(o.from==r&&o.to==s&&(l=i.toText(n.getReplacement(o)),h.push({from:o.from,to:o.to,insert:l}),o=n.nextMatch(i,o.from,o.to),c.push(ox.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(r).number)+"."))),o){let e=0==h.length||h[0].from>=o.to?0:o.to-o.from-l.length;a=Zm.single(o.from-e,o.to-e),c.push(LE(t,o)),c.push(i.facet(lE).scrollToMatch(a.main,t))}return t.dispatch({changes:h,selection:a,effects:c,userEvent:"input.replace"}),!0})),CE=SE(((t,e)=>{let{query:n}=e;if(t.state.readOnly)return!1;let i=n.matchAll(t.state,1e9).map((t=>{let{from:e,to:i}=t;return{from:e,to:i,insert:n.getReplacement(t)}}));if(!i.length)return!1;let r=t.state.phrase("replaced $ matches",i.length)+".";return t.dispatch({changes:i,effects:ox.announce.of(r),userEvent:"input.replace.all"}),!0}));function EE(t){return t.state.facet(lE).createPanel(t)}function RE(t,e){var n,i,r,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let h=t.facet(lE);return new hE({search:(null!==(n=null===e||void 0===e?void 0:e.literal)&&void 0!==n?n:h.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(i=null===e||void 0===e?void 0:e.caseSensitive)&&void 0!==i?i:h.caseSensitive,literal:null!==(r=null===e||void 0===e?void 0:e.literal)&&void 0!==r?r:h.literal,regexp:null!==(s=null===e||void 0===e?void 0:e.regexp)&&void 0!==s?s:h.regexp,wholeWord:null!==(o=null===e||void 0===e?void 0:e.wholeWord)&&void 0!==o?o:h.wholeWord})}function AE(t){let e=bk(t,EE);return e&&e.dom.querySelector("[main-field]")}function $E(t){let e=AE(t);e&&e==t.root.activeElement&&e.select()}const NE=t=>{let e=t.state.field(vE,!1);if(e&&e.panel){let n=AE(t);if(n&&n!=t.root.activeElement){let i=RE(t.state,e.query.spec);i.valid&&t.dispatch({effects:OE.of(i)}),n.focus(),n.select()}}else t.dispatch({effects:[yE.of(!0),e?OE.of(RE(t.state,e.query.spec)):SO.appendConfig.of(zE)]});return!0},IE=t=>{let e=t.state.field(vE,!1);if(!e||!e.panel)return!1;let n=bk(t,EE);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:yE.of(!1)}),!0},ME=[{key:"Mod-f",run:NE,scope:"editor search-panel"},{key:"F3",run:PE,shift:_E,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:PE,shift:_E,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:IE,scope:"editor search-panel"},{key:"Mod-Shift-l",run:t=>{let{state:e,dispatch:n}=t,i=e.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:r,to:s}=i.main,o=[],a=0;for(let l=new zC(e.doc,e.sliceDoc(r,s));!l.next().done;){if(o.length>1e3)return!1;l.value.from==r&&(a=o.length),o.push(Zm.range(l.value.from,l.value.to))}return n(e.update({selection:Zm.create(o,a),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=bk(t,HC);if(!e){let n=[KC.of(!0)];null==t.state.field(JC,!1)&&n.push(SO.appendConfig.of([JC,tE])),t.dispatch({effects:n}),e=bk(t,HC)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:t=>{let{state:e,dispatch:n}=t,{ranges:i}=e.selection;if(i.some((t=>t.from===t.to)))return(t=>{let{state:e,dispatch:n}=t,{selection:i}=e,r=Zm.create(i.ranges.map((t=>e.wordAt(t.head)||Zm.cursor(t.head))),i.mainIndex);return!r.eq(i)&&(n(e.update({selection:r})),!0)})({state:e,dispatch:n});let r=e.sliceDoc(i[0].from,i[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=r)))return!1;let s=function(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,a=new zC(t.doc,e,i[i.length-1].to);;){if(a.next(),!a.done){if(o&&i.some((t=>t.from==a.value.from)))continue;if(s){let e=t.wordAt(a.value.from);if(!e||e.from!=a.value.from||e.to!=a.value.to)continue}return a.value}if(o)return null;a=new zC(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}}(e,r);return!!s&&(n(e.update({selection:e.selection.addRange(Zm.range(s.from,s.to),!1),effects:ox.scrollIntoView(s.to)})),!0)},preventDefault:!0}];class DE{constructor(t){this.view=t;let e=this.query=t.state.field(vE).query.spec;function n(t,e,n){return UC("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=UC("input",{value:e.search,placeholder:qE(t,"Find"),"aria-label":qE(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=UC("input",{value:e.replace,placeholder:qE(t,"Replace"),"aria-label":qE(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=UC("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=UC("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=UC("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=UC("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>PE(t)),[qE(t,"next")]),n("prev",(()=>_E(t)),[qE(t,"previous")]),n("select",(()=>QE(t)),[qE(t,"all")]),UC("label",null,[this.caseField,qE(t,"match case")]),UC("label",null,[this.reField,qE(t,"regexp")]),UC("label",null,[this.wordField,qE(t,"by word")]),...t.state.readOnly?[]:[UC("br"),this.replaceField,n("replace",(()=>TE(t)),[qE(t,"replace")]),n("replaceAll",(()=>CE(t)),[qE(t,"replace all")])],UC("button",{name:"close",onclick:()=>IE(t),"aria-label":qE(t,"close"),type:"button"},["\xd7"])])}commit(){let t=new hE({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:OE.of(t)}))}keydown(t){var e,n,i;e=this.view,n=t,i="search-panel",bx(mx(e.state),n,e,i)?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?_E:PE)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),TE(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(OE)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(lE).top}}function qE(t,e){return t.state.phrase(e)}const jE=30,UE=/[\s\.,:;?!]/;function LE(t,e){let{from:n,to:i}=e,r=t.state.doc.lineAt(n),s=t.state.doc.lineAt(i).to,o=Math.max(r.from,n-jE),a=Math.min(s,i+jE),l=t.state.sliceDoc(o,a);if(o!=r.from)for(let h=0;h<jE;h++)if(!UE.test(l[h+1])&&UE.test(l[h])){l=l.slice(h);break}if(a!=s)for(let h=l.length-1;h>l.length-jE;h--)if(!UE.test(l[h-1])&&UE.test(l[h])){l=l.slice(0,h);break}return ox.announce.of("".concat(t.state.phrase("current match"),". ").concat(l," ").concat(t.state.phrase("on line")," ").concat(r.number,"."))}const WE=ox.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),zE=[vE,aO.low(kE),WE];class VE{constructor(t,e,n,i){this.state=t,this.pos=e,this.explicit=n,this.view=i,this.abortListeners=[]}tokenBefore(t){let e=V_(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),i=e.text.slice(n-e.from,this.pos-e.from),r=i.search(BE(t,!1));return r<0?null:{from:n+r,to:this.pos,text:i.slice(r)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function ZE(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(e.replace(/[^\w\s]/g,"\\$&"),"]")}function XE(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,i]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let i=ZE(e)+ZE(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(e);return t=>{let r=t.matchBefore(i);return r||t.explicit?{from:r?r.from:t.pos,options:e,validFor:n}:null}}class YE{constructor(t,e,n,i){this.completion=t,this.source=e,this.match=n,this.score=i}}function FE(t){return t.selection.main.from}function BE(t,e){var n;let{source:i}=t,r=e&&"^"!=i[0],s="$"!=i[i.length-1];return r||s?new RegExp("".concat(r?"^":"","(?:").concat(i,")").concat(s?"$":""),null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const GE=wO.define();const HE=new WeakMap;function KE(t){if(!Array.isArray(t))return t;let e=HE.get(t);return e||HE.set(t,e=XE(t)),e}const JE=SO.define(),tR=SO.define();class eR{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=Rm(t,e),i=$m(n);this.chars.push(n);let r=t.slice(e,e+i),s=r.toUpperCase();this.folded.push(Rm(s==r?r.toLowerCase():s,0)),e+=i}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:i,precise:r,byWord:s}=this;if(1==e.length){let i=Rm(t,0),r=$m(i),s=r==t.length?0:-100;if(i==e[0]);else{if(i!=n[0])return null;s+=-200}return this.ret(s,[0,r])}let o=t.indexOf(this.pattern);if(0==o)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=e.length,l=0;if(o<0){for(let r=0,s=Math.min(t.length,200);r<s&&l<a;){let s=Rm(t,r);s!=e[l]&&s!=n[l]||(i[l++]=r),r+=$m(s)}if(l<a)return null}let h=0,c=0,u=!1,d=0,f=-1,p=-1,g=/[a-z]/.test(t),m=!0;for(let O=0,y=Math.min(t.length,200),v=0;O<y&&c<a;){let i=Rm(t,O);o<0&&(h<a&&i==e[h]&&(r[h++]=O),d<a&&(i==e[d]||i==n[d]?(0==d&&(f=O),p=O+1,d++):d=0));let l,y=i<255?i>=48&&i<=57||i>=97&&i<=122?2:i>=65&&i<=90?1:0:(l=Am(i))!=l.toLowerCase()?1:l!=l.toUpperCase()?2:0;(!O||1==y&&g||0==v&&0!=y)&&(e[c]==i||n[c]==i&&(u=!0)?s[c++]=O:s.length&&(m=!1)),v=y,O+=$m(i)}return c==a&&0==s[0]&&m?this.result((u?-200:0)-100,s,t):d==a&&0==f?this.ret(-200-t.length+(p==t.length?0:-100),[0,p]):o>-1?this.ret(-700-t.length,[o,o+this.pattern.length]):d==a?this.ret(-900-t.length,[f,p]):c==a?this.result((u?-200:0)-100-700+(m?0:-1100),s,t):2==e.length?null:this.result((i[0]?-700:0)-200-1100,i,t)}result(t,e,n){let i=[],r=0;for(let s of e){let t=s+(this.astral?$m(Rm(n,s)):1);r&&i[r-1]==s?i[r-1]=t:(i[r++]=s,i[r++]=t)}return this.ret(t-n.length,i)}}class nR{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),n=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,e.length],this.score=n+(t.length==this.pattern.length?0:-100),this)}}const iR=Fm.define({combine:t=>DO(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:sR,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>rR(t(n),e(n)),optionClass:(t,e)=>n=>rR(t(n),e(n)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function rR(t,e){return t?e?t+" "+e:t:e}function sR(t,e,n,i,r,s){let o,a,l=t.textDirection==_v.RTL,h=l,c=!1,u="top",d=e.left-r.left,f=r.right-e.right,p=i.right-i.left,g=i.bottom-i.top;if(h&&d<Math.min(p,f)?h=!1:!h&&f<Math.min(p,d)&&(h=!0),p<=(h?d:f))o=Math.max(r.top,Math.min(n.top,r.bottom-g))-e.top,a=Math.min(400,h?d:f);else{c=!0,a=Math.min(400,(l?e.right:r.right-e.left)-30);let t=r.bottom-e.bottom;t>=g||t>e.top?o=n.bottom-e.top:(u="bottom",o=e.bottom-n.top)}let m=(e.bottom-e.top)/s.offsetHeight,O=(e.right-e.left)/s.offsetWidth;return{style:"".concat(u,": ").concat(o/m,"px; max-width: ").concat(a/O,"px"),class:"cm-completionInfo-"+(c?l?"left-narrow":"right-narrow":h?"left":"right")}}function oR(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class aR{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let i=t.state.field(e),{options:r,selected:s}=i.open,o=t.state.facet(iR);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n,i){let r=document.createElement("span");r.className="cm-completionLabel";let s=t.displayLabel||t.label,o=0;for(let a=0;a<i.length;){let t=i[a++],e=i[a++];t>o&&r.appendChild(document.createTextNode(s.slice(o,t)));let n=r.appendChild(document.createElement("span"));n.appendChild(document.createTextNode(s.slice(t,e))),n.className="cm-completionMatchedText",o=e}return o<s.length&&r.appendChild(document.createTextNode(s.slice(o))),r},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=oR(r.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(n=>{let{options:i}=t.state.field(e).open;for(let e,r=n.target;r&&r!=this.dom;r=r.parentNode)if("LI"==r.nodeName&&(e=/-(\d+)$/.exec(r.id))&&+e[1]<i.length)return this.applyCompletion(t,i[+e[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(e=>{let n=t.state.field(this.stateField,!1);n&&n.tooltip&&t.state.facet(iR).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:tR.of(null)})})),this.showOptions(r,i.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(t){var e;let n=t.state.field(this.stateField),i=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=i){let{options:r,selected:s,disabled:o}=n.open;i.open&&i.open.options==r||(this.range=oR(r.length,s,t.state.facet(iR).maxRenderedOptions),this.showOptions(r,n.id)),this.updateSel(),o!=(null===(e=i.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=oR(e.options.length,e.selected,this.view.state.facet(iR).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:i}=n;if(!i)return;let r="string"===typeof i?document.createTextNode(i):i(n);if(!r)return;"then"in r?r.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,n)})).catch((t=>sb(this.view.state,t,"completion info"))):this.addInfoPane(r,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=t.nodeType)n.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:i}=t;n.appendChild(e),this.infoDestroy=i||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)"LI"==n.nodeName&&n.id?i==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):i--;return e&&function(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/r)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=t.getBoundingClientRect(),r=this.space;if(!r){let t=this.dom.ownerDocument.defaultView||window;r={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return i.top>Math.min(r.bottom,e.bottom)-10||i.bottom<Math.max(r.top,e.top)+10?null:this.view.state.facet(iR).positionInfo(this.view,e,i,n,r,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const i=document.createElement("ul");i.id=e,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let r=null;for(let s=n.from;s<n.to;s++){let{completion:o,match:a}=t[s],{section:l}=o;if(l){let t="string"==typeof l?l:l.name;if(t!=r&&(s>n.from||0==n.from))if(r=t,"string"!=typeof l&&l.header)i.appendChild(l.header(l));else{i.appendChild(document.createElement("completion-section")).textContent=t}}const h=i.appendChild(document.createElement("li"));h.id=e+"-"+s,h.setAttribute("role","option");let c=this.optionClass(o);c&&(h.className=c);for(let t of this.optionContent){let e=t(o,this.view.state,this.view,a);e&&h.appendChild(e)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function lR(t,e){return n=>new aR(n,t,e)}function hR(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class cR{constructor(t,e,n,i,r,s){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=i,this.selected=r,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new cR(this.options,pR(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,i,r){let s=function(t,e){let n=[],i=null,r=t=>{n.push(t);let{section:e}=t.completion;if(e){i||(i=[]);let t="string"==typeof e?e:e.name;i.some((e=>e.name==t))||i.push("string"==typeof e?{name:t}:e)}},s=e.facet(iR);for(let h of t)if(h.hasResult()){let t=h.result.getMatch;if(!1===h.result.filter)for(let e of h.result.options)r(new YE(e,h.source,t?t(e):[],1e9-n.length));else{let n,i=e.sliceDoc(h.from,h.to),o=s.filterStrict?new nR(i):new eR(i);for(let e of h.result.options)if(n=o.match(e.label)){let i=e.displayLabel?t?t(e,n.matched):[]:n.matched;r(new YE(e,h.source,i,n.score+(e.boost||0)))}}}if(i){let t=Object.create(null),e=0,r=(t,e)=>{var n,i;return(null!==(n=t.rank)&&void 0!==n?n:1e9)-(null!==(i=e.rank)&&void 0!==i?i:1e9)||(t.name<e.name?-1:1)};for(let n of i.sort(r))e-=1e5,t[n.name]=e;for(let i of n){let{section:e}=i.completion;e&&(i.score+=t["string"==typeof e?e:e.name])}}let o=[],a=null,l=s.compareCompletions;for(let h of n.sort(((t,e)=>e.score-t.score||l(t.completion,e.completion)))){let t=h.completion;!a||a.label!=t.label||a.detail!=t.detail||null!=a.type&&null!=t.type&&a.type!=t.type||a.apply!=t.apply||a.boost!=t.boost?o.push(h):hR(h.completion)>hR(a)&&(o[o.length-1]=h),a=h.completion}return o}(t,e);if(!s.length)return i&&t.some((t=>1==t.state))?new cR(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let o=e.facet(iR).selectOnOpen?0:-1;if(i&&i.selected!=o&&-1!=i.selected){let t=i.options[i.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){o=e;break}}return new cR(s,pR(n,o),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:kR,above:r.aboveCursor},i?i.timestamp:Date.now(),o,!1)}map(t){return new cR(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class uR{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new uR(gR,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(iR),i=(n.override||e.languageDataAt("autocomplete",FE(e)).map(KE)).map((e=>(this.active.find((t=>t.source==e))||new OR(e,this.active.some((t=>0!=t.state))?1:0)).update(t,n)));i.length==this.active.length&&i.every(((t,e)=>t==this.active[e]))&&(i=this.active);let r=this.open;r&&t.docChanged&&(r=r.map(t.changes)),t.selection||i.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}(i,this.active)?r=cR.build(i,e,this.id,r,n):r&&r.disabled&&!i.some((t=>1==t.state))&&(r=null),!r&&i.every((t=>1!=t.state))&&i.some((t=>t.hasResult()))&&(i=i.map((t=>t.hasResult()?new OR(t.source,0):t)));for(let s of t.effects)s.is(bR)&&(r=r&&r.setSelected(s.value,this.id));return i==this.active&&r==this.open?this:new uR(i,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?dR:fR}}const dR={"aria-autocomplete":"list"},fR={};function pR(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const gR=[];function mR(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(GE);if(n&&e.activateOnCompletion(n))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class OR{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=mR(t,e),i=this;(8&n||16&n&&this.touches(t))&&(i=new OR(i.source,0)),4&n&&0==i.state&&(i=new OR(this.source,1)),i=i.updateFor(t,n);for(let r of t.effects)if(r.is(JE))i=new OR(i.source,1,r.value?FE(t.state):-1);else if(r.is(tR))i=new OR(i.source,0);else if(r.is(vR))for(let t of r.value)t.source==i.source&&(i=t);return i}updateFor(t,e){return this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new OR(this.source,this.state,t.mapPos(this.explicitPos))}touches(t){return t.changes.touchesRange(FE(t.state))}}class yR extends OR{constructor(t,e,n,i,r){super(t,2,e),this.result=n,this.from=i,this.to=r}hasResult(){return!0}updateFor(t,e){var n;if(!(3&e))return this.map(t.changes);let i=this.result;i.map&&!t.changes.empty&&(i=i.map(i,t.changes));let r=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),o=FE(t.state);if((this.explicitPos<0?o<=r:o<this.from)||o>s||!i||2&e&&FE(t.startState)==this.from)return new OR(this.source,4&e?1:0);let a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return"function"==typeof t?t(r,n,i,e):BE(t,!0).test(r)}(i.validFor,t.state,r,s)?new yR(this.source,a,i,r,s):i.update&&(i=i.update(i,r,s,new VE(t.state,o,a>=0)))?new yR(this.source,a,i,i.from,null!==(n=i.to)&&void 0!==n?n:FE(t.state)):new OR(this.source,1,a)}map(t){if(t.empty)return this;return(this.result.map?this.result.map(this.result,t):this.result)?new yR(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new OR(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}const vR=SO.define({map:(t,e)=>t.map((t=>t.map(e)))}),bR=SO.define(),wR=eO.define({create:()=>uR.start(),update:(t,e)=>t.update(e),provide:t=>[ck.from(t,(t=>t.tooltip)),ox.contentAttributes.from(t,(t=>t.attrs))]});function xR(t,e){const n=e.completion.apply||e.completion.label;let i=t.state.field(wR).active.find((t=>t.source==e.source));return i instanceof yR&&("string"==typeof n?t.dispatch(Object.assign(Object.assign({},function(t,e,n,i){let{main:r}=t.selection,s=n-r.from,o=i-r.from;return Object.assign(Object.assign({},t.changeByRange((a=>a!=r&&n!=i&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,i)?{range:a}:{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:e},range:Zm.cursor(a.from+s+e.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,n,i.from,i.to)),{annotations:GE.of(e.completion)})):n(t,e.completion,i.from,i.to),!0)}const kR=lR(wR,xR);function SR(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return n=>{let i=n.state.field(wR,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(iR).interactionDelay)return!1;let r,s=1;"page"==e&&(r=Ok(n,i.open.tooltip))&&(s=Math.max(2,Math.floor(r.dom.offsetHeight/r.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+s*(t?1:-1):t?0:o-1;return a<0?a="page"==e?0:o-1:a>=o&&(a="page"==e?o-1:0),n.dispatch({effects:bR.of(a)}),!0}}class PR{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const _R=hb.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(wR).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(wR),n=t.state.facet(iR);if(!t.selectionSet&&!t.docChanged&&t.startState.field(wR)==e)return;let i=t.transactions.some((t=>{let e=mR(t,n);return 8&e||(t.selection||t.docChanged)&&!(3&e)}));for(let s=0;s<this.running.length;s++){let e=this.running[s];if(i||e.updates.length+t.transactions.length>50&&Date.now()-e.time>1e3){for(let t of e.context.abortListeners)try{t()}catch(S5){sb(this.view.state,S5)}e.context.abortListeners=null,this.running.splice(s--,1)}else e.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some((t=>t.effects.some((t=>t.is(JE)))))&&(this.pendingStart=!0);let r=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),r):-1,0!=this.composing)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:2==this.composing&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(wR);for(let n of e.active)1!=n.state||this.running.some((t=>t.active.source==n.source))||this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=FE(e),i=new VE(e,n,t.explicitPos==n,this.view),r=new PR(t,i);this.running.push(r),Promise.resolve(t.source(i)).then((t=>{r.context.aborted||(r.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:tR.of(null)}),sb(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(iR).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(iR);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(void 0===r.done)continue;if(this.running.splice(i--,1),r.done){let i=new yR(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(t=r.done.to)&&void 0!==t?t:FE(r.updates.length?r.updates[0].startState:this.view.state));for(let t of r.updates)i=i.update(t,n);if(i.hasResult()){e.push(i);continue}}let s=this.view.state.field(wR).active.find((t=>t.source==r.active.source));if(s&&1==s.state)if(null==r.done){let t=new OR(r.active.source,0);for(let e of r.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:vR.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(wR,!1);if(e&&e.tooltip&&this.view.state.facet(iR).closeOnBlur){let n=e.open&&Ok(this.view,e.open.tooltip);n&&n.dom.contains(t.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:tR.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:JE.of(!1)})),20),this.composing=0}}}),QR="object"==typeof navigator&&/Win/.test(navigator.platform),TR=aO.highest(ox.domEventHandlers({keydown(t,e){let n=e.state.field(wR,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&(!QR||!t.altKey)||t.metaKey)return!1;let i=n.open.options[n.open.selected],r=n.active.find((t=>t.source==i.source)),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&xR(e,i),!1}})),CR=ox.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const ER={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},RR=SO.define({map(t,e){let n=e.mapPos(t,-1,Im.TrackAfter);return null==n?void 0:n}}),AR=new class extends qO{};AR.startSide=1,AR.endSide=-1;const $R=eO.define({create:()=>WO.empty,update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=n.from&&t<=n.to})}for(let n of e.effects)n.is(RR)&&(t=t.update({add:[AR.range(n.value,n.value+1)]}));return t}});const NR="()[]{}<>";function IR(t){for(let e=0;e<NR.length;e+=2)if(NR.charCodeAt(e)==t)return NR.charAt(e+1);return Am(t<128?t:t+1)}function MR(t,e){return t.languageDataAt("closeBrackets",e)[0]||ER}const DR="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),qR=ox.inputHandler.of(((t,e,n,i)=>{if((DR?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let r=t.state.selection.main;if(i.length>2||2==i.length&&1==$m(Rm(i,0))||e!=r.from||n!=r.to)return!1;let s=function(t,e){let n=MR(t,t.selection.main.head),i=n.brackets||ER.brackets;for(let r of i){let s=IR(Rm(r,0));if(e==r)return s==r?VR(t,r,i.indexOf(r+r+r)>-1,n):WR(t,r,s,n.before||ER.before);if(e==s&&UR(t,t.selection.main.from))return zR(t,r,s)}return null}(t.state,i);return!!s&&(t.dispatch(s),!0)})),jR=[{key:"Backspace",run:t=>{let{state:e,dispatch:n}=t;if(e.readOnly)return!1;let i=MR(e,e.selection.main.head).brackets||ER.brackets,r=null,s=e.changeByRange((t=>{if(t.empty){let n=function(t,e){let n=t.sliceString(e-2,e);return $m(Rm(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let r of i)if(r==n&&LR(e.doc,t.head)==IR(Rm(r,0)))return{changes:{from:t.head-r.length,to:t.head+r.length},range:Zm.cursor(t.head-r.length)}}return{range:r=t}}));return r||n(e.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function UR(t,e){let n=!1;return t.field($R).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function LR(t,e){let n=t.sliceString(e,e+2);return n.slice(0,$m(Rm(n,0)))}function WR(t,e,n,i){let r=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:RR.of(s.to+e.length),range:Zm.range(s.anchor+e.length,s.head+e.length)};let o=LR(t.doc,s.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+n,from:s.head},effects:RR.of(s.head+e.length),range:Zm.cursor(s.head+e.length)}:{range:r=s}}));return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function zR(t,e,n){let i=null,r=t.changeByRange((e=>e.empty&&LR(t.doc,e.head)==n?{changes:{from:e.head,to:e.head+n.length,insert:n},range:Zm.cursor(e.head+n.length)}:i={range:e}));return i?null:t.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function VR(t,e,n,i){let r=i.stringPrefixes||ER.stringPrefixes,s=null,o=t.changeByRange((i=>{if(!i.empty)return{changes:[{insert:e,from:i.from},{insert:e,from:i.to}],effects:RR.of(i.to+e.length),range:Zm.range(i.anchor+e.length,i.head+e.length)};let o,a=i.head,l=LR(t.doc,a);if(l==e){if(ZR(t,a))return{changes:{insert:e+e,from:a},effects:RR.of(a+e.length),range:Zm.cursor(a+e.length)};if(UR(t,a)){let i=n&&t.sliceDoc(a,a+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+i.length,insert:i},range:Zm.cursor(a+i.length)}}}else{if(n&&t.sliceDoc(a-2*e.length,a)==e+e&&(o=XR(t,a-2*e.length,r))>-1&&ZR(t,o))return{changes:{insert:e+e+e+e,from:a},effects:RR.of(a+e.length),range:Zm.cursor(a+e.length)};if(t.charCategorizer(a)(l)!=AO.Word&&XR(t,a,r)>-1&&!function(t,e,n,i){let r=V_(t).resolveInner(e,-1),s=i.reduce(((t,e)=>Math.max(t,e.length)),0);for(let o=0;o<5;o++){let o=t.sliceDoc(r.from,Math.min(r.to,r.from+n.length+s)),a=o.indexOf(n);if(!a||a>-1&&i.indexOf(o.slice(0,a))>-1){let e=r.firstChild;for(;e&&e.from==r.from&&e.to-e.from>n.length+a;){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let l=r.to==e&&r.parent;if(!l)break;r=l}return!1}(t,a,e,r))return{changes:{insert:e+e,from:a},effects:RR.of(a+e.length),range:Zm.cursor(a+e.length)}}return{range:s=i}}));return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ZR(t,e){let n=V_(t).resolveInner(e+1);return n.parent&&n.from==e}function XR(t,e,n){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=AO.Word)return e;for(let r of n){let n=e-r.length;if(t.sliceDoc(n,e)==r&&i(t.sliceDoc(n-1,n))!=AO.Word)return n}return-1}const YR=[{key:"Ctrl-Space",run:t=>!!t.state.field(wR,!1)&&(t.dispatch({effects:JE.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(wR,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:tR.of(null)}),!0)}},{key:"ArrowDown",run:SR(!0)},{key:"ArrowUp",run:SR(!1)},{key:"PageDown",run:SR(!0,"page")},{key:"PageUp",run:SR(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(wR,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(iR).interactionDelay)&&xR(t,e.open.options[e.open.selected])}}],FR=aO.highest(px.computeN([iR],(t=>t.facet(iR).defaultKeymap?[YR]:[])));class BR{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class GR{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let i=t,r=n.facet(hA).markerFilter;r&&(i=r(i,n));let s=Ov.set(i.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?Ov.widget({widget:new dA(t),diagnostic:t}).range(t.from):Ov.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity+(t.markClass?" "+t.markClass:"")},diagnostic:t}).range(t.from,t.to))),!0);return new GR(s,e,HR(s))}}function HR(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=null;return t.between(n,1e9,((t,n,r)=>{let{spec:s}=r;if(!e||s.diagnostic==e)return i=new BR(t,n,s.diagnostic),!1})),i}function KR(t,e){let n=e.pos,i=e.end||n,r=t.state.facet(hA).hideOn(t,n,i);if(null!=r)return r;let s=t.startState.doc.lineAt(e.pos);return!(!t.effects.some((t=>t.is(tA)))&&!t.changes.touchesRange(s.from,Math.max(s.to,i)))}function JR(t,e){return t.field(iA,!1)?e:e.concat(SO.appendConfig.of(yA))}const tA=SO.define(),eA=SO.define(),nA=SO.define(),iA=eO.define({create:()=>new GR(Ov.none,null,null),update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),i=null,r=t.panel;if(t.selected){let r=e.changes.mapPos(t.selected.from,1);i=HR(n,t.selected.diagnostic,r)||HR(n,null,r)}!n.size&&r&&e.state.facet(hA).autoPanel&&(r=null),t=new GR(n,r,i)}for(let n of e.effects)if(n.is(tA)){let i=e.state.facet(hA).autoPanel?n.value.length?pA.open:null:t.panel;t=GR.init(n.value,i,e.state)}else n.is(eA)?t=new GR(t.diagnostics,n.value?pA.open:null,t.selected):n.is(nA)&&(t=new GR(t.diagnostics,t.panel,n.value));return t},provide:t=>[Sk.from(t,(t=>t.panel)),ox.decorations.from(t,(t=>t.diagnostics))]});const rA=Ov.mark({class:"cm-lintRange cm-lintRange-active"});function sA(t,e,n){let{diagnostics:i}=t.state.field(iA),r=[],s=2e8,o=0;i.between(e-(n<0?1:0),e+(n>0?1:0),((t,i,a)=>{let{spec:l}=a;e>=t&&e<=i&&(t==i||(e>t||n>0)&&(e<i||n<0))&&(r.push(l.diagnostic),s=Math.min(t,s),o=Math.max(i,o))}));let a=t.state.facet(hA).tooltipFilter;return a&&(r=a(r,t.state)),r.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create:()=>({dom:oA(t,r)})}:null}function oA(t,e){return UC("ul",{class:"cm-tooltip-lint"},e.map((e=>uA(t,e,!1))))}const aA=t=>{let e=t.state.field(iA,!1);return!(!e||!e.panel)&&(t.dispatch({effects:eA.of(!1)}),!0)},lA=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(iA,!1);e&&e.panel||t.dispatch({effects:JR(t.state,[eA.of(!0)])});let n=bk(t,pA.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(iA,!1);if(!e)return!1;let n=t.state.selection.main,i=e.diagnostics.iter(n.to+1);return!(!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to))&&(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)}}],hA=Fm.define({combine:t=>Object.assign({sources:t.map((t=>t.source)).filter((t=>null!=t))},DO(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))});function cA(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let i=n[t];if(/[a-zA-Z]/.test(i)&&!e.some((t=>t.toLowerCase()==i.toLowerCase()))){e.push(i);continue t}}e.push("")}return e}function uA(t,e,n){var i;let r=n?cA(e.actions):[];return UC("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},UC("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),null===(i=e.actions)||void 0===i?void 0:i.map(((n,i)=>{let s=!1,o=i=>{if(i.preventDefault(),s)return;s=!0;let r=HR(t.state.field(iA).diagnostics,e);r&&n.apply(t,r.from,r.to)},{name:a}=n,l=r[i]?a.indexOf(r[i]):-1,h=l<0?a:[a.slice(0,l),UC("u",a.slice(l,l+1)),a.slice(l+1)];return UC("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":" Action: ".concat(a).concat(l<0?"":' (access key "'.concat(r[i],')"'),".")},h)})),e.source&&UC("div",{class:"cm-diagnosticSource"},e.source))}class dA extends gv{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return UC("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class fA{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=uA(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class pA{constructor(t){this.view=t,this.items=[];this.list=UC("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)aA(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],i=cA(n.actions);for(let r=0;r<i.length;r++)if(i[r].toUpperCase().charCodeAt(0)==e.keyCode){let e=HR(this.view.state.field(iA).diagnostics,n);e&&n.actions[r].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=UC("div",{class:"cm-panel-lint"},this.list,UC("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>aA(this.view)},"\xd7")),this.update()}get selectedIndex(){let t=this.view.state.field(iA).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(iA),n=0,i=!1,r=null;for(t.between(0,this.view.state.doc.length,((t,s,o)=>{let a,{spec:l}=o,h=-1;for(let e=n;e<this.items.length;e++)if(this.items[e].diagnostic==l.diagnostic){h=e;break}h<0?(a=new fA(this.view,l.diagnostic),this.items.splice(n,0,a),i=!0):(a=this.items[h],h>n&&(this.items.splice(n,h-n),i=!0)),e&&a.diagnostic==e.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),r=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();0==this.items.length&&(this.items.push(new fA(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),r?(this.list.setAttribute("aria-activedescendant",r.id),this.view.requestMeasure({key:this,read:()=>({sel:r.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:t=>{let{sel:e,panel:n}=t,i=n.height/this.list.offsetHeight;e.top<n.top?this.list.scrollTop-=(n.top-e.top)/i:e.bottom>n.bottom&&(this.list.scrollTop+=(e.bottom-n.bottom)/i)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=HR(this.view.state.field(iA).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:nA.of(e)})}static open(t){return new pA(t)}}function gA(t){return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"',">").concat(encodeURIComponent(t),"</svg>')")}function mA(t){return gA('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(t,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}const OA=ox.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:mA("#d11")},".cm-lintRange-warning":{backgroundImage:mA("orange")},".cm-lintRange-info":{backgroundImage:mA("#999")},".cm-lintRange-hint":{backgroundImage:mA("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const yA=[iA,ox.decorations.compute([iA],(t=>{let{selected:e,panel:n}=t.field(iA);return e&&n&&e.from!=e.to?Ov.set([rA.range(e.from,e.to)]):Ov.none})),mk(sA,{hideOn:KR}),OA];var vA=function(t){void 0===t&&(t={});var{crosshairCursor:e=!1}=t,n=[];!1!==t.closeBracketsKeymap&&(n=n.concat(jR)),!1!==t.defaultKeymap&&(n=n.concat(jC)),!1!==t.searchKeymap&&(n=n.concat(ME)),!1!==t.historyKeymap&&(n=n.concat(jT)),!1!==t.foldKeymap&&(n=n.concat(_Q)),!1!==t.completionKeymap&&(n=n.concat(YR)),!1!==t.lintKeymap&&(n=n.concat(lA));var i=[];return!1!==t.lineNumbers&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[jk.of(t),Rk(),Wk]}()),!1!==t.highlightActiveLineGutter&&i.push(Zk),!1!==t.highlightSpecialChars&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Vx.of(t),Zx||(Zx=hb.fromClass(class{constructor(t){this.view=t,this.decorations=Ov.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Vx)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new jx({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:r}=n.state,s=Rm(e[0],0);if(9==s){let t=r.lineAt(i),e=n.state.tabSize,s=ty(t.text,e,i-t.from);return Ov.replace({widget:new Yx((e-s%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Ov.replace({widget:new Xx(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Vx);t.startState.facet(Vx)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}()),!1!==t.history&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xT,wT.of(t),ox.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?ST:"historyRedo"==t.inputType?PT:null;return!!n&&(t.preventDefault(),n(e))}})]}()),!1!==t.foldGutter&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign(Object.assign({},$Q),t),n=new NQ(e,!0),i=new NQ(e,!1),r=hb.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(J_)!=t.state.facet(J_)||t.startState.field(wQ,!1)!=t.state.field(wQ,!1)||V_(t.startState)!=V_(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new zO;for(let r of t.viewportLineBlocks){let s=xQ(t.state,r.from,r.to)?i:mQ(t.state,r.from,r.to)?n:null;s&&e.add(r.from,r.from,s)}return e.finish()}}),{domEventHandlers:s}=e;return[r,Ck({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.markers)||WO.empty},initialSpacer:()=>new NQ(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,n)=>{if(s.click&&s.click(t,e,n))return!0;let i=xQ(t.state,e.from,e.to);if(i)return t.dispatch({effects:vQ.of(i)}),!0;let r=mQ(t.state,e.from,e.to);return!!r&&(t.dispatch({effects:yQ.of(r)}),!0)}})}),CQ()]}()),!1!==t.drawSelection&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Tx.of(t),Ex,Ax,Nx,tb.of(!0)]}()),!1!==t.dropCursor&&i.push([Mx,Dx]),!1!==t.allowMultipleSelections&&i.push(MO.allowMultipleSelections.of(!0)),!1!==t.indentOnInput&&i.push(MO.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+200)return t;let s=n.sliceString(r.from,i);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,a=-1,l=[];for(let{head:h}of o.selection.ranges){let t=o.doc.lineAt(h);if(t.from==a)continue;a=t.from;let e=rQ(o,t.from);if(null==e)continue;let n=/^\s*/.exec(t.text)[0],i=iQ(o,e);n!=i&&l.push({from:t.from,to:t.from+n.length,insert:i})}return l.length?[t,{changes:l,sequential:!0}]:t}))),!1!==t.syntaxHighlighting&&i.push(function(t,e){let n,i=[LQ];return t instanceof MQ&&(t.module&&i.push(ox.styleModule.of(t.module)),n=t.themeType),(null===e||void 0===e?void 0:e.fallback)?i.push(qQ.of(t)):n?i.push(DQ.computeN([ox.darkTheme],(e=>e.facet(ox.darkTheme)==("dark"==n)?[t]:[]))):i.push(DQ.of(t)),i}(WQ,{fallback:!0})),!1!==t.bracketMatching&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[XQ.of(t),HQ]}()),!1!==t.closeBrackets&&i.push([qR,$R]),!1!==t.autocompletion&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[TR,wR,iR.of(t),_R,FR,CR]}()),!1!==t.rectangularSelection&&i.push(function(t){let e=(null===t||void 0===t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return ox.mouseSelectionStyle.of(((t,n)=>e(n)?Jx(t,n):null))}()),!1!==e&&i.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[e,n]=tk[t.key||"Alt"],i=hb.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)},mousemove(t){this.set(n(t))}}});return[i,ox.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.isDown)?ek:null}))]}()),!1!==t.highlightActiveLine&&i.push(Bx),!1!==t.highlightSelectionMatches&&i.push(function(t){let e=[aE,oE];return t&&e.push(nE.of(t)),e}()),t.tabSize&&"number"===typeof t.tabSize&&i.push(eQ.of(" ".repeat(t.tabSize))),i.concat([px.of(n.flat())]).filter(Boolean)};const bA=1024;let wA=0;class xA{constructor(t,e){this.from=t,this.to=e}}class kA{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=wA++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=_A.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}kA.closedBy=new kA({deserialize:t=>t.split(" ")}),kA.openedBy=new kA({deserialize:t=>t.split(" ")}),kA.group=new kA({deserialize:t=>t.split(" ")}),kA.isolate=new kA({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),kA.contextHash=new kA({perNode:!0}),kA.lookAhead=new kA({perNode:!0}),kA.mounted=new kA({perNode:!0});class SA{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[kA.mounted.id]}}const PA=Object.create(null);class _A{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):PA,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new _A(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(kA.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(kA.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}_A.none=new _A("",Object.create(null),0,8);const QA=new WeakMap,TA=new WeakMap;var CA;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(CA||(CA={}));class EA{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=SA.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new zA(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=QA.get(this)||this.topNode,i=new zA(n);return i.moveTo(t,e),QA.set(this,i._tree),i}get topNode(){return new MA(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=NA(QA.get(this)||this.topNode,t,e,!1);return QA.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=NA(TA.get(this)||this.topNode,t,e,!0);return TA.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof MA?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=SA.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new MA(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(NA(o,e,n,!1))}}return r?LA(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&CA.IncludeAnonymous)>0;for(let a=this.cursor(s|CA.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:YA(_A.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new EA(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new EA(_A.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=bA,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new RA(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new AA(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=YA(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new AA(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof EA){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(kA.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[kA.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[kA.lookAhead,r];s=s?[t].concat(s):[t]}return new EA(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new EA(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}EA.empty=new EA(_A.none,[],[],0);class RA{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new RA(this.buffer,this.index)}}class AA{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return _A.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!($A(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new AA(r,s,this.set)}}function $A(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function NA(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof MA&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:CA.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof MA&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class IA{cursor(){return new zA(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=DA(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return DA(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return NA(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return NA(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return qA(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class MA extends IA{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if($A(i,n,h,h+l.length))if(l instanceof AA){if(r&CA.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new UA(new jA(s,l,t,h),null,o)}else if(r&CA.IncludeAnonymous||!l.type.isAnonymous||VA(l)){let o;if(!(r&CA.IgnoreMounts)&&(o=SA.get(l))&&!o.overlay)return new MA(o.tree,h,t,s);let a=new MA(l,h,t,s);return r&CA.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&CA.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&CA.IgnoreOverlays)&&(n=SA.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new MA(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function DA(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function qA(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class jA{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class UA extends IA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new UA(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&CA.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new UA(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new UA(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new UA(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new EA(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function LA(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof MA&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new WA(r,n)}class WA{constructor(t,e){this.heads=t,this.node=e}get next(){return LA(this.heads)}}class zA{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof MA)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof MA?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&CA.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&CA.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&CA.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&CA.IncludeAnonymous||t instanceof AA||!t.type.isAnonymous||VA(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new UA(this.buffer,e,this.stack[i]);return this.bufferNode=new UA(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return qA(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return qA(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function VA(t){return t.children.some((t=>t instanceof AA||!t.type.isAnonymous||VA(t)))}const ZA=new WeakMap;function XA(t,e){if(!t.isAnonymous||e instanceof AA||e.type!=t)return 1;let n=ZA.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof EA)){n=1;break}n+=XA(t,i)}ZA.set(e,n)}return n}function YA(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=XA(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=XA(t,n[h]);for(h++;h<o;h++){let e=XA(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(YA(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class FA{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[new FA(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=n)for(;s&&s.from<c;){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new FA(t,n,e.tree,e.offset+l,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class BA{startParse(t,e,n){return"string"==typeof t&&(t=new GA(t)),n=n?n.length?n.map((t=>new xA(t.from,t.to))):[new xA(0,0)]:[new xA(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class GA{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new kA({perNode:!0});let HA=0;class KA{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=HA++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new KA([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new t$;return e=>e.modified.indexOf(t)>-1?e:t$.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let JA=0;class t${constructor(){this.instances=[],this.id=JA++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new KA(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(t$.get(o,t));return r}}function e$(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new i$(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return n$.add(e)}const n$=new kA;class i${constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function r$(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}function s$(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,s=new o$(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}i$.empty=new i$([],2,null);class o${constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,i,r){let{type:s,from:o,to:a}=t;if(o>=n||a<=e)return;s.isTop&&(r=this.highlighters.filter((t=>!t.scope||t.scope(s))));let l=i,h=function(t){let e=t.type.prop(n$);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||i$.empty,c=function(t,e){let n=null;for(let i of t){let t=i.style(e);t&&(n=n?n+" "+t:t)}return n}(r,h.tags);if(c&&(l&&(l+=" "),l+=c,1==h.mode&&(i+=(i?" ":"")+c)),this.startSpan(Math.max(e,o),l),h.opaque)return;let u=t.tree&&t.tree.prop(kA.mounted);if(u&&u.overlay){let s=t.node.enter(u.overlay[0].from+o,1),h=this.highlighters.filter((t=>!t.scope||t.scope(u.tree.type))),c=t.firstChild();for(let d=0,f=o;;d++){let p=d<u.overlay.length?u.overlay[d]:null,g=p?p.from+o:a,m=Math.max(e,f),O=Math.min(n,g);if(m<O&&c)for(;t.from<O&&(this.highlightRange(t,m,O,i,r),this.startSpan(Math.min(O,t.to),l),!(t.to>=g)&&t.nextSibling()););if(!p||g>n)break;f=p.to+o,f>e&&(this.highlightRange(s.cursor(),Math.max(e,p.from+o),Math.min(n,f),"",h),this.startSpan(Math.min(n,f),l))}c&&t.parent()}else if(t.firstChild()){u&&(i="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,i,r),this.startSpan(Math.min(n,t.to),l)}}while(t.nextSibling());t.parent()}}}const a$=KA.define,l$=a$(),h$=a$(),c$=a$(h$),u$=a$(h$),d$=a$(),f$=a$(d$),p$=a$(d$),g$=a$(),m$=a$(g$),O$=a$(),y$=a$(),v$=a$(),b$=a$(v$),w$=a$(),x$={comment:l$,lineComment:a$(l$),blockComment:a$(l$),docComment:a$(l$),name:h$,variableName:a$(h$),typeName:c$,tagName:a$(c$),propertyName:u$,attributeName:a$(u$),className:a$(h$),labelName:a$(h$),namespace:a$(h$),macroName:a$(h$),literal:d$,string:f$,docString:a$(f$),character:a$(f$),attributeValue:a$(f$),number:p$,integer:a$(p$),float:a$(p$),bool:a$(d$),regexp:a$(d$),escape:a$(d$),color:a$(d$),url:a$(d$),keyword:O$,self:a$(O$),null:a$(O$),atom:a$(O$),unit:a$(O$),modifier:a$(O$),operatorKeyword:a$(O$),controlKeyword:a$(O$),definitionKeyword:a$(O$),moduleKeyword:a$(O$),operator:y$,derefOperator:a$(y$),arithmeticOperator:a$(y$),logicOperator:a$(y$),bitwiseOperator:a$(y$),compareOperator:a$(y$),updateOperator:a$(y$),definitionOperator:a$(y$),typeOperator:a$(y$),controlOperator:a$(y$),punctuation:v$,separator:a$(v$),bracket:b$,angleBracket:a$(b$),squareBracket:a$(b$),paren:a$(b$),brace:a$(b$),content:g$,heading:m$,heading1:a$(m$),heading2:a$(m$),heading3:a$(m$),heading4:a$(m$),heading5:a$(m$),heading6:a$(m$),contentSeparator:a$(g$),list:a$(g$),quote:a$(g$),emphasis:a$(g$),strong:a$(g$),link:a$(g$),monospace:a$(g$),strikethrough:a$(g$),inserted:a$(),deleted:a$(),changed:a$(),invalid:a$(),meta:w$,documentMeta:a$(w$),annotation:a$(w$),processingInstruction:a$(w$),definition:KA.defineModifier(),constant:KA.defineModifier(),function:KA.defineModifier(),standard:KA.defineModifier(),local:KA.defineModifier(),special:KA.defineModifier()};r$([{tag:x$.link,class:"tok-link"},{tag:x$.heading,class:"tok-heading"},{tag:x$.emphasis,class:"tok-emphasis"},{tag:x$.strong,class:"tok-strong"},{tag:x$.keyword,class:"tok-keyword"},{tag:x$.atom,class:"tok-atom"},{tag:x$.bool,class:"tok-bool"},{tag:x$.url,class:"tok-url"},{tag:x$.labelName,class:"tok-labelName"},{tag:x$.inserted,class:"tok-inserted"},{tag:x$.deleted,class:"tok-deleted"},{tag:x$.literal,class:"tok-literal"},{tag:x$.string,class:"tok-string"},{tag:x$.number,class:"tok-number"},{tag:[x$.regexp,x$.escape,x$.special(x$.string)],class:"tok-string2"},{tag:x$.variableName,class:"tok-variableName"},{tag:x$.local(x$.variableName),class:"tok-variableName tok-local"},{tag:x$.definition(x$.variableName),class:"tok-variableName tok-definition"},{tag:x$.special(x$.variableName),class:"tok-variableName2"},{tag:x$.definition(x$.propertyName),class:"tok-propertyName tok-definition"},{tag:x$.typeName,class:"tok-typeName"},{tag:x$.namespace,class:"tok-namespace"},{tag:x$.className,class:"tok-className"},{tag:x$.macroName,class:"tok-macroName"},{tag:x$.propertyName,class:"tok-propertyName"},{tag:x$.operator,class:"tok-operator"},{tag:x$.comment,class:"tok-comment"},{tag:x$.meta,class:"tok-meta"},{tag:x$.invalid,class:"tok-invalid"},{tag:x$.punctuation,class:"tok-punctuation"}]);var k$;const S$=new kA;const P$=new kA;class _${constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=t,this.name=i,MO.prototype.hasOwnProperty("tree")||Object.defineProperty(MO.prototype,"tree",{get(){return T$(this)}}),this.parser=e,this.extension=[D$.of(this),MO.languageData.of(((t,e,n)=>{let i=Q$(t,e,n),r=i.type.prop(S$);if(!r)return[];let s=t.facet(r),o=i.type.prop(P$);if(o){let r=i.resolve(e-i.from,n);for(let e of o)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e){return Q$(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(S$)==this.data}findRegions(t){let e=t.facet(D$);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(S$)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(kA.mounted);if(r){if(r.tree.prop(S$)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof EA&&i(r,t.positions[n]+e)}};return i(T$(t),0),n}get allowsNesting(){return!0}}function Q$(t,e,n){let i=t.facet(D$),r=T$(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,CA.ExcludeBuffers))s.type.isTop&&(r=s);return r}_$.setState=SO.define();function T$(t){let e=t.field(_$.state,!1);return e?e.tree:EA.empty}class C${constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let E$=null;class R${constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new R$(t,e,[],EA.empty,0,n,[],null)}startParse(){return this.parser.startParse(new C$(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=EA.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(FA.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(FA.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=E$;E$=this;try{return t()}finally{E$=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=A$(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=FA.applyChanges(n,e),i=EA.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new R$(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:i}=this.skipped[n];e<t.to&&i>t.from&&(this.fragments=A$(this.fragments,e,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends BA{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=E$;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new EA(_A.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return E$}}function A$(t,e,n){return FA.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class $${constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new $$(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=R$.create(t.facet(D$).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new $$(n)}}_$.state=eO.define({create:$$.init,update(t,e){for(let n of e.effects)if(n.is(_$.setState))return n.value;return e.startState.facet(D$)!=e.state.facet(D$)?$$.init(e.state):t.apply(e)}});let N$=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(N$=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const I$="undefined"!=typeof navigator&&(null===(k$=navigator.scheduling)||void 0===k$?void 0:k$.isInputPending)?()=>navigator.scheduling.isInputPending():null,M$=hb.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(_$.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(_$.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=N$(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(_$.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!I$?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>I$&&I$()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:_$.setState.of(new $$(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>sb(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),D$=Fm.define({combine:t=>t.length?t[0]:null,enables:t=>[_$.state,M$,ox.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});class q${constructor(t,e){let n;function i(t){let e=sy.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof _$?t=>t.prop(S$)==s.data:s?t=>t==s:void 0,this.style=r$(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new sy(n):null,this.themeType=e.themeType}static define(t,e){return new q$(t,e||{})}}const j$=Fm.define(),U$=Fm.define({combine:t=>t.length?[t[0]]:null});function L$(t){let e=t.facet(j$);return e.length?e:t.facet(U$)}function W$(t,e){let n,i=[V$];return t instanceof q$&&(t.module&&i.push(ox.styleModule.of(t.module)),n=t.themeType),(null===e||void 0===e?void 0:e.fallback)?i.push(U$.of(t)):n?i.push(j$.computeN([ox.darkTheme],(e=>e.facet(ox.darkTheme)==("dark"==n)?[t]:[]))):i.push(j$.of(t)),i}class z${constructor(t){this.markCache=Object.create(null),this.tree=T$(t.state),this.decorations=this.buildDeco(t,L$(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=T$(t.state),n=L$(t.state),i=n!=L$(t.startState),{viewport:r}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<r.to&&!i&&e.type==this.tree.type&&s>=r.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||i)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=r.to)}buildDeco(t,e){if(!e||!this.tree.length)return Ov.none;let n=new zO;for(let{from:i,to:r}of t.visibleRanges)s$(this.tree,e,((t,e,i)=>{n.add(t,e,this.markCache[i]||(this.markCache[i]=Ov.mark({class:i})))}),i,r);return n.finish()}}const V$=aO.high(hb.fromClass(z$,{decorations:t=>t.decorations}));x$.meta,x$.link,x$.heading,x$.emphasis,x$.strong,x$.strikethrough,x$.keyword,x$.atom,x$.bool,x$.url,x$.contentSeparator,x$.labelName,x$.literal,x$.inserted,x$.string,x$.deleted,x$.regexp,x$.escape,x$.string,x$.variableName,x$.variableName,x$.typeName,x$.namespace,x$.className,x$.variableName,x$.macroName,x$.propertyName,x$.comment,x$.invalid;const Z$=Object.create(null),X$=[_A.none],Y$=[],F$=Object.create(null),B$=Object.create(null);for(let[Q5,T5]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])B$[Q5]=H$(Z$,T5);function G$(t,e){Y$.indexOf(t)>-1||(Y$.push(t),console.warn(e))}function H$(t,e){let n=[];for(let a of e.split(" ")){let e=[];for(let n of a.split(".")){let i=t[n]||x$[n];i?"function"==typeof i?e.length?e=e.map(i):G$(n,"Modifier ".concat(n," used at start of tag")):e.length?G$(n,"Tag ".concat(n," used as modifier")):e=Array.isArray(i)?i:[i]:G$(n,"Unknown highlighting tag ".concat(n))}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),s=F$[r];if(s)return s.id;let o=F$[r]=_A.define({id:X$.length,name:i,props:[e$({[i]:n})]});return X$.push(o),o.id}_v.RTL,_v.LTR;const K$="#e5c07b",J$="#e06c75",tN="#56b6c2",eN="#ffffff",nN="#abb2bf",iN="#7d8799",rN="#61afef",sN="#98c379",oN="#d19a66",aN="#c678dd",lN="#21252b",hN="#2c313a",cN="#282c34",uN="#353a42",dN="#3E4451",fN="#528bff",pN=[ox.theme({"&":{color:nN,backgroundColor:cN},".cm-content":{caretColor:fN},".cm-cursor, .cm-dropCursor":{borderLeftColor:fN},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:dN},".cm-panels":{backgroundColor:lN,color:nN},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:cN,color:iN,border:"none"},".cm-activeLineGutter":{backgroundColor:hN},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:uN},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:uN,borderBottomColor:uN},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:hN,color:nN}}},{dark:!0}),W$(q$.define([{tag:x$.keyword,color:aN},{tag:[x$.name,x$.deleted,x$.character,x$.propertyName,x$.macroName],color:J$},{tag:[x$.function(x$.variableName),x$.labelName],color:rN},{tag:[x$.color,x$.constant(x$.name),x$.standard(x$.name)],color:oN},{tag:[x$.definition(x$.name),x$.separator],color:nN},{tag:[x$.typeName,x$.className,x$.number,x$.changed,x$.annotation,x$.modifier,x$.self,x$.namespace],color:K$},{tag:[x$.operator,x$.operatorKeyword,x$.url,x$.escape,x$.regexp,x$.link,x$.special(x$.string)],color:tN},{tag:[x$.meta,x$.comment],color:iN},{tag:x$.strong,fontWeight:"bold"},{tag:x$.emphasis,fontStyle:"italic"},{tag:x$.strikethrough,textDecoration:"line-through"},{tag:x$.link,color:iN,textDecoration:"underline"},{tag:x$.heading,fontWeight:"bold",color:J$},{tag:[x$.atom,x$.bool,x$.special(x$.variableName)],color:oN},{tag:[x$.processingInstruction,x$.string,x$.inserted],color:sN},{tag:x$.invalid,color:eN}]))];var gN=ox.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),mN=function(t){void 0===t&&(t={});var{indentWithTab:e=!0,editable:n=!0,readOnly:i=!1,theme:r="light",placeholder:s="",basicSetup:o=!0}=t,a=[];switch(e&&a.unshift(px.of([IP])),o&&("boolean"===typeof o?a.unshift(vA()):a.unshift(vA(o))),s&&a.unshift(function(t){return hb.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Ov.set([Ov.widget({widget:new Gx(t),side:1}).range(0)]):Ov.none}get decorations(){return this.view.state.doc.length?Ov.none:this.placeholder}},{decorations:t=>t.decorations})}(s)),r){case"light":a.push(gN);break;case"dark":a.push(pN);break;case"none":break;default:a.push(r)}return!1===n&&a.push(ox.editable.of(!1)),i&&a.push(MO.readOnly.of(!0)),[...a]},ON=wO.define(),yN=[];function vN(t){var{value:e,selection:n,onChange:i,onStatistics:r,onCreateEditor:s,onUpdate:a,extensions:l=yN,autoFocus:h,theme:c="light",height:u=null,minHeight:d=null,maxHeight:f=null,width:p=null,minWidth:g=null,maxWidth:m=null,placeholder:O="",editable:y=!0,readOnly:v=!1,indentWithTab:b=!0,basicSetup:w=!0,root:x,initialState:k}=t,[S,P]=(0,o.useState)(),[_,Q]=(0,o.useState)(),[T,C]=(0,o.useState)(),E=ox.theme({"&":{height:u,minHeight:d,maxHeight:f,width:p,minWidth:g,maxWidth:m},"& .cm-scroller":{height:"100% !important"}}),R=ox.updateListener.of((t=>{if(t.docChanged&&"function"===typeof i&&!t.transactions.some((t=>t.annotation(ON)))){var e=t.state.doc.toString();i(e,t)}r&&r((t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map((e=>t.state.sliceDoc(e.from,e.to))),selectedText:t.state.selection.ranges.some((t=>!t.empty))}))(t))})),A=[R,E,...mN({theme:c,editable:y,readOnly:v,placeholder:O,indentWithTab:b,basicSetup:w})];return a&&"function"===typeof a&&A.push(ox.updateListener.of(a)),A=A.concat(l),(0,o.useEffect)((()=>{if(S&&!T){var t={doc:e,selection:n,extensions:A},i=k?MO.fromJSON(k.json,t,k.fields):MO.create(t);if(C(i),!_){var r=new ox({state:i,parent:S,root:x});Q(r),s&&s(r,i)}}return()=>{_&&(C(void 0),Q(void 0))}}),[S,T]),(0,o.useEffect)((()=>P(t.container)),[t.container]),(0,o.useEffect)((()=>()=>{_&&(_.destroy(),Q(void 0))}),[_]),(0,o.useEffect)((()=>{h&&_&&_.focus()}),[h,_]),(0,o.useEffect)((()=>{_&&_.dispatch({effects:SO.reconfigure.of(A)})}),[c,l,u,d,f,p,g,m,O,y,v,b,w,i,a]),(0,o.useEffect)((()=>{if(void 0!==e){var t=_?_.state.doc.toString():"";_&&e!==t&&_.dispatch({changes:{from:0,to:t.length,insert:e||""},annotations:[ON.of(!0)]})}}),[e,_]),{state:T,setState:C,view:_,setView:Q,container:S,setContainer:P}}var bN=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],wN=(0,o.forwardRef)(((t,e)=>{var{className:n,value:i="",selection:r,extensions:s=[],onChange:a,onStatistics:l,onCreateEditor:h,onUpdate:c,autoFocus:u,theme:d="light",height:f,minHeight:p,maxHeight:g,width:m,minWidth:O,maxWidth:y,basicSetup:v,placeholder:b,indentWithTab:w,editable:x,readOnly:k,root:S,initialState:P}=t,_=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}(t,bN),Q=(0,o.useRef)(null),{state:T,view:C,container:E}=vN({container:Q.current,root:S,value:i,autoFocus:u,theme:d,height:f,minHeight:p,maxHeight:g,width:m,minWidth:O,maxWidth:y,basicSetup:v,placeholder:b,indentWithTab:w,editable:x,readOnly:k,selection:r,onChange:a,onStatistics:l,onCreateEditor:h,onUpdate:c,extensions:s,initialState:P});if((0,o.useImperativeHandle)(e,(()=>({editor:Q.current,state:T,view:C})),[Q,E,T,C]),"string"!==typeof i)throw new Error("value must be typeof string but got "+typeof i);var R="string"===typeof d?"cm-theme-"+d:"cm-theme";return(0,om.jsx)("div",um({ref:Q,className:R+(n?" "+n:"")},_))}));wN.displayName="CodeMirror";const xN=1024;let kN=0;class SN{constructor(t,e){this.from=t,this.to=e}}class PN{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=kN++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=TN.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}PN.closedBy=new PN({deserialize:t=>t.split(" ")}),PN.openedBy=new PN({deserialize:t=>t.split(" ")}),PN.group=new PN({deserialize:t=>t.split(" ")}),PN.isolate=new PN({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),PN.contextHash=new PN({perNode:!0}),PN.lookAhead=new PN({perNode:!0}),PN.mounted=new PN({perNode:!0});class _N{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[PN.mounted.id]}}const QN=Object.create(null);class TN{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):QN,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new TN(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(PN.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(PN.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}TN.none=new TN("",Object.create(null),0,8);class CN{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(){let t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(let r of this.types){let e=null;for(let t of n){let n=t(r);n&&(e||(e=Object.assign({},r.props)),e[n[0].id]=n[1])}t.push(e?new TN(r.name,e,r.id,r.flags):r)}return new CN(t)}}const EN=new WeakMap,RN=new WeakMap;var AN;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(AN||(AN={}));class $N{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=_N.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new XN(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=EN.get(this)||this.topNode,i=new XN(n);return i.moveTo(t,e),EN.set(this,i._tree),i}get topNode(){return new jN(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=DN(EN.get(this)||this.topNode,t,e,!1);return EN.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=DN(RN.get(this)||this.topNode,t,e,!0);return RN.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof jN?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=_N.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new jN(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(DN(o,e,n,!1))}}return r?VN(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&AN.IncludeAnonymous)>0;for(let a=this.cursor(s|AN.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:GN(TN.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new $N(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new $N(TN.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=xN,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new NN(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new IN(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=GN(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new IN(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof $N){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(PN.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[PN.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[PN.lookAhead,r];s=s?[t].concat(s):[t]}return new $N(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new $N(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}$N.empty=new $N(TN.none,[],[],0);class NN{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new NN(this.buffer,this.index)}}class IN{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return TN.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(MN(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new IN(r,s,this.set)}}function MN(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function DN(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof jN&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:AN.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof jN&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class qN{cursor(){return new XN(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=UN(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return UN(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return DN(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return DN(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return LN(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class jN extends qN{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(MN(i,n,h,h+l.length))if(l instanceof IN){if(r&AN.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new zN(new WN(s,l,t,h),null,o)}else if(r&AN.IncludeAnonymous||!l.type.isAnonymous||YN(l)){let o;if(!(r&AN.IgnoreMounts)&&(o=_N.get(l))&&!o.overlay)return new jN(o.tree,h,t,s);let a=new jN(l,h,t,s);return r&AN.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&AN.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&AN.IgnoreOverlays)&&(n=_N.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new jN(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function UN(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function LN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class WN{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class zN extends qN{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new zN(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&AN.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new zN(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new zN(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new zN(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new $N(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function VN(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof jN&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new ZN(r,n)}class ZN{constructor(t,e){this.heads=t,this.node=e}get next(){return VN(this.heads)}}class XN{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof jN)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof jN?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&AN.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&AN.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&AN.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&AN.IncludeAnonymous||t instanceof IN||!t.type.isAnonymous||YN(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new zN(this.buffer,e,this.stack[i]);return this.bufferNode=new zN(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return LN(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return LN(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function YN(t){return t.children.some((t=>t instanceof IN||!t.type.isAnonymous||YN(t)))}const FN=new WeakMap;function BN(t,e){if(!t.isAnonymous||e instanceof IN||e.type!=t)return 1;let n=FN.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof $N)){n=1;break}n+=BN(t,i)}FN.set(e,n)}return n}function GN(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=BN(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=BN(t,n[h]);for(h++;h<o;h++){let e=BN(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(GN(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class HN{startParse(t,e,n){return"string"==typeof t&&(t=new KN(t)),n=n?n.length?n.map((t=>new SN(t.from,t.to))):[new SN(0,0)]:[new SN(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class KN{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new PN({perNode:!0});class JN{constructor(t,e,n,i,r,s,o,a,l){let h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10?arguments[10]:void 0;this.p=t,this.stack=e,this.state=n,this.reducePos=i,this.pos=r,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}toString(){return"[".concat(this.stack.filter(((t,e)=>e%3==0)).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}static start(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.parser.context;return new JN(t,[],e,n,n,0,[],0,i?new tI(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,i=65535&t,{parser:r}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let s=r.dynamicPrecedence(i);if(s&&(this.score+=s),0==n)return this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&t?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,l=this.reducePos-a;l>=2e3&&!(null===(e=this.p.parser.nodeSet.types[i])||void 0===e?void 0:e.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=l));let h=o?this.stack[o-1]:0,c=this.bufferBase+this.buffer.length-h;if(i<r.minRepeatTerm||131072&t){let t=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,a,t,c+4,!0)}if(262144&t)this.state=this.stack[o];else{let t=this.stack[o-3];this.state=r.getGoto(t,i,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(i,a)}storeNode(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,i=this.buffer.length;if(0==i&&t.parent&&(i=t.bufferBase-t.parent.bufferBase,t=t.parent),i>0&&0==t.buffer[i-4]&&t.buffer[i-1]>-1){if(e==n)return;if(t.buffer[i-2]>=e)return void(t.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4])for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4);this.buffer[r]=t,this.buffer[r+1]=e,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(t,e,n,i)}shift(t,e,n,i){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let r=t,{parser:s}=this.p;(i>this.pos||e<=s.maxNode)&&(this.pos=i,s.stateFlag(r,1)||(this.reducePos=i)),this.pushState(r,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,i,4)}else this.pos=i,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,i,4)}apply(t,e,n,i){65536&t?this.reduce(t):this.shift(t,e,n,i)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(e,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),i=t.bufferBase+e;for(;t&&i==t.bufferBase;)t=t.parent;return new JN(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new eI(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(0==(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<e.length;r+=2)(i=e[r+1])!=this.state&&this.p.parser.hasAction(i,t)&&n.push(e[r],i);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let i=e[t+1];n.some(((t,e)=>1&e&&t==i))||n.push(e[t],i)}e=n}let n=[];for(let i=0;i<e.length&&n.length<4;i+=2){let t=e[i+1];if(t==this.state)continue;let r=this.split();r.pushState(t,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(e[i],this.pos),r.reducePos=this.pos,r.score-=200,n.push(r)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(0==(65536&e))return!1;if(!t.validAction(this.state,e)){let n=e>>19,i=65535&e,r=this.stack.length-3*n;if(r<0||t.getGoto(this.stack[r],i,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(i,r)=>{if(!e.includes(i))return e.push(i),t.allActions(i,(e=>{if(393216&e);else if(65536&e){let n=(e>>19)-r;if(n>1){let i=65535&e,r=this.stack.length-3*n;if(r>=0&&t.getGoto(this.stack[r],i,!1)>=0)return n<<19|65536|i}}else{let t=n(e,r+1);if(null!=t)return t}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new tI(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class tI{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class eI{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=i}}class nI{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.bufferBase+t.buffer.length;return new nI(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new nI(this.stack,this.pos,this.index)}}function iI(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof t)return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let e=t.charCodeAt(i++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let r=e-32;if(r>=46&&(r-=46,n=!0),s+=r,n)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class rI{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const sI=new rI;class oI{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=sI,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,i=this.rangeIndex,r=this.pos+t;for(;r<n.from;){if(!i)return null;let t=this.ranges[--i];r-=n.from-t.to,n=t}for(;e<0?r>n.to:r>=n.to;){if(i==this.ranges.length-1)return null;let t=this.ranges[++i];r+=t.from-n.to,n=t}return r}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,n,i=this.chunkOff+t;if(i>=0&&i<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(t,1);if(null==i)return-1;if(e=i,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,i=this.range;for(;i.to<=e;)i=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=sI,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let i of this.ranges){if(i.from>=e)break;i.to>t&&(n+=this.input.read(Math.max(i.from,t),Math.min(i.to,e)))}return n}}class aI{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;hI(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}aI.prototype.contextual=aI.prototype.fallback=aI.prototype.extend=!1;aI.prototype.fallback=aI.prototype.extend=!1;class lI{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function hI(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;t:for(;0!=(a&t[o]);){let n=t[o+1];for(let u=o+3;u<n;u+=2)if((t[u+1]&a)>0){let n=t[u];if(l.allows(n)&&(-1==e.token.value||e.token.value==n||uI(n,e.token.value,r,s))){e.acceptToken(n);break}}let i=e.next,h=0,c=t[o+2];if(!(e.next<0&&c>h&&65535==t[n+3*c-3])){for(;h<c;){let r=h+c>>1,s=n+r+(r<<1),a=t[s],l=t[s+1]||65536;if(i<a)c=r;else{if(!(i>=l)){o=t[s+2],e.advance();continue t}h=r+1}}break}o=t[n+3*c-1]}}function cI(t,e,n){for(let i,r=e;65535!=(i=t[r]);r++)if(i==n)return r-e;return-1}function uI(t,e,n,i){let r=cI(n,i,e);return r<0||cI(n,i,t)<r}const dI="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/DYA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"/DYA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG);let fI=null;function pI(t,e,n){let i=t.cursor(AN.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class gI{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?pI(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?pI(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],i=this.index[e];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],s=this.start[e]+n.positions[i];if(s>t)return this.nextStart=s,null;if(r instanceof $N){if(s==t){if(s<this.safeFrom)return null;let t=s+r.length;if(t<=this.safeTo){let e=r.prop(PN.lookAhead);if(!e||t+e<this.fragment.to)return r}}this.index[e]++,s+r.length>=Math.max(this.safeFrom,t)&&(this.trees.push(r),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+r.length}}}class mI{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new rI))}getActions(t){let e=0,n=null,{parser:i}=t.p,{tokenizers:r}=i,s=i.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let l=0;l<r.length;l++){if(0==(1<<l&s))continue;let i=r[l],h=this.tokens[l];if((!n||i.fallback)&&((i.contextual||h.start!=t.pos||h.mask!=s||h.context!=o)&&(this.updateCachedToken(h,i,t),h.mask=s,h.context=o),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let r=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!i.extend&&(n=h,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),n||t.pos!=this.stream.end||(n=new rI,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new rI,{pos:n,p:i}=t;return e.start=n,e.end=Math.min(n+1,i.stream.end),e.value=n==i.stream.end?i.parser.eofTerm:0,e}updateCachedToken(t,e,n){let i=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(i,t),n),t.value>-1){let{parser:e}=n.p;for(let i=0;i<e.specialized.length;i++)if(e.specialized[i]==t.value){let r=e.specializers[i](this.stream.read(t.start,t.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){0==(1&r)?t.value=r>>1:t.extended=r>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,e,n,i){for(let r=0;r<i;r+=3)if(this.actions[r]==t)return i;return this.actions[i++]=t,this.actions[i++]=e,this.actions[i++]=n,i}addActions(t,e,n,i){let{state:r}=t,{parser:s}=t.p,{data:o}=s;for(let a=0;a<2;a++)for(let t=s.stateSlot(r,a?2:1);;t+=3){if(65535==o[t]){if(1!=o[t+1]){0==i&&2==o[t+1]&&(i=this.putAction(xI(o,t+2),e,n,i));break}t=xI(o,t+2)}o[t]==e&&(i=this.putAction(xI(o,t+1),e,n,i))}return i}}class OI{constructor(t,e,n,i){this.parser=t,this.input=e,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new oI(e,i),this.tokens=new mI(t,this.stream),this.topTerm=t.top[1];let{from:r}=i[0];this.stacks=[JN.start(this,t.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*t.bufferLength?new gI(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,i=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[t]=n;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>i)r.push(o);else{if(this.advanceStack(o,r,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!r.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return dI&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw dI&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,r);if(n)return dI&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(r.length>t)for(r.sort(((t,e)=>e.score-t.score));r.length>t;)r.pop();r.some((t=>t.reducePos>i))&&this.recovering--}else if(r.length>1){t:for(let t=0;t<r.length-1;t++){let e=r[t];for(let n=t+1;n<r.length;n++){let i=r[n];if(e.sameState(i)||e.buffer.length>500&&i.buffer.length>500){if(!((e.score-i.score||e.buffer.length-i.buffer.length)>0)){r.splice(t--,1);continue t}r.splice(n--,1)}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let i=t.pos,{parser:r}=this,s=dI?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(i);o;){let i=this.parser.nodeSet.types[o.type.id]==o.type?r.getGoto(t.state,o.type.id):-1;if(i>-1&&o.length&&(!e||(o.prop(PN.contextHash)||0)==n))return t.useNode(o,i),dI&&console.log(s+this.stackID(t)+" (via reuse of ".concat(r.getName(o.type.id),")")),!0;if(!(o instanceof $N)||0==o.children.length||o.positions[0]>0)break;let a=o.children[0];if(!(a instanceof $N&&0==o.positions[0]))break;o=a}}let o=r.stateSlot(t.state,4);if(o>0)return t.reduce(o),dI&&console.log(s+this.stackID(t)+" (via always-reduce ".concat(r.getName(65535&o),")")),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let l=0;l<a.length;){let o=a[l++],h=a[l++],c=a[l++],u=l==a.length||!n,d=u?t:t.split(),f=this.tokens.mainToken;if(d.apply(o,h,f?f.start:d.pos,c),dI&&console.log(s+this.stackID(d)+" (via ".concat(0==(65536&o)?"shift":"reduce of ".concat(r.getName(65535&o))," for ").concat(r.getName(h)," @ ").concat(i).concat(d==t?"":", split",")")),u)return!0;d.pos>i?e.push(d):n.push(d)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return yI(t,e),!0}}runRecovery(t,e,n){let i=null,r=!1;for(let s=0;s<t.length;s++){let o=t[s],a=e[s<<1],l=e[1+(s<<1)],h=dI?this.stackID(o)+" -> ":"";if(o.deadEnd){if(r)continue;if(r=!0,o.restart(),dI&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),u=h;for(let t=0;c.forceReduce()&&t<10;t++){if(dI&&console.log(u+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;dI&&(u=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(a))dI&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),dI&&console.log(h+this.stackID(o)+" (via recover-delete ".concat(this.parser.getName(a),")")),yI(o,n)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(t){return t.close(),$N.build({buffer:nI.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(fI||(fI=new WeakMap)).get(t);return e||fI.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function yI(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class vI{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}const bI=t=>t;class wI extends HN{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError("Parser version (".concat(t.version,") doesn't match runtime version (",14,")"));let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),i=[];for(let o=0;o<e.length;o++)i.push([]);function r(t,e,n){i[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let o of t.nodeProps){let t=o[0];"string"==typeof t&&(t=PN[t]);for(let e=1;e<o.length;){let n=o[e++];if(n>=0)r(n,t,o[e++]);else{let i=o[e+-n];for(let s=-n;s>0;s--)r(o[e++],t,i);e++}}}this.nodeSet=new CN(e.map(((e,r)=>TN.define({name:r>=this.minRepeatTerm?void 0:e,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:t.skippedNodes&&t.skippedNodes.indexOf(r)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=xN;let s=iI(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(kI),this.states=iI(t.states,Uint32Array),this.data=iI(t.stateData),this.goto=iI(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new aI(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let i=new OI(this,t,e,n);for(let r of this.wrappers)i=r(i,t,e,n);return i}getGoto(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.goto;if(e>=i[0])return-1;for(let r=i[e+1];;){let e=i[r++],s=1&e,o=i[r++];if(s&&n)return o;for(let n=r+(e>>1);r<n;r++)if(i[r]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let i=0;i<2;i++)for(let r,s=this.stateSlot(t,i?2:1);;s+=3){if(65535==(r=n[s])){if(1!=n[s+1]){if(2==n[s+1])return xI(n,s+2);break}r=n[s=xI(n,s+2)]}if(r==e||0==r)return xI(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let n=this.stateSlot(t,4),i=n?e(n):void 0;for(let r=this.stateSlot(t,1);null==i;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=xI(this.data,r+2)}i=e(xI(this.data,r+1))}return i}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=xI(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}configure(t){let e=Object.assign(Object.create(wI.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError("Invalid top rule name ".concat(t.top));e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,i)=>{let r=t.specializers.find((t=>t.from==n.external));if(!r)return n;let s=Object.assign(Object.assign({},n),{external:r.to});return e.specializers[i]=kI(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let i=null;for(let r=0;r<e.length;r++)if(!n[r])for(let t,n=this.dialects[e[r]];65535!=(t=this.data[n++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[t]=1;return new vI(t,n,i)}static deserialize(t){return new wI(t)}}function xI(t,e){return t[e]|t[e+1]<<16}function kI(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}let SI=0;class PI{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=SI++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new PI([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new QI;return e=>e.modified.indexOf(t)>-1?e:QI.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let _I=0;class QI{constructor(){this.instances=[],this.id=_I++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new PI(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(QI.get(o,t));return r}}const TI=new PN;class CI{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}CI.empty=new CI([],2,null);const EI=PI.define,RI=EI(),AI=EI(),$I=EI(AI),NI=EI(AI),II=EI(),MI=EI(II),DI=EI(II),qI=EI(),jI=EI(qI),UI=EI(),LI=EI(),WI=EI(),zI=EI(WI),VI=EI(),ZI={comment:RI,lineComment:EI(RI),blockComment:EI(RI),docComment:EI(RI),name:AI,variableName:EI(AI),typeName:$I,tagName:EI($I),propertyName:NI,attributeName:EI(NI),className:EI(AI),labelName:EI(AI),namespace:EI(AI),macroName:EI(AI),literal:II,string:MI,docString:EI(MI),character:EI(MI),attributeValue:EI(MI),number:DI,integer:EI(DI),float:EI(DI),bool:EI(II),regexp:EI(II),escape:EI(II),color:EI(II),url:EI(II),keyword:UI,self:EI(UI),null:EI(UI),atom:EI(UI),unit:EI(UI),modifier:EI(UI),operatorKeyword:EI(UI),controlKeyword:EI(UI),definitionKeyword:EI(UI),moduleKeyword:EI(UI),operator:LI,derefOperator:EI(LI),arithmeticOperator:EI(LI),logicOperator:EI(LI),bitwiseOperator:EI(LI),compareOperator:EI(LI),updateOperator:EI(LI),definitionOperator:EI(LI),typeOperator:EI(LI),controlOperator:EI(LI),punctuation:WI,separator:EI(WI),bracket:zI,angleBracket:EI(zI),squareBracket:EI(zI),paren:EI(zI),brace:EI(zI),content:qI,heading:jI,heading1:EI(jI),heading2:EI(jI),heading3:EI(jI),heading4:EI(jI),heading5:EI(jI),heading6:EI(jI),contentSeparator:EI(qI),list:EI(qI),quote:EI(qI),emphasis:EI(qI),strong:EI(qI),link:EI(qI),monospace:EI(qI),strikethrough:EI(qI),inserted:EI(),deleted:EI(),changed:EI(),invalid:EI(),meta:VI,documentMeta:EI(VI),annotation:EI(VI),processingInstruction:EI(VI),definition:PI.defineModifier(),constant:PI.defineModifier(),function:PI.defineModifier(),standard:PI.defineModifier(),local:PI.defineModifier(),special:PI.defineModifier()},XI=(function(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{}}([{tag:ZI.link,class:"tok-link"},{tag:ZI.heading,class:"tok-heading"},{tag:ZI.emphasis,class:"tok-emphasis"},{tag:ZI.strong,class:"tok-strong"},{tag:ZI.keyword,class:"tok-keyword"},{tag:ZI.atom,class:"tok-atom"},{tag:ZI.bool,class:"tok-bool"},{tag:ZI.url,class:"tok-url"},{tag:ZI.labelName,class:"tok-labelName"},{tag:ZI.inserted,class:"tok-inserted"},{tag:ZI.deleted,class:"tok-deleted"},{tag:ZI.literal,class:"tok-literal"},{tag:ZI.string,class:"tok-string"},{tag:ZI.number,class:"tok-number"},{tag:[ZI.regexp,ZI.escape,ZI.special(ZI.string)],class:"tok-string2"},{tag:ZI.variableName,class:"tok-variableName"},{tag:ZI.local(ZI.variableName),class:"tok-variableName tok-local"},{tag:ZI.definition(ZI.variableName),class:"tok-variableName tok-definition"},{tag:ZI.special(ZI.variableName),class:"tok-variableName2"},{tag:ZI.definition(ZI.propertyName),class:"tok-propertyName tok-definition"},{tag:ZI.typeName,class:"tok-typeName"},{tag:ZI.namespace,class:"tok-namespace"},{tag:ZI.className,class:"tok-className"},{tag:ZI.macroName,class:"tok-macroName"},{tag:ZI.propertyName,class:"tok-propertyName"},{tag:ZI.operator,class:"tok-operator"},{tag:ZI.comment,class:"tok-comment"},{tag:ZI.meta,class:"tok-meta"},{tag:ZI.invalid,class:"tok-invalid"},{tag:ZI.punctuation,class:"tok-punctuation"}]),10),YI=new Set([25,49,50,263,65,130,56,57,238,62,63,72,73,77,60,61,151,152,155,112]);function FI(t){return t==XI||13==t}function BI(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}const GI=new lI(((t,e)=>{let n;if(t.next<0)t.acceptToken(199);else if(e.context.flags&KI)FI(t.next)&&t.acceptToken(198,1);else if(((n=t.peek(-1))<0||FI(n))&&e.canShift(197)){let e=0;for(;32==t.next||9==t.next;)t.advance(),e++;t.next!=XI&&13!=t.next&&35!=t.next||t.acceptToken(197,-e)}else FI(t.next)&&t.acceptToken(196,1)}),{contextual:!0}),HI=new lI(((t,e)=>{let n=e.context;if(n.flags)return;let i=t.peek(-1);if(i==XI||13==i){let e=0,i=0;for(;;){if(32==t.next)e++;else{if(9!=t.next)break;e+=8-e%8}t.advance(),i++}e!=n.indent&&t.next!=XI&&13!=t.next&&35!=t.next&&(e<n.indent?t.acceptToken(195,-i):t.acceptToken(194))}})),KI=1,JI=4,tM=8,eM=16,nM=32;function iM(t,e,n){this.parent=t,this.indent=e,this.flags=n,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)+n+(n<<6)}const rM=new iM(null,0,0);const sM=new Map([[241,0],[242,JI],[243,tM],[244,tM|JI],[245,eM],[246,eM|JI],[247,eM|tM],[248,eM|tM|JI],[249,nM],[250,nM|JI],[251,nM|tM],[252,nM|tM|JI],[253,nM|eM],[254,nM|eM|JI],[255,nM|eM|tM],[256,nM|eM|tM|JI]].map((t=>{let[e,n]=t;return[e,2|n]}))),oM=new class{constructor(t){this.start=t.start,this.shift=t.shift||bI,this.reduce=t.reduce||bI,this.reuse=t.reuse||bI,this.hash=t.hash||(()=>0),this.strict=!1!==t.strict}}({start:rM,reduce:(t,e,n,i)=>t.flags&KI&&YI.has(e)||(71==e||72==e)&&2&t.flags?t.parent:t,shift:(t,e,n,i)=>194==e?new iM(t,function(t){let e=0;for(let n=0;n<t.length;n++)e+=9==t.charCodeAt(n)?8-e%8:1;return e}(i.read(i.pos,n.pos)),0):195==e?t.parent:24==e||55==e||59==e||3==e?new iM(t,0,KI):sM.has(e)?new iM(t,0,sM.get(e)|t.flags&KI):t,hash:t=>t.hash}),aM=new lI((t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let n=t.peek(e);if(32!=n&&9!=n)return void(40!=n&&46!=n&&n!=XI&&13!=n&&35!=n&&t.acceptToken(1))}})),lM=new lI(((t,e)=>{let{flags:n}=e.context,i=n&JI?34:39,r=(n&tM)>0,s=!(n&eM),o=(n&nM)>0,a=t.pos;for(;!(t.next<0);)if(o&&123==t.next){if(123!=t.peek(1)){if(t.pos==a)return void t.acceptToken(3,1);break}t.advance(2)}else{if(s&&92==t.next){if(t.pos==a){t.advance();let e=t.next;return e>=0&&(t.advance(),hM(t,e)),void t.acceptToken(2)}break}if(t.next==i&&(!r||t.peek(1)==i&&t.peek(2)==i)){if(t.pos==a)return void t.acceptToken(201,r?3:1);break}if(t.next==XI){if(r)t.advance();else if(t.pos==a)return void t.acceptToken(201);break}t.advance()}t.pos>a&&t.acceptToken(200)}));function hM(t,e){if(111==e)for(let n=0;n<2&&t.next>=48&&t.next<=55;n++)t.advance();else if(120==e)for(let n=0;n<2&&BI(t.next);n++)t.advance();else if(117==e)for(let n=0;n<4&&BI(t.next);n++)t.advance();else if(85==e)for(let n=0;n<8&&BI(t.next);n++)t.advance();else if(78==e&&123==t.next){for(t.advance();t.next>=0&&125!=t.next&&39!=t.next&&34!=t.next&&t.next!=XI;)t.advance();125==t.next&&t.advance()}}const cM=function(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new CI(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return TI.add(e)}({'async "*" "**" FormatConversion FormatSpec':ZI.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":ZI.controlKeyword,"in not and or is del":ZI.operatorKeyword,"from def class global nonlocal lambda":ZI.definitionKeyword,import:ZI.moduleKeyword,"with as print":ZI.keyword,Boolean:ZI.bool,None:ZI.null,VariableName:ZI.variableName,"CallExpression/VariableName":ZI.function(ZI.variableName),"FunctionDefinition/VariableName":ZI.function(ZI.definition(ZI.variableName)),"ClassDefinition/VariableName":ZI.definition(ZI.className),PropertyName:ZI.propertyName,"CallExpression/MemberExpression/PropertyName":ZI.function(ZI.propertyName),Comment:ZI.lineComment,Number:ZI.number,String:ZI.string,FormatString:ZI.special(ZI.string),Escape:ZI.escape,UpdateOp:ZI.updateOperator,"ArithOp!":ZI.arithmeticOperator,BitOp:ZI.bitwiseOperator,CompareOp:ZI.compareOperator,AssignOp:ZI.definitionOperator,Ellipsis:ZI.punctuation,At:ZI.meta,"( )":ZI.paren,"[ ]":ZI.squareBracket,"{ }":ZI.brace,".":ZI.derefOperator,", ;":ZI.separator}),uM={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},dM=wI.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5QQdO'#DoOOQS,5:Y,5:YO5eQdO'#HdOOQS,5:],5:]O5rQ!fO,5:]O5wQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8gQdO,59bO8lQdO,59bO8sQdO,59jO8zQdO'#HTO:QQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:iQdO,59aO'vQdO,59aO:wQdO,59aOOQS,59y,59yO:|QdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;[QdO,5:QO;aQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;rQdO,5:UO;wQdO,5:WOOOW'#Fy'#FyO;|OWO,5:aOOQS,5:a,5:aO<XQdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<iOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<wQtO,5:iO?iQtO,5=`O@SQ#xO,5=`O@sQtO,5=`OOQS,5:},5:}OA[QeO'#GWOBnQdO,5;^OOQV,5=^,5=^OByQtO'#IPOChQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCpQtO,59]OEwQtO,59iOFbQdO'#HVOFmQdO'#HVO1XQdO'#HVOFxQdO'#DTOGQQdO,59mOGVQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGtQdO'#GPOHUQdO,58|OHUQdO,58|O*xQdO,5:oOHdQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHwQdO,5;OOIYQdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOInQtO,5;QOI|QdO,5;QOJRQdO'#IQOOQS,5;T,5;TOJaQdO'#H|OOQS,5;W,5;WOJrQdO,5;YO4iQdO,5;`O4iQdO,5;cOJzQtO'#ITO'vQdO'#ITOKUQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOKZQeO'#EuOLgQgO,5;fO!!hQdO'#IUO4iQdO,5;jO!!sQdO,5;lO!!{QdO,5;qO!#WQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#_OSO,5=[P!#dOdO,5=[O!&XQtO1G.jO!&`QtO1G.jO!)PQtO1G.jO!)ZQtO1G.jO!+tQtO1G.jO!,XQtO1G.jO!,lQdO'#HcO!,zQtO'#GuO0rQdO'#HcO!-UQdO'#HbOOQS,5:Z,5:ZO!-^QdO,5:ZO!-cQdO'#HeO!-nQdO'#HeO!.RQdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/RQtO1G.|O!/YQtO1G.|O1lQdO1G.|O!/uQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!/|QdO1G/eO!0^QdO1G/eO!0fQdO1G/fO'vQdO'#H[O!0kQdO'#H[O!0pQtO1G.{O!1QQdO,59iO!2WQdO,5=zO!2hQdO,5=zO!2pQdO1G/mO!2uQtO1G/mOOQS1G/l1G/lO!3VQdO,5=uO!3|QdO,5=uO0rQdO1G/qO!4kQdO1G/sO!4pQtO1G/sO!5QQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5bQdO'#HxO0rQdO'#HxO!5sQdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6RQ#xO1G2zO!6rQtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7ZQtO,5>kOOQS1G1`1G1`O!7xQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!7}QdO'#FrO!8YQdO,59oO!8bQdO1G/XO!8lQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9]QdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9nQdO1G.hOOQS1G0Z1G0ZO!9|QdO,5=wO!:^QdO,5=wO0rQdO1G0jO0rQdO1G0jO!:oQdO,5>jO!;QQdO,5>jO1XQdO,5>jO!;cQdO,5>iOOQS-E:R-E:RO!;hQdO1G0lO!;sQdO1G0lO!;xQdO,5>lO!<WQdO,5>lO!<fQdO,5>hO!<|QdO,5>hO!=_QdO'#EpO0rQdO1G0tO!=jQdO1G0tO!=oQgO1G0zO!AmQgO1G0}O!EhQdO,5>oO!ErQdO,5>oO!EzQtO,5>oO0rQdO1G1PO!FUQdO1G1PO4iQdO1G1UO!!sQdO1G1WOOQV,5;a,5;aO!FZQfO,5;aO!F`QgO1G1QO!JaQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JqQdO,5>pO!KOQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KWQdO'#FSO!KiQ!fO1G1WO!KqQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!KvQdO1G1]O!LOQdO'#F^OOQV1G1b1G1bO!#WQtO1G1bPOOO1G2v1G2vP!LTOSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LYQdO,5=|O!LmQdO,5=|OOQS1G/u1G/uO!LuQdO,5>PO!MVQdO,5>PO!M_QdO,5>PO!MrQdO,5>PO!NSQdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8bQdO7+$pO# uQdO1G.|O# |QdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!TQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!eQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!jQdO7+%PO#!rQdO7+%QO#!wQdO1G3fOOQS7+%X7+%XO##XQdO1G3fO##aQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##fQdO1G3aOOQS-E9q-E9qO#$]QdO7+%]OOQS7+%_7+%_O#$kQdO1G3aO#%YQdO7+%_O#%_QdO1G3gO#%oQdO1G3gO#%wQdO7+%]O#%|QdO,5>dO#&gQdO,5>dO#&gQdO,5>dOOQS'#Dx'#DxO#&xO&jO'#DzO#'TO`O'#HyOOOW1G3}1G3}O#'YQdO1G3}O#'bQdO1G3}O#'mQ#xO7+(fO#(^QtO1G2UP#(wQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)UQdO,5=`O#)oQdO,5=`O#*QQtO,5<aO#*eQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#*uQdO7+&UO#+TQdO,5<nO#+iQdO1G4UOOQS-E:Q-E:QO#+zQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,]QdO7+&WOOQS,5<p,5<pO#,hQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#,vQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-^QdO'#EqO#-iQdO'#IRO#-qQdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#-vQgO7+&fO!JdQdO'#GXO4iQdO7+&fO4iQdO7+&iO#1tQtO,5<tO'vQdO,5<tO#2OQdO1G4ZOOQS-E:W-E:WO#2YQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KiQ!fO7+&rO!KqQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2bQdO,5<uO!JdQdO,5<uOOQV7+&l7+&lO#2mQgO7+&lO#6hQdO,5<vO#6sQdO1G4[OOQS-E:Y-E:YO#7QQdO1G4[O#7YQdO'#IWO#7hQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#7sQdO'#IVOOQS,5;n,5;nO#7{QdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8QQfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8VQdO1G3iOOQS,5<c,5<cO#8eQdO1G3hOOQS-E9u-E9uO#8xQdO,5<dO#9TQdO,5<dO#9hQdO1G3kOOQS-E9v-E9vO#9xQdO1G3kO#:QQdO1G3kO#:bQdO1G3kO#9xQdO1G3kOOQS<<H[<<H[O#:mQtO1G1zOOQS<<Hk<<HkP#:zQdO'#FtO8sQdO1G3bO#;XQdO1G3bO#;^QdO<<HkOOQS<<Hl<<HlO#;nQdO7+)QOOQS<<Hs<<HsO#<OQtO1G1yP#<oQdO'#FsO#<|QdO7+)RO#=^QdO7+)RO#=fQdO<<HwO#=kQdO7+({OOQS<<Hy<<HyO#>bQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>gQdO1G4OOOQS-E9y-E9yO#?QQdO1G4OO<XQdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?cO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?nQdO7+)iO#?vQdO1G2zO#@aQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#@rQdO7+)pO#ATQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#AfQdO,5>mO#AtQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#A|QtO1G2`P#BWQdO'#GYO#B_QdO7+)uO#BiQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KiQ!fO<<J^O#FdQgO7+&gOOQV<<JW<<JWO#FnQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JiQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#JtQdO7+)vO#KRQdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KZQdO,5>rOOQS,5>r,5>rO#KfQdO,5>qO#KwQdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LPQdO1G1dOOQS7+)T7+)TP#LUQdO'#FwO#LfQdO1G2OO#LyQdO1G2OO#MZQdO1G2OP#MfQdO'#FxO#MsQdO7+)VO#NTQdO7+)VO#NTQdO7+)VO#N]QdO7+)VO#NmQdO7+(|O8sQdO7+(|OOQSAN>VAN>VO$ WQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$ hQtO1G1|P$ rQdO'#FvOOQS1G2R1G2RP$!PQdO'#F{O$!^QdO7+)jO$!wQdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#VQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$#pQdO<<M[OOQS,5<q,5<qO$$RQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$aQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$([QdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$(iQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$(zQfO7+'OO$)VQdO'#F_O$*^QdO7+'jO$*nQdO7+'jOOQS7+'j7+'jO$*yQdO<<LqO$+ZQdO<<LqO$+ZQdO<<LqO$+cQdO'#H^OOQS<<Lh<<LhO$+mQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,WQdO1G4RO$,`QdO1G4RP!=_QdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$,kQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-_QtO'#FaOOQS'#Fc'#FcO$-oQdO'#FbO$.aQdO'#FbOOQS'#Fb'#FbO$.fQdO'#IYO$)VQdO'#FiO$)VQdO'#FiO$.}QdO'#FjO$)VQdO'#FkO$/UQdO'#IZOOQS'#IZ'#IZO$/sQdO,5;yOOQS<<KU<<KUO$/{QdO<<KUO$0]QdOANB]O$0mQdOANB]O$0uQdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1`QdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$1wQdO7+)mOOQVLD*wLD*wOOQVANARANARO5rQ!fO'#GaO$2PQtO,5<SO$)VQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$2qQdO,5;|O$2vQdO,5;|OOQS'#Fg'#FgO$)VQdO'#G`O$3hQdO,5<QO$4SQdO,5>tO$4dQdO,5>tO1XQdO,5<PO$4uQdO,5<TO$4zQdO,5<TO$)VQdO'#I[O$5PQdO'#I[O$5UQdO,5<UOOQS,5<V,5<VO'vQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5ZQdOG27wO$5kQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$5pQtO'#FaO$5wQdO'#I]O$6VQdO'#I]O$6_QdO,5<XOOQS1G1h1G1hO$6dQdO1G1hO$6iQdO,5<zOOQS-E:^-E:^O$7TQdO,5=OO$7lQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$7|QdO,5>vO$)VQdO,5>vOOQS1G1p1G1pO$8[QtO,5<[OOQU7+'P7+'PO$+cQdO1G/iO$)VQdO,5<YO$8cQdO,5>wO$8jQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)VQdO'#GdO$8rQdO1G4bO$8|QdO1G4bO$9UQdO1G4bOOQS7+%T7+%TO$9dQdO1G1tO$9rQtO'#FaO$9yQdO,5<}OOQS,5<},5<}O$:XQdO1G4cOOQS-E:a-E:aO$)VQdO,5<|O$:`QdO,5<|O$:eQdO7+)|OOQS-E:`-E:`O$:oQdO7+)|O$)VQdO,5<ZP$)VQdO'#GcO$:wQdO1G2hO$)VQdO1G2hP$;VQdO'#GbO$;^QdO<<MhO$;hQdO1G1uO$;vQdO7+(SO8sQdO'#C}O8sQdO,59bO8sQdO,59bO8sQdO,59bO$<UQtO,5=`O8sQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<iQdO'#GOO'vQdO'#GtO$<vQdO,59bO$<{QdO,59bO$=SQdO,59mO$=XQdO1G/UO1sQdO'#DRO8sQdO,59j",stateData:"$=r~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PE`O%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO~OS'iO%['hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#lO%kWi~P!#lOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&gO%mWi%nWi~P!&gOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)eOVWi_Wi%qWi%rWi%sWi~P!)eO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.WOlji~P!.WOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/aOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PE`OV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!N_Olji~P!N_OV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/aOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/aO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$,yO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)cOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/aOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)VOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$,yOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)VOz/zO#[/OO%j.yO!['Oa~O{$da~P%SOg'Pa~P$)VOz0SOg'Pa~Oa0UO!['Oi~P$)cOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$,yO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)VO{0^O~Oa0UO!['Oq~P$)cOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)cOa0UO!['Oy~P$)cO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/aO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=l'QPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=xPP={>m>pPP'Z'ZPP?PPP'Z'ZPP'Z'Z'Z'Z'Z?T?}'ZP@QP@WD_G{HPPHSH^Hb'ZPPPHeHn'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHtIQIYPIaIgPIaPIaIaPPPIaPKuPLOLYL`KuPIaLiPIaPLpLvPLzM`M}NhLzLzNnN{LzLzLzLz! a! g! j! o! r! |!!S!!`!!r!!x!#S!#Y!#v!#|!$S!$^!$d!$j!$|!%W!%^!%d!%n!%t!%z!&Q!&W!&^!&h!&n!&x!'O!'X!'_!'n!'v!(Q!(XPPPPPPPPPPP!(_!(b!(h!(q!({!)WPPPPPPPPPPPP!-z!/`!3`!6pPP!6x!7X!7b!8Z!8Q!8d!8j!8m!8p!8s!8{!9lPPPPPPPPPPPPPPPPP!9o!9s!9yP!:_!:c!:o!:x!;U!;l!;o!;r!;x!<O!<U!<XP!<a!<j!=f!=i]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r}!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!P!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!R!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!T!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!V!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!X!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!]!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&cVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0r%mXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s![!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aR,^*RX#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&bQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QQ/q/VR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uR.S-fhUOn#d#g$j%|&_'w(p(r)t,P%S!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!]!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"\u26a0 print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:oM,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[cM],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[aM,HI,GI,lM,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:t=>uM[t]||-1}],tokenPrec:7652}),fM=1024;let pM=0;class gM{constructor(t,e){this.from=t,this.to=e}}class mM{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=pM++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=vM.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}mM.closedBy=new mM({deserialize:t=>t.split(" ")}),mM.openedBy=new mM({deserialize:t=>t.split(" ")}),mM.group=new mM({deserialize:t=>t.split(" ")}),mM.isolate=new mM({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),mM.contextHash=new mM({perNode:!0}),mM.lookAhead=new mM({perNode:!0}),mM.mounted=new mM({perNode:!0});class OM{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[mM.mounted.id]}}const yM=Object.create(null);class vM{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):yM,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new vM(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(mM.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(mM.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}vM.none=new vM("",Object.create(null),0,8);const bM=new WeakMap,wM=new WeakMap;var xM;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(xM||(xM={}));class kM{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=OM.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new MM(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=bM.get(this)||this.topNode,i=new MM(n);return i.moveTo(t,e),bM.set(this,i._tree),i}get topNode(){return new CM(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=QM(bM.get(this)||this.topNode,t,e,!1);return bM.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=QM(wM.get(this)||this.topNode,t,e,!0);return wM.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof CM?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=OM.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new CM(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(QM(o,e,n,!1))}}return r?NM(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&xM.IncludeAnonymous)>0;for(let a=this.cursor(s|xM.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:UM(vM.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new kM(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new kM(vM.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=fM,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new SM(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new PM(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=UM(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new PM(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof kM){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(mM.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[mM.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[mM.lookAhead,r];s=s?[t].concat(s):[t]}return new kM(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new kM(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}kM.empty=new kM(vM.none,[],[],0);class SM{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new SM(this.buffer,this.index)}}class PM{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return vM.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(_M(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new PM(r,s,this.set)}}function _M(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function QM(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof CM&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:xM.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof CM&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class TM{cursor(){return new MM(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=EM(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return EM(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return QM(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return QM(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return RM(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class CM extends TM{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(_M(i,n,h,h+l.length))if(l instanceof PM){if(r&xM.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new $M(new AM(s,l,t,h),null,o)}else if(r&xM.IncludeAnonymous||!l.type.isAnonymous||DM(l)){let o;if(!(r&xM.IgnoreMounts)&&(o=OM.get(l))&&!o.overlay)return new CM(o.tree,h,t,s);let a=new CM(l,h,t,s);return r&xM.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&xM.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&xM.IgnoreOverlays)&&(n=OM.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new CM(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function EM(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function RM(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class AM{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class $M extends TM{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new $M(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&xM.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new $M(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new $M(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new $M(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new kM(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function NM(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof CM&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new IM(r,n)}class IM{constructor(t,e){this.heads=t,this.node=e}get next(){return NM(this.heads)}}class MM{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof CM)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof CM?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&xM.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&xM.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&xM.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&xM.IncludeAnonymous||t instanceof PM||!t.type.isAnonymous||DM(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new $M(this.buffer,e,this.stack[i]);return this.bufferNode=new $M(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return RM(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return RM(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function DM(t){return t.children.some((t=>t instanceof PM||!t.type.isAnonymous||DM(t)))}const qM=new WeakMap;function jM(t,e){if(!t.isAnonymous||e instanceof PM||e.type!=t)return 1;let n=qM.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof kM)){n=1;break}n+=jM(t,i)}qM.set(e,n)}return n}function UM(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=jM(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=jM(t,n[h]);for(h++;h<o;h++){let e=jM(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(UM(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class LM{constructor(){this.map=new WeakMap}setBuffer(t,e,n){let i=this.map.get(t);i||this.map.set(t,i=new Map),i.set(e,n)}getBuffer(t,e){let n=this.map.get(t);return n&&n.get(e)}set(t,e){t instanceof $M?this.setBuffer(t.context.buffer,t.index,e):t instanceof CM&&this.map.set(t.tree,e)}get(t){return t instanceof $M?this.getBuffer(t.context.buffer,t.index):t instanceof CM?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}}class WM{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[new WM(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=n)for(;s&&s.from<c;){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new WM(t,n,e.tree,e.offset+l,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class zM{startParse(t,e,n){return"string"==typeof t&&(t=new VM(t)),n=n?n.length?n.map((t=>new gM(t.from,t.to))):[new gM(0,0)]:[new gM(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class VM{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new mM({perNode:!0});let ZM=0;class XM{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=ZM++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new XM([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new FM;return e=>e.modified.indexOf(t)>-1?e:FM.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let YM=0;class FM{constructor(){this.instances=[],this.id=YM++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new XM(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(FM.get(o,t));return r}}function BM(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new HM(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return GM.add(e)}const GM=new mM;class HM{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function KM(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}HM.empty=new HM([],2,null);const JM=XM.define,tD=JM(),eD=JM(),nD=JM(eD),iD=JM(eD),rD=JM(),sD=JM(rD),oD=JM(rD),aD=JM(),lD=JM(aD),hD=JM(),cD=JM(),uD=JM(),dD=JM(uD),fD=JM(),pD={comment:tD,lineComment:JM(tD),blockComment:JM(tD),docComment:JM(tD),name:eD,variableName:JM(eD),typeName:nD,tagName:JM(nD),propertyName:iD,attributeName:JM(iD),className:JM(eD),labelName:JM(eD),namespace:JM(eD),macroName:JM(eD),literal:rD,string:sD,docString:JM(sD),character:JM(sD),attributeValue:JM(sD),number:oD,integer:JM(oD),float:JM(oD),bool:JM(rD),regexp:JM(rD),escape:JM(rD),color:JM(rD),url:JM(rD),keyword:hD,self:JM(hD),null:JM(hD),atom:JM(hD),unit:JM(hD),modifier:JM(hD),operatorKeyword:JM(hD),controlKeyword:JM(hD),definitionKeyword:JM(hD),moduleKeyword:JM(hD),operator:cD,derefOperator:JM(cD),arithmeticOperator:JM(cD),logicOperator:JM(cD),bitwiseOperator:JM(cD),compareOperator:JM(cD),updateOperator:JM(cD),definitionOperator:JM(cD),typeOperator:JM(cD),controlOperator:JM(cD),punctuation:uD,separator:JM(uD),bracket:dD,angleBracket:JM(dD),squareBracket:JM(dD),paren:JM(dD),brace:JM(dD),content:aD,heading:lD,heading1:JM(lD),heading2:JM(lD),heading3:JM(lD),heading4:JM(lD),heading5:JM(lD),heading6:JM(lD),contentSeparator:JM(aD),list:JM(aD),quote:JM(aD),emphasis:JM(aD),strong:JM(aD),link:JM(aD),monospace:JM(aD),strikethrough:JM(aD),inserted:JM(),deleted:JM(),changed:JM(),invalid:JM(),meta:fD,documentMeta:JM(fD),annotation:JM(fD),processingInstruction:JM(fD),definition:XM.defineModifier(),constant:XM.defineModifier(),function:XM.defineModifier(),standard:XM.defineModifier(),local:XM.defineModifier(),special:XM.defineModifier()};KM([{tag:pD.link,class:"tok-link"},{tag:pD.heading,class:"tok-heading"},{tag:pD.emphasis,class:"tok-emphasis"},{tag:pD.strong,class:"tok-strong"},{tag:pD.keyword,class:"tok-keyword"},{tag:pD.atom,class:"tok-atom"},{tag:pD.bool,class:"tok-bool"},{tag:pD.url,class:"tok-url"},{tag:pD.labelName,class:"tok-labelName"},{tag:pD.inserted,class:"tok-inserted"},{tag:pD.deleted,class:"tok-deleted"},{tag:pD.literal,class:"tok-literal"},{tag:pD.string,class:"tok-string"},{tag:pD.number,class:"tok-number"},{tag:[pD.regexp,pD.escape,pD.special(pD.string)],class:"tok-string2"},{tag:pD.variableName,class:"tok-variableName"},{tag:pD.local(pD.variableName),class:"tok-variableName tok-local"},{tag:pD.definition(pD.variableName),class:"tok-variableName tok-definition"},{tag:pD.special(pD.variableName),class:"tok-variableName2"},{tag:pD.definition(pD.propertyName),class:"tok-propertyName tok-definition"},{tag:pD.typeName,class:"tok-typeName"},{tag:pD.namespace,class:"tok-namespace"},{tag:pD.className,class:"tok-className"},{tag:pD.macroName,class:"tok-macroName"},{tag:pD.propertyName,class:"tok-propertyName"},{tag:pD.operator,class:"tok-operator"},{tag:pD.comment,class:"tok-comment"},{tag:pD.meta,class:"tok-meta"},{tag:pD.invalid,class:"tok-invalid"},{tag:pD.punctuation,class:"tok-punctuation"}]);var gD;const mD=new mM;function OD(t){return Fm.define({combine:t?e=>e.concat(t):void 0})}const yD=new mM;class vD{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=t,this.name=i,MO.prototype.hasOwnProperty("tree")||Object.defineProperty(MO.prototype,"tree",{get(){return xD(this)}}),this.parser=e,this.extension=[RD.of(this),MO.languageData.of(((t,e,n)=>{let i=bD(t,e,n),r=i.type.prop(mD);if(!r)return[];let s=t.facet(r),o=i.type.prop(yD);if(o){let r=i.resolve(e-i.from,n);for(let e of o)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e){return bD(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(mD)==this.data}findRegions(t){let e=t.facet(RD);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(mD)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(mM.mounted);if(r){if(r.tree.prop(mD)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof kM&&i(r,t.positions[n]+e)}};return i(xD(t),0),n}get allowsNesting(){return!0}}function bD(t,e,n){let i=t.facet(RD),r=xD(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,xM.ExcludeBuffers))s.type.isTop&&(r=s);return r}vD.setState=SO.define();class wD extends vD{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=OD(t.languageData);return new wD(e,t.parser.configure({props:[mD.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new wD(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function xD(t){let e=t.field(vD.state,!1);return e?e.tree:kM.empty}class kD{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let SD=null;class PD{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new PD(t,e,[],kM.empty,0,n,[],null)}startParse(){return this.parser.startParse(new kD(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=kM.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(WM.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(WM.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=SD;SD=this;try{return t()}finally{SD=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=_D(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=WM.applyChanges(n,e),i=kM.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new PD(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:i}=this.skipped[n];e<t.to&&i>t.from&&(this.fragments=_D(this.fragments,e,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends zM{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=SD;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new kM(vM.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return SD}}function _D(t,e,n){return WM.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class QD{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new QD(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=PD.create(t.facet(RD).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new QD(n)}}vD.state=eO.define({create:QD.init,update(t,e){for(let n of e.effects)if(n.is(vD.setState))return n.value;return e.startState.facet(RD)!=e.state.facet(RD)?QD.init(e.state):t.apply(e)}});let TD=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(TD=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const CD="undefined"!=typeof navigator&&(null===(gD=navigator.scheduling)||void 0===gD?void 0:gD.isInputPending)?()=>navigator.scheduling.isInputPending():null,ED=hb.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(vD.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(vD.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=TD(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(vD.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!CD?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>CD&&CD()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:vD.setState.of(new QD(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>sb(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),RD=Fm.define({combine:t=>t.length?t[0]:null,enables:t=>[vD.state,ED,ox.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});class AD{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.language=t,this.support=e,this.extension=[t,e]}}const $D=Fm.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});const ND=new mM;function ID(t){let{closing:e,align:n=!0,units:i=1}=t;return t=>MD(t,n,i,e)}function MD(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?function(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let t=e.childAfter(a);if(!t||t==i)return null;if(!t.type.isSkipped)return t.from<o?n:null;a=t.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const DD=new mM;class qD{constructor(t,e){let n;function i(t){let e=sy.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof vD?t=>t.prop(mD)==s.data:s?t=>t==s:void 0,this.style=KM(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new sy(n):null,this.themeType=e.themeType}static define(t,e){return new qD(t,e||{})}}pD.meta,pD.link,pD.heading,pD.emphasis,pD.strong,pD.strikethrough,pD.keyword,pD.atom,pD.bool,pD.url,pD.contentSeparator,pD.labelName,pD.literal,pD.inserted,pD.string,pD.deleted,pD.regexp,pD.escape,pD.string,pD.variableName,pD.variableName,pD.typeName,pD.namespace,pD.className,pD.variableName,pD.macroName,pD.propertyName,pD.comment,pD.invalid;const jD=Object.create(null),UD=[vM.none],LD=[],WD=Object.create(null),zD=Object.create(null);for(let[Q5,T5]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])zD[Q5]=ZD(jD,T5);function VD(t,e){LD.indexOf(t)>-1||(LD.push(t),console.warn(e))}function ZD(t,e){let n=[];for(let a of e.split(" ")){let e=[];for(let n of a.split(".")){let i=t[n]||pD[n];i?"function"==typeof i?e.length?e=e.map(i):VD(n,"Modifier ".concat(n," used at start of tag")):e.length?VD(n,"Tag ".concat(n," used as modifier")):e=Array.isArray(i)?i:[i]:VD(n,"Unknown highlighting tag ".concat(n))}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),s=WD[r];if(s)return s.id;let o=WD[r]=vM.define({id:UD.length,name:i,props:[BM({[i]:n})]});return UD.push(o),o.id}_v.RTL,_v.LTR;function XD(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(e.replace(/[^\w\s]/g,"\\$&"),"]")}function YD(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,i]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let i=XD(e)+XD(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(e);return t=>{let r=t.matchBefore(i);return r||t.explicit?{from:r?r.from:t.pos,options:e,validFor:n}:null}}function FD(t,e){return n=>{for(let e=xD(n.state).resolveInner(n.pos,-1);e;e=e.parent){if(t.indexOf(e.name)>-1)return null;if(e.type.isTop)break}return e(n)}}const BD=wO.define();"object"==typeof navigator&&navigator.platform;const GD=ox.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class HD{constructor(t,e,n,i){this.field=t,this.line=e,this.from=n,this.to=i}}class KD{constructor(t,e,n){this.field=t,this.from=e,this.to=n}map(t){let e=t.mapPos(this.from,-1,Im.TrackDel),n=t.mapPos(this.to,1,Im.TrackDel);return null==e||null==n?null:new KD(this.field,e,n)}}class JD{constructor(t,e){this.lines=t,this.fieldPositions=e}instantiate(t,e){let n=[],i=[e],r=t.doc.lineAt(e),s=/^\s*/.exec(r.text)[0];for(let a of this.lines){if(n.length){let n=s,r=/^\t*/.exec(a)[0].length;for(let e=0;e<r;e++)n+=t.facet($D);i.push(e+n.length-r),a=n+a.slice(r)}n.push(a),e+=a.length+1}let o=this.fieldPositions.map((t=>new KD(t.field,i[t.line]+t.from,i[t.line]+t.to)));return{text:n,ranges:o}}static parse(t){let e,n=[],i=[],r=[];for(let s of t.split(/\r\n?|\n/)){for(;e=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let t=e[1]?+e[1]:null,o=e[2]||e[3]||"",a=-1,l=o.replace(/\\[{}]/g,(t=>t[1]));for(let e=0;e<n.length;e++)(null!=t?n[e].seq==t:l&&n[e].name==l)&&(a=e);if(a<0){let e=0;for(;e<n.length&&(null==t||null!=n[e].seq&&n[e].seq<t);)e++;n.splice(e,0,{seq:t,name:l}),a=e;for(let t of r)t.field>=a&&t.field++}r.push(new HD(a,i.length,e.index,e.index+l.length)),s=s.slice(0,e.index)+o+s.slice(e.index+e[0].length)}s=s.replace(/\\([{}])/g,((t,e,n)=>{for(let s of r)s.line==i.length&&s.from>n&&(s.from--,s.to--);return e})),i.push(s)}return new JD(i,r)}}let tq=Ov.widget({widget:new class extends gv{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),eq=Ov.mark({class:"cm-snippetField"});class nq{constructor(t,e){this.ranges=t,this.active=e,this.deco=Ov.set(t.map((t=>(t.from==t.to?tq:eq).range(t.from,t.to))))}map(t){let e=[];for(let n of this.ranges){let i=n.map(t);if(!i)return null;e.push(i)}return new nq(e,this.active)}selectionInsideField(t){return t.ranges.every((t=>this.ranges.some((e=>e.field==this.active&&e.from<=t.from&&e.to>=t.to))))}}const iq=SO.define({map:(t,e)=>t&&t.map(e)}),rq=SO.define(),sq=eO.define({create:()=>null,update(t,e){for(let n of e.effects){if(n.is(iq))return n.value;if(n.is(rq)&&t)return new nq(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>ox.decorations.from(t,(t=>t?t.deco:Ov.none))});function oq(t,e){return Zm.create(t.filter((t=>t.field==e)).map((t=>Zm.range(t.from,t.to))))}function aq(t){let e=JD.parse(t);return(t,n,i,r)=>{let{text:s,ranges:o}=e.instantiate(t.state,i),a={changes:{from:i,to:r,insert:dm.of(s)},scrollIntoView:!0,annotations:n?[BD.of(n),PO.userEvent.of("input.complete")]:void 0};if(o.length&&(a.selection=oq(o,0)),o.some((t=>t.field>0))){let e=new nq(o,0),n=a.effects=[iq.of(e)];void 0===t.state.field(sq,!1)&&n.push(SO.appendConfig.of([sq,uq,fq,GD]))}t.dispatch(t.state.update(a))}}function lq(t){return e=>{let{state:n,dispatch:i}=e,r=n.field(sq,!1);if(!r||t<0&&0==r.active)return!1;let s=r.active+t,o=t>0&&!r.ranges.some((e=>e.field==s+t));return i(n.update({selection:oq(r.ranges,s),effects:iq.of(o?null:new nq(r.ranges,s)),scrollIntoView:!0})),!0}}const hq=[{key:"Tab",run:lq(1),shift:lq(-1)},{key:"Escape",run:t=>{let{state:e,dispatch:n}=t;return!!e.field(sq,!1)&&(n(e.update({effects:iq.of(null)})),!0)}}],cq=Fm.define({combine:t=>t.length?t[0]:hq}),uq=aO.highest(px.compute([cq],(t=>t.facet(cq))));function dq(t,e){return Object.assign(Object.assign({},e),{apply:aq(t)})}const fq=ox.domEventHandlers({mousedown(t,e){let n,i=e.state.field(sq,!1);if(!i||null==(n=e.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let r=i.ranges.find((t=>t.from<=n&&t.to>=n));return!(!r||r.field==i.active)&&(e.dispatch({selection:oq(i.ranges,r.field),effects:iq.of(i.ranges.some((t=>t.field>r.field))?new nq(i.ranges,r.field):null),scrollIntoView:!0}),!0)}});const pq=new class extends qO{};pq.startSide=1,pq.endSide=-1;"object"==typeof navigator&&navigator.userAgent;const gq=new LM,mq=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function Oq(t){return(e,n,i)=>{if(i)return!1;let r=e.node.getChild("VariableName");return r&&n(r,t),!0}}const yq={FunctionDefinition:Oq("function"),ClassDefinition:Oq("class"),ForStatement(t,e,n){if(n)for(let i=t.node.firstChild;i;i=i.nextSibling)if("VariableName"==i.name)e(i,"variable");else if("in"==i.name)break},ImportStatement(t,e){var n,i;let{node:r}=t,s="from"==(null===(n=r.firstChild)||void 0===n?void 0:n.name);for(let o=r.getChild("import");o;o=o.nextSibling)"VariableName"==o.name&&"as"!=(null===(i=o.nextSibling)||void 0===i?void 0:i.name)&&e(o,s?"variable":"namespace")},AssignStatement(t,e){for(let n=t.node.firstChild;n;n=n.nextSibling)if("VariableName"==n.name)e(n,"variable");else if(":"==n.name||"AssignOp"==n.name)break},ParamList(t,e){for(let n=null,i=t.node.firstChild;i;i=i.nextSibling)"VariableName"!=i.name||n&&/\*|AssignOp/.test(n.name)||e(i,"variable"),n=i},CapturePattern:Oq("variable"),AsPattern:Oq("variable"),__proto__:null};function vq(t,e){let n=gq.get(e);if(n)return n;let i=[],r=!0;function s(e,n){let r=t.sliceString(e.from,e.to);i.push({label:r,type:n})}return e.cursor(xM.IncludeAnonymous).iterate((e=>{if(e.name){let t=yq[e.name];if(t&&t(e,s,r)||!r&&mq.has(e.name))return!1;r=!1}else if(e.to-e.from>8192){for(let n of vq(t,e.node))i.push(n);return!1}})),gq.set(e,i),i}const bq=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,wq=["String","FormatString","Comment","PropertyName"];function xq(t){let e=xD(t.state).resolveInner(t.pos,-1);if(wq.indexOf(e.name)>-1)return null;let n="VariableName"==e.name||e.to-e.from<20&&bq.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let i=[];for(let r=e;r;r=r.parent)mq.has(r.name)&&(i=i.concat(vq(t.state.doc,r)));return{options:i,from:n?e.from:t.pos,validFor:bq}}const kq=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map((t=>({label:t,type:"constant"}))).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map((t=>({label:t,type:"type"})))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map((t=>({label:t,type:"class"})))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map((t=>({label:t,type:"function"})))),Sq=[dq("def ${name}(${params}):\n\t${}",{label:"def",detail:"function",type:"keyword"}),dq("for ${name} in ${collection}:\n\t${}",{label:"for",detail:"loop",type:"keyword"}),dq("while ${}:\n\t${}",{label:"while",detail:"loop",type:"keyword"}),dq("try:\n\t${}\nexcept ${error}:\n\t${}",{label:"try",detail:"/ except block",type:"keyword"}),dq("if ${}:\n\t\n",{label:"if",detail:"block",type:"keyword"}),dq("if ${}:\n\t${}\nelse:\n\t${}",{label:"if",detail:"/ else block",type:"keyword"}),dq("class ${name}:\n\tdef __init__(self, ${params}):\n\t\t\t${}",{label:"class",detail:"definition",type:"keyword"}),dq("import ${module}",{label:"import",detail:"statement",type:"keyword"}),dq("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],Pq=FD(wq,YD(kq.concat(Sq)));function _q(t){let{node:e,pos:n}=t,i=t.lineIndent(n,-1),r=null;for(;;){let s=e.childBefore(n);if(!s)break;if("Comment"==s.name)n=s.from;else if("Body"==s.name)t.baseIndentFor(s)+t.unit<=i&&(r=s),e=s;else{if(!s.type.is("Statement"))break;e=s}}return r}function Qq(t,e){let n=t.baseIndentFor(e),i=t.lineAt(t.pos,-1),r=i.from+i.text.length;return/^\s*($|#)/.test(i.text)&&t.node.to<r+100&&!/\S/.test(t.state.sliceDoc(r,t.node.to))&&t.lineIndent(t.pos,-1)<=n||/^\s*(else:|elif |except |finally:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>n?null:n+t.unit}const Tq=wD.define({name:"python",parser:dM.configure({props:[ND.add({Body:t=>{var e;return null!==(e=Qq(t,_q(t)||t.node))&&void 0!==e?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),"ForStatement WhileStatement":t=>/^\s*else:/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except |finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":ID({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":ID({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":ID({closing:"]"}),"String FormatString":()=>null,Script:t=>{var e;let n=_q(t);return null!==(e=n&&Qq(t,n))&&void 0!==e?e:t.continue()}}),DD.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":function(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null},Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});const Cq=1024;let Eq=0;class Rq{constructor(t,e){this.from=t,this.to=e}}class Aq{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=Eq++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Iq.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}Aq.closedBy=new Aq({deserialize:t=>t.split(" ")}),Aq.openedBy=new Aq({deserialize:t=>t.split(" ")}),Aq.group=new Aq({deserialize:t=>t.split(" ")}),Aq.isolate=new Aq({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Aq.contextHash=new Aq({perNode:!0}),Aq.lookAhead=new Aq({perNode:!0}),Aq.mounted=new Aq({perNode:!0});class $q{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Aq.mounted.id]}}const Nq=Object.create(null);class Iq{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):Nq,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new Iq(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Aq.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(Aq.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}Iq.none=new Iq("",Object.create(null),0,8);class Mq{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(){let t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(let r of this.types){let e=null;for(let t of n){let n=t(r);n&&(e||(e=Object.assign({},r.props)),e[n[0].id]=n[1])}t.push(e?new Iq(r.name,e,r.id,r.flags):r)}return new Mq(t)}}const Dq=new WeakMap,qq=new WeakMap;var jq;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(jq||(jq={}));class Uq{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=$q.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Jq(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Dq.get(this)||this.topNode,i=new Jq(n);return i.moveTo(t,e),Dq.set(this,i._tree),i}get topNode(){return new Xq(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Vq(Dq.get(this)||this.topNode,t,e,!1);return Dq.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Vq(qq.get(this)||this.topNode,t,e,!0);return qq.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof Xq?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=$q.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new Xq(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Vq(o,e,n,!1))}}return r?Hq(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&jq.IncludeAnonymous)>0;for(let a=this.cursor(s|jq.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:ij(Iq.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new Uq(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new Uq(Iq.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=Cq,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new Lq(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new Wq(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=ij(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new Wq(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof Uq){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(Aq.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[Aq.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[Aq.lookAhead,r];s=s?[t].concat(s):[t]}return new Uq(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new Uq(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}Uq.empty=new Uq(Iq.none,[],[],0);class Lq{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Lq(this.buffer,this.index)}}class Wq{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return Iq.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(zq(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new Wq(r,s,this.set)}}function zq(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function Vq(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof Xq&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:jq.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Xq&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class Zq{cursor(){return new Jq(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=Yq(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return Yq(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return Vq(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return Vq(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return Fq(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class Xq extends Zq{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(zq(i,n,h,h+l.length))if(l instanceof Wq){if(r&jq.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new Gq(new Bq(s,l,t,h),null,o)}else if(r&jq.IncludeAnonymous||!l.type.isAnonymous||tj(l)){let o;if(!(r&jq.IgnoreMounts)&&(o=$q.get(l))&&!o.overlay)return new Xq(o.tree,h,t,s);let a=new Xq(l,h,t,s);return r&jq.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&jq.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&jq.IgnoreOverlays)&&(n=$q.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new Xq(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Yq(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function Fq(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class Bq{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class Gq extends Zq{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new Gq(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&jq.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Gq(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Gq(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Gq(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new Uq(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Hq(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof Xq&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new Kq(r,n)}class Kq{constructor(t,e){this.heads=t,this.node=e}get next(){return Hq(this.heads)}}class Jq{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Xq)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Xq?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&jq.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&jq.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&jq.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&jq.IncludeAnonymous||t instanceof Wq||!t.type.isAnonymous||tj(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new Gq(this.buffer,e,this.stack[i]);return this.bufferNode=new Gq(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return Fq(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return Fq(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function tj(t){return t.children.some((t=>t instanceof Wq||!t.type.isAnonymous||tj(t)))}const ej=new WeakMap;function nj(t,e){if(!t.isAnonymous||e instanceof Wq||e.type!=t)return 1;let n=ej.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof Uq)){n=1;break}n+=nj(t,i)}ej.set(e,n)}return n}function ij(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=nj(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=nj(t,n[h]);for(h++;h<o;h++){let e=nj(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(ij(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class rj{startParse(t,e,n){return"string"==typeof t&&(t=new sj(t)),n=n?n.length?n.map((t=>new Rq(t.from,t.to))):[new Rq(0,0)]:[new Rq(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class sj{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Aq({perNode:!0});class oj{constructor(t,e,n,i,r,s,o,a,l){let h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10?arguments[10]:void 0;this.p=t,this.stack=e,this.state=n,this.reducePos=i,this.pos=r,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}toString(){return"[".concat(this.stack.filter(((t,e)=>e%3==0)).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}static start(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.parser.context;return new oj(t,[],e,n,n,0,[],0,i?new aj(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,i=65535&t,{parser:r}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let s=r.dynamicPrecedence(i);if(s&&(this.score+=s),0==n)return this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&t?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,l=this.reducePos-a;l>=2e3&&!(null===(e=this.p.parser.nodeSet.types[i])||void 0===e?void 0:e.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=l));let h=o?this.stack[o-1]:0,c=this.bufferBase+this.buffer.length-h;if(i<r.minRepeatTerm||131072&t){let t=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,a,t,c+4,!0)}if(262144&t)this.state=this.stack[o];else{let t=this.stack[o-3];this.state=r.getGoto(t,i,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(i,a)}storeNode(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,i=this.buffer.length;if(0==i&&t.parent&&(i=t.bufferBase-t.parent.bufferBase,t=t.parent),i>0&&0==t.buffer[i-4]&&t.buffer[i-1]>-1){if(e==n)return;if(t.buffer[i-2]>=e)return void(t.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4])for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4);this.buffer[r]=t,this.buffer[r+1]=e,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(t,e,n,i)}shift(t,e,n,i){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let r=t,{parser:s}=this.p;(i>this.pos||e<=s.maxNode)&&(this.pos=i,s.stateFlag(r,1)||(this.reducePos=i)),this.pushState(r,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,i,4)}else this.pos=i,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,i,4)}apply(t,e,n,i){65536&t?this.reduce(t):this.shift(t,e,n,i)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(e,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),i=t.bufferBase+e;for(;t&&i==t.bufferBase;)t=t.parent;return new oj(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new lj(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(0==(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<e.length;r+=2)(i=e[r+1])!=this.state&&this.p.parser.hasAction(i,t)&&n.push(e[r],i);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let i=e[t+1];n.some(((t,e)=>1&e&&t==i))||n.push(e[t],i)}e=n}let n=[];for(let i=0;i<e.length&&n.length<4;i+=2){let t=e[i+1];if(t==this.state)continue;let r=this.split();r.pushState(t,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(e[i],this.pos),r.reducePos=this.pos,r.score-=200,n.push(r)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(0==(65536&e))return!1;if(!t.validAction(this.state,e)){let n=e>>19,i=65535&e,r=this.stack.length-3*n;if(r<0||t.getGoto(this.stack[r],i,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(i,r)=>{if(!e.includes(i))return e.push(i),t.allActions(i,(e=>{if(393216&e);else if(65536&e){let n=(e>>19)-r;if(n>1){let i=65535&e,r=this.stack.length-3*n;if(r>=0&&t.getGoto(this.stack[r],i,!1)>=0)return n<<19|65536|i}}else{let t=n(e,r+1);if(null!=t)return t}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new aj(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class aj{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class lj{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=i}}class hj{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.bufferBase+t.buffer.length;return new hj(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new hj(this.stack,this.pos,this.index)}}function cj(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof t)return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let e=t.charCodeAt(i++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let r=e-32;if(r>=46&&(r-=46,n=!0),s+=r,n)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class uj{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const dj=new uj;class fj{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=dj,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,i=this.rangeIndex,r=this.pos+t;for(;r<n.from;){if(!i)return null;let t=this.ranges[--i];r-=n.from-t.to,n=t}for(;e<0?r>n.to:r>=n.to;){if(i==this.ranges.length-1)return null;let t=this.ranges[++i];r+=t.from-n.to,n=t}return r}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,n,i=this.chunkOff+t;if(i>=0&&i<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(t,1);if(null==i)return-1;if(e=i,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,i=this.range;for(;i.to<=e;)i=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=dj,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let i of this.ranges){if(i.from>=e)break;i.to>t&&(n+=this.input.read(Math.max(i.from,t),Math.min(i.to,e)))}return n}}class pj{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;gj(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}pj.prototype.contextual=pj.prototype.fallback=pj.prototype.extend=!1;pj.prototype.fallback=pj.prototype.extend=!1;function gj(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;t:for(;0!=(a&t[o]);){let n=t[o+1];for(let u=o+3;u<n;u+=2)if((t[u+1]&a)>0){let n=t[u];if(l.allows(n)&&(-1==e.token.value||e.token.value==n||Oj(n,e.token.value,r,s))){e.acceptToken(n);break}}let i=e.next,h=0,c=t[o+2];if(!(e.next<0&&c>h&&65535==t[n+3*c-3])){for(;h<c;){let r=h+c>>1,s=n+r+(r<<1),a=t[s],l=t[s+1]||65536;if(i<a)c=r;else{if(!(i>=l)){o=t[s+2],e.advance();continue t}h=r+1}}break}o=t[n+3*c-1]}}function mj(t,e,n){for(let i,r=e;65535!=(i=t[r]);r++)if(i==n)return r-e;return-1}function Oj(t,e,n,i){let r=mj(n,i,e);return r<0||mj(n,i,t)<r}const yj="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/DYA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"/DYA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG);let vj=null;function bj(t,e,n){let i=t.cursor(jq.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class wj{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?bj(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?bj(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],i=this.index[e];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],s=this.start[e]+n.positions[i];if(s>t)return this.nextStart=s,null;if(r instanceof Uq){if(s==t){if(s<this.safeFrom)return null;let t=s+r.length;if(t<=this.safeTo){let e=r.prop(Aq.lookAhead);if(!e||t+e<this.fragment.to)return r}}this.index[e]++,s+r.length>=Math.max(this.safeFrom,t)&&(this.trees.push(r),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+r.length}}}class xj{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new uj))}getActions(t){let e=0,n=null,{parser:i}=t.p,{tokenizers:r}=i,s=i.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let l=0;l<r.length;l++){if(0==(1<<l&s))continue;let i=r[l],h=this.tokens[l];if((!n||i.fallback)&&((i.contextual||h.start!=t.pos||h.mask!=s||h.context!=o)&&(this.updateCachedToken(h,i,t),h.mask=s,h.context=o),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let r=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!i.extend&&(n=h,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),n||t.pos!=this.stream.end||(n=new uj,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new uj,{pos:n,p:i}=t;return e.start=n,e.end=Math.min(n+1,i.stream.end),e.value=n==i.stream.end?i.parser.eofTerm:0,e}updateCachedToken(t,e,n){let i=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(i,t),n),t.value>-1){let{parser:e}=n.p;for(let i=0;i<e.specialized.length;i++)if(e.specialized[i]==t.value){let r=e.specializers[i](this.stream.read(t.start,t.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){0==(1&r)?t.value=r>>1:t.extended=r>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,e,n,i){for(let r=0;r<i;r+=3)if(this.actions[r]==t)return i;return this.actions[i++]=t,this.actions[i++]=e,this.actions[i++]=n,i}addActions(t,e,n,i){let{state:r}=t,{parser:s}=t.p,{data:o}=s;for(let a=0;a<2;a++)for(let t=s.stateSlot(r,a?2:1);;t+=3){if(65535==o[t]){if(1!=o[t+1]){0==i&&2==o[t+1]&&(i=this.putAction(Qj(o,t+2),e,n,i));break}t=Qj(o,t+2)}o[t]==e&&(i=this.putAction(Qj(o,t+1),e,n,i))}return i}}class kj{constructor(t,e,n,i){this.parser=t,this.input=e,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new fj(e,i),this.tokens=new xj(t,this.stream),this.topTerm=t.top[1];let{from:r}=i[0];this.stacks=[oj.start(this,t.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*t.bufferLength?new wj(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,i=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[t]=n;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>i)r.push(o);else{if(this.advanceStack(o,r,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!r.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return yj&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw yj&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,r);if(n)return yj&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(r.length>t)for(r.sort(((t,e)=>e.score-t.score));r.length>t;)r.pop();r.some((t=>t.reducePos>i))&&this.recovering--}else if(r.length>1){t:for(let t=0;t<r.length-1;t++){let e=r[t];for(let n=t+1;n<r.length;n++){let i=r[n];if(e.sameState(i)||e.buffer.length>500&&i.buffer.length>500){if(!((e.score-i.score||e.buffer.length-i.buffer.length)>0)){r.splice(t--,1);continue t}r.splice(n--,1)}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let i=t.pos,{parser:r}=this,s=yj?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(i);o;){let i=this.parser.nodeSet.types[o.type.id]==o.type?r.getGoto(t.state,o.type.id):-1;if(i>-1&&o.length&&(!e||(o.prop(Aq.contextHash)||0)==n))return t.useNode(o,i),yj&&console.log(s+this.stackID(t)+" (via reuse of ".concat(r.getName(o.type.id),")")),!0;if(!(o instanceof Uq)||0==o.children.length||o.positions[0]>0)break;let a=o.children[0];if(!(a instanceof Uq&&0==o.positions[0]))break;o=a}}let o=r.stateSlot(t.state,4);if(o>0)return t.reduce(o),yj&&console.log(s+this.stackID(t)+" (via always-reduce ".concat(r.getName(65535&o),")")),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let l=0;l<a.length;){let o=a[l++],h=a[l++],c=a[l++],u=l==a.length||!n,d=u?t:t.split(),f=this.tokens.mainToken;if(d.apply(o,h,f?f.start:d.pos,c),yj&&console.log(s+this.stackID(d)+" (via ".concat(0==(65536&o)?"shift":"reduce of ".concat(r.getName(65535&o))," for ").concat(r.getName(h)," @ ").concat(i).concat(d==t?"":", split",")")),u)return!0;d.pos>i?e.push(d):n.push(d)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return Sj(t,e),!0}}runRecovery(t,e,n){let i=null,r=!1;for(let s=0;s<t.length;s++){let o=t[s],a=e[s<<1],l=e[1+(s<<1)],h=yj?this.stackID(o)+" -> ":"";if(o.deadEnd){if(r)continue;if(r=!0,o.restart(),yj&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),u=h;for(let t=0;c.forceReduce()&&t<10;t++){if(yj&&console.log(u+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;yj&&(u=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(a))yj&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),yj&&console.log(h+this.stackID(o)+" (via recover-delete ".concat(this.parser.getName(a),")")),Sj(o,n)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(t){return t.close(),Uq.build({buffer:hj.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(vj||(vj=new WeakMap)).get(t);return e||vj.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function Sj(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class Pj{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class _j extends rj{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError("Parser version (".concat(t.version,") doesn't match runtime version (",14,")"));let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),i=[];for(let o=0;o<e.length;o++)i.push([]);function r(t,e,n){i[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let o of t.nodeProps){let t=o[0];"string"==typeof t&&(t=Aq[t]);for(let e=1;e<o.length;){let n=o[e++];if(n>=0)r(n,t,o[e++]);else{let i=o[e+-n];for(let s=-n;s>0;s--)r(o[e++],t,i);e++}}}this.nodeSet=new Mq(e.map(((e,r)=>Iq.define({name:r>=this.minRepeatTerm?void 0:e,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:t.skippedNodes&&t.skippedNodes.indexOf(r)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=Cq;let s=cj(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(Tj),this.states=cj(t.states,Uint32Array),this.data=cj(t.stateData),this.goto=cj(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new pj(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let i=new kj(this,t,e,n);for(let r of this.wrappers)i=r(i,t,e,n);return i}getGoto(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.goto;if(e>=i[0])return-1;for(let r=i[e+1];;){let e=i[r++],s=1&e,o=i[r++];if(s&&n)return o;for(let n=r+(e>>1);r<n;r++)if(i[r]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let i=0;i<2;i++)for(let r,s=this.stateSlot(t,i?2:1);;s+=3){if(65535==(r=n[s])){if(1!=n[s+1]){if(2==n[s+1])return Qj(n,s+2);break}r=n[s=Qj(n,s+2)]}if(r==e||0==r)return Qj(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let n=this.stateSlot(t,4),i=n?e(n):void 0;for(let r=this.stateSlot(t,1);null==i;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=Qj(this.data,r+2)}i=e(Qj(this.data,r+1))}return i}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Qj(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}configure(t){let e=Object.assign(Object.create(_j.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError("Invalid top rule name ".concat(t.top));e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,i)=>{let r=t.specializers.find((t=>t.from==n.external));if(!r)return n;let s=Object.assign(Object.assign({},n),{external:r.to});return e.specializers[i]=Tj(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let i=null;for(let r=0;r<e.length;r++)if(!n[r])for(let t,n=this.dialects[e[r]];65535!=(t=this.data[n++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[t]=1;return new Pj(t,n,i)}static deserialize(t){return new _j(t)}}function Qj(t,e){return t[e]|t[e+1]<<16}function Tj(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}let Cj=0;class Ej{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=Cj++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new Ej([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new Aj;return e=>e.modified.indexOf(t)>-1?e:Aj.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let Rj=0;class Aj{constructor(){this.instances=[],this.id=Rj++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new Ej(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(Aj.get(o,t));return r}}const $j=new Aq;class Nj{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Nj.empty=new Nj([],2,null);const Ij=Ej.define,Mj=Ij(),Dj=Ij(),qj=Ij(Dj),jj=Ij(Dj),Uj=Ij(),Lj=Ij(Uj),Wj=Ij(Uj),zj=Ij(),Vj=Ij(zj),Zj=Ij(),Xj=Ij(),Yj=Ij(),Fj=Ij(Yj),Bj=Ij(),Gj={comment:Mj,lineComment:Ij(Mj),blockComment:Ij(Mj),docComment:Ij(Mj),name:Dj,variableName:Ij(Dj),typeName:qj,tagName:Ij(qj),propertyName:jj,attributeName:Ij(jj),className:Ij(Dj),labelName:Ij(Dj),namespace:Ij(Dj),macroName:Ij(Dj),literal:Uj,string:Lj,docString:Ij(Lj),character:Ij(Lj),attributeValue:Ij(Lj),number:Wj,integer:Ij(Wj),float:Ij(Wj),bool:Ij(Uj),regexp:Ij(Uj),escape:Ij(Uj),color:Ij(Uj),url:Ij(Uj),keyword:Zj,self:Ij(Zj),null:Ij(Zj),atom:Ij(Zj),unit:Ij(Zj),modifier:Ij(Zj),operatorKeyword:Ij(Zj),controlKeyword:Ij(Zj),definitionKeyword:Ij(Zj),moduleKeyword:Ij(Zj),operator:Xj,derefOperator:Ij(Xj),arithmeticOperator:Ij(Xj),logicOperator:Ij(Xj),bitwiseOperator:Ij(Xj),compareOperator:Ij(Xj),updateOperator:Ij(Xj),definitionOperator:Ij(Xj),typeOperator:Ij(Xj),controlOperator:Ij(Xj),punctuation:Yj,separator:Ij(Yj),bracket:Fj,angleBracket:Ij(Fj),squareBracket:Ij(Fj),paren:Ij(Fj),brace:Ij(Fj),content:zj,heading:Vj,heading1:Ij(Vj),heading2:Ij(Vj),heading3:Ij(Vj),heading4:Ij(Vj),heading5:Ij(Vj),heading6:Ij(Vj),contentSeparator:Ij(zj),list:Ij(zj),quote:Ij(zj),emphasis:Ij(zj),strong:Ij(zj),link:Ij(zj),monospace:Ij(zj),strikethrough:Ij(zj),inserted:Ij(),deleted:Ij(),changed:Ij(),invalid:Ij(),meta:Bj,documentMeta:Ij(Bj),annotation:Ij(Bj),processingInstruction:Ij(Bj),definition:Ej.defineModifier(),constant:Ej.defineModifier(),function:Ej.defineModifier(),standard:Ej.defineModifier(),local:Ej.defineModifier(),special:Ej.defineModifier()},Hj=(function(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{}}([{tag:Gj.link,class:"tok-link"},{tag:Gj.heading,class:"tok-heading"},{tag:Gj.emphasis,class:"tok-emphasis"},{tag:Gj.strong,class:"tok-strong"},{tag:Gj.keyword,class:"tok-keyword"},{tag:Gj.atom,class:"tok-atom"},{tag:Gj.bool,class:"tok-bool"},{tag:Gj.url,class:"tok-url"},{tag:Gj.labelName,class:"tok-labelName"},{tag:Gj.inserted,class:"tok-inserted"},{tag:Gj.deleted,class:"tok-deleted"},{tag:Gj.literal,class:"tok-literal"},{tag:Gj.string,class:"tok-string"},{tag:Gj.number,class:"tok-number"},{tag:[Gj.regexp,Gj.escape,Gj.special(Gj.string)],class:"tok-string2"},{tag:Gj.variableName,class:"tok-variableName"},{tag:Gj.local(Gj.variableName),class:"tok-variableName tok-local"},{tag:Gj.definition(Gj.variableName),class:"tok-variableName tok-definition"},{tag:Gj.special(Gj.variableName),class:"tok-variableName2"},{tag:Gj.definition(Gj.propertyName),class:"tok-propertyName tok-definition"},{tag:Gj.typeName,class:"tok-typeName"},{tag:Gj.namespace,class:"tok-namespace"},{tag:Gj.className,class:"tok-className"},{tag:Gj.macroName,class:"tok-macroName"},{tag:Gj.propertyName,class:"tok-propertyName"},{tag:Gj.operator,class:"tok-operator"},{tag:Gj.comment,class:"tok-comment"},{tag:Gj.meta,class:"tok-meta"},{tag:Gj.invalid,class:"tok-invalid"},{tag:Gj.punctuation,class:"tok-punctuation"}]),function(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new Nj(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return $j.add(e)}({null:Gj.null,instanceof:Gj.operatorKeyword,this:Gj.self,"new super assert open to with void":Gj.keyword,"class interface extends implements enum var":Gj.definitionKeyword,"module package import":Gj.moduleKeyword,"switch while for if else case default do break continue return try catch finally throw":Gj.controlKeyword,"requires exports opens uses provides public private protected static transitive abstract final strictfp synchronized native transient volatile throws":Gj.modifier,IntegerLiteral:Gj.integer,FloatingPointLiteral:Gj.float,"StringLiteral TextBlock":Gj.string,CharacterLiteral:Gj.character,LineComment:Gj.lineComment,BlockComment:Gj.blockComment,BooleanLiteral:Gj.bool,PrimitiveType:Gj.standard(Gj.typeName),TypeName:Gj.typeName,Identifier:Gj.variableName,"MethodName/Identifier":Gj.function(Gj.variableName),Definition:Gj.definition(Gj.variableName),ArithOp:Gj.arithmeticOperator,LogicOp:Gj.logicOperator,BitOp:Gj.bitwiseOperator,CompareOp:Gj.compareOperator,AssignOp:Gj.definitionOperator,UpdateOp:Gj.updateOperator,Asterisk:Gj.punctuation,Label:Gj.labelName,"( )":Gj.paren,"[ ]":Gj.squareBracket,"{ }":Gj.brace,".":Gj.derefOperator,", ;":Gj.separator})),Kj={__proto__:null,true:34,false:34,null:42,void:46,byte:48,short:48,int:48,long:48,char:48,float:48,double:48,boolean:48,extends:62,super:64,class:76,this:78,new:84,public:100,protected:102,private:104,abstract:106,static:108,final:110,strictfp:112,default:114,synchronized:116,native:118,transient:120,volatile:122,throws:150,implements:160,interface:166,enum:176,instanceof:238,open:267,module:269,requires:274,transitive:276,exports:278,to:280,opens:282,uses:284,provides:286,with:288,package:292,import:296,if:308,else:310,while:314,for:318,var:325,assert:332,switch:336,case:342,do:346,break:350,continue:354,return:358,throw:364,try:368,catch:372,finally:380},Jj=_j.deserialize({version:14,states:"##jQ]QPOOQ$wQPOOO(bQQO'#H^O*iQQO'#CbOOQO'#Cb'#CbO*pQPO'#CaO*xOSO'#CpOOQO'#Hc'#HcOOQO'#Cu'#CuO,eQPO'#D_O-OQQO'#HmOOQO'#Hm'#HmO/gQQO'#HhO/nQQO'#HhOOQO'#Hh'#HhOOQO'#Hg'#HgO1rQPO'#DUO2PQPO'#GnO4wQPO'#D_O5OQPO'#DzO*pQPO'#E[O5qQPO'#E[OOQO'#DV'#DVO7SQQO'#HaO9^QQO'#EeO9eQPO'#EdO9jQPO'#EfOOQO'#Hb'#HbO7jQQO'#HbO:pQQO'#FhO:wQPO'#ExO:|QPO'#E}O:|QPO'#FPOOQO'#Ha'#HaOOQO'#HY'#HYOOQO'#Gh'#GhOOQO'#HX'#HXO<^QPO'#FiOOQO'#HW'#HWOOQO'#Gg'#GgQ]QPOOOOQO'#Hs'#HsO<cQPO'#HsO<hQPO'#D{O<hQPO'#EVO<hQPO'#EQO<pQPO'#HpO=RQQO'#EfO*pQPO'#C`O=ZQPO'#C`O*pQPO'#FcO=`QPO'#FeO=kQPO'#FkO=kQPO'#FnO<hQPO'#FsO=pQPO'#FpO:|QPO'#FwO=kQPO'#FyO]QPO'#GOO=uQPO'#GQO>QQPO'#GSO>]QPO'#GUO=kQPO'#GWO:|QPO'#GXO>dQPO'#GZO?QQQO'#HiO?mQQO'#CuO?tQPO'#HxO@SQPO'#D_O@rQPO'#DpO?wQPO'#DqO@|QPO'#HxOA_QPO'#DpOAgQPO'#IROAlQPO'#E`OOQO'#Hr'#HrOOQO'#Gm'#GmQ$wQPOOOAtQPO'#HsOOQO'#H^'#H^OCsQQO,58{OOQO'#H['#H[OOOO'#Gi'#GiOEfOSO,59[OOQO,59[,59[OOQO'#Hi'#HiOFVQPO,59eOGXQPO,59yOOQO-E:f-E:fO*pQPO,58zOG{QPO,58zO*pQPO,5;}OHQQPO'#DQOHVQPO'#DQOOQO'#Gk'#GkOIVQQO,59jOOQO'#Dm'#DmOJqQPO'#HuOJ{QPO'#DlOKZQPO'#HtOKcQPO,5<_OKhQPO,59^OLRQPO'#CxOOQO,59c,59cOLYQPO,59bOLeQQO'#H^ONgQQO'#CbO!!iQPO'#D_O!#nQQO'#HmO!$OQQO,59pO!$VQPO'#DvO!$eQPO'#H|O!$mQPO,5:`O!$rQPO,5:`O!%YQPO,5;nO!%eQPO'#ITO!%pQPO,5;eO!%uQPO,5=YOOQO-E:l-E:lOOQO,5:f,5:fO!']QPO,5:fO!'dQPO,5:vO?tQPO,5<_O*pQPO,5:vO<hQPO,5:gO<hQPO,5:qO<hQPO,5:lO<hQPO,5<_O!'zQPO,59qO:|QPO,5:}O!(RQPO,5;QO:|QPO,59TO!(aQPO'#DXOOQO,5;O,5;OOOQO'#El'#ElOOQO'#Eo'#EoO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;fOOQO,5;i,5;iOOQO,5<S,5<SO!(hQPO,5;bO!(yQPO,5;dO!(hQPO'#CyO!)QQQO'#HmO!)`QQO,5;kO]QPO,5<TOOQO-E:e-E:eOOQO,5>_,5>_O!*sQPO,5:gO!+RQPO,5:qO!+ZQPO,5:lO!+fQPO,5>[O!$VQPO,5>[O!'iQPO,59UO!+qQQO,58zO!+yQQO,5;}O!,RQQO,5<PO*pQPO,5<PO:|QPO'#DUO]QPO,5<VO]QPO,5<YO!,ZQPO'#FrO]QPO,5<[O]QPO,5<aO!,kQQO,5<cO!,uQPO,5<eO!,zQPO,5<jOOQO'#Fj'#FjOOQO,5<l,5<lO!-PQPO,5<lOOQO,5<n,5<nO!-UQPO,5<nO!-ZQQO,5<pOOQO,5<p,5<pO>gQPO,5<rO!-bQQO,5<sO!-iQPO'#GdO!.oQPO,5<uO>gQPO,5<}O!2mQPO,59jO!2zQPO'#HuO!3RQPO,59xO!3WQPO,5>dO?tQPO,59xO!3cQPO,5:[OAlQPO,5:zO!3kQPO'#DrO?wQPO'#DrO!3vQPO'#HyO!4OQPO,5:]O?tQPO,5>dO!(hQPO,5>dOAgQPO,5>mOOQO,5:[,5:[O!$rQPO'#DtOOQO,5>m,5>mO!4TQPO'#EaOOQO,5:z,5:zO!7UQPO,5:zO!(hQPO'#DxOOQO-E:k-E:kOOQO,5:y,5:yO*pQPO,58}O!7ZQPO'#ChOOQO1G.k1G.kOOOO-E:g-E:gOOQO1G.v1G.vO!+qQQO1G.fO*pQPO1G.fO!7eQQO1G1iOOQO,59l,59lO!7mQPO,59lOOQO-E:i-E:iO!7rQPO,5>aO!8ZQPO,5:WO<hQPO'#GpO!8bQPO,5>`OOQO1G1y1G1yOOQO1G.x1G.xO!8{QPO'#CyO!9kQPO'#HmO!9uQPO'#CzO!:TQPO'#HlO!:]QPO,59dOOQO1G.|1G.|OLYQPO1G.|O!:sQPO,59eO!;QQQO'#H^O!;cQQO'#CbOOQO,5:b,5:bO<hQPO,5:cOOQO,5:a,5:aO!;tQQO,5:aOOQO1G/[1G/[O!;yQPO,5:bO!<[QPO'#GsO!<oQPO,5>hOOQO1G/z1G/zO!<wQPO'#DvO!=YQPO1G/zO!(hQPO'#GqO!=_QPO1G1YO:|QPO1G1YO<hQPO'#GyO!=gQPO,5>oOOQO1G1P1G1POOQO1G0Q1G0QO!=oQPO'#E]OOQO1G0b1G0bO!>`QPO1G1yO!'dQPO1G0bO!*sQPO1G0RO!+RQPO1G0]O!+ZQPO1G0WOOQO1G/]1G/]O!>eQQO1G.pO9eQPO1G0jO*pQPO1G0jO<pQPO'#HpO!@[QQO1G.pOOQO1G.p1G.pO!@aQQO1G0iOOQO1G0l1G0lO!@hQPO1G0lO!@sQQO1G.oO!AZQQO'#HqO!AhQPO,59sO!BzQQO1G0pO!DfQQO1G0pO!DmQQO1G0pO!FUQQO1G0pO!F]QQO1G0pO!GbQQO1G0pO!I]QQO1G0pO!IdQQO1G0pO!IkQQO1G0pO!IuQQO1G1QO!I|QQO'#HmOOQO1G0|1G0|O!KSQQO1G1OOOQO1G1O1G1OOOQO1G1o1G1oO!KjQPO'#D[O!(hQPO'#D|O!(hQPO'#D}OOQO1G0R1G0RO!KqQPO1G0RO!KvQPO1G0RO!LOQPO1G0RO!LZQPO'#EXOOQO1G0]1G0]O!LnQPO1G0]O!LsQPO'#ETO!(hQPO'#ESOOQO1G0W1G0WO!MmQPO1G0WO!MrQPO1G0WO!MzQPO'#EhO!NRQPO'#EhOOQO'#Gx'#GxO!NZQQO1G0mO# }QQO1G3vO9eQPO1G3vO#$PQPO'#FXOOQO1G.f1G.fOOQO1G1i1G1iO#$WQPO1G1kOOQO1G1k1G1kO#$cQQO1G1kO#$kQPO1G1qOOQO1G1t1G1tO+QQPO'#D_O-OQQO,5<bO#(cQPO,5<bO#(tQPO,5<^O#({QPO,5<^OOQO1G1v1G1vOOQO1G1{1G1{OOQO1G1}1G1}O:|QPO1G1}O#,oQPO'#F{OOQO1G2P1G2PO=kQPO1G2UOOQO1G2W1G2WOOQO1G2Y1G2YOOQO1G2[1G2[OOQO1G2^1G2^OOQO1G2_1G2_O#,vQQO'#H^O#-aQQO'#CbO-OQQO'#HmO#-zQQOOO#.hQQO'#EeO#.VQQO'#HbO!$VQPO'#GeO#.oQPO,5=OOOQO'#HQ'#HQO#.wQPO1G2aO#2uQPO'#G]O>gQPO'#GaOOQO1G2a1G2aO#2zQPO1G2iO#6xQPO,5>gOOQO1G/d1G/dOOQO1G4O1G4OO#7ZQPO1G/dOOQO1G/v1G/vOOQO1G0f1G0fO!7UQPO1G0fOOQO,5:^,5:^O!(hQPO'#DsO#7`QPO,5:^O?wQPO'#GrO#7kQPO,5>eOOQO1G/w1G/wOAgQPO'#H{O#7sQPO1G4OO?tQPO1G4OOOQO1G4X1G4XO!#YQPO'#DvO!!iQPO'#D_OOQO,5:{,5:{O#8OQPO,5:{O#8OQPO,5:{O#8VQQO'#HaO#9hQQO'#HbO#9rQQO'#EbO#9}QPO'#EbO#:VQPO'#IOOOQO,5:d,5:dOOQO1G.i1G.iO#:bQQO'#EeO#:rQQO'#H`O#;SQPO'#FTOOQO'#H`'#H`O#;^QPO'#H`O#;{QPO'#IWO#<TQPO,59SOOQO7+$Q7+$QO!+qQQO7+$QOOQO7+'T7+'TOOQO1G/W1G/WO#<YQPO'#DoO#<dQQO'#HvOOQO'#Hv'#HvOOQO1G/r1G/rOOQO,5=[,5=[OOQO-E:n-E:nO#<tQWO,58{O#<{QPO,59fOOQO,59f,59fO!(hQPO'#HoOKmQPO'#GjO#=ZQPO,5>WOOQO1G/O1G/OOOQO7+$h7+$hOOQO1G/{1G/{O#=cQQO1G/{OOQO1G/}1G/}O#=hQPO1G/{OOQO1G/|1G/|O<hQPO1G/}OOQO,5=_,5=_OOQO-E:q-E:qOOQO7+%f7+%fOOQO,5=],5=]OOQO-E:o-E:oO:|QPO7+&tOOQO7+&t7+&tOOQO,5=e,5=eOOQO-E:w-E:wO#=mQPO'#EUO#={QPO'#EUOOQO'#Gw'#GwO#>dQPO,5:wOOQO,5:w,5:wOOQO7+'e7+'eOOQO7+%|7+%|OOQO7+%m7+%mO!KqQPO7+%mO!KvQPO7+%mO!LOQPO7+%mOOQO7+%w7+%wO!LnQPO7+%wOOQO7+%r7+%rO!MmQPO7+%rO!MrQPO7+%rOOQO7+&U7+&UOOQO'#Ee'#EeO9eQPO7+&UO9eQPO,5>[O#?TQPO7+$[OOQO7+&T7+&TOOQO7+&W7+&WO:|QPO'#GlO#?cQPO,5>]OOQO1G/_1G/_O:|QPO7+&lO#?nQQO,59eO#@tQPO,59vOOQO,59v,59vOOQO,5:h,5:hOOQO'#EP'#EPOOQO,5:i,5:iO#@{QPO'#EYO<hQPO'#EYO#A^QPO'#IPO#AiQPO,5:sO?tQPO'#HxO!(hQPO'#HxO#AqQPO'#DpOOQO'#Gu'#GuO#AxQPO,5:oOOQO,5:o,5:oOOQO,5:n,5:nOOQO,5;S,5;SO#BrQQO,5;SO#ByQPO,5;SOOQO-E:v-E:vOOQO7+&X7+&XOOQO7+)b7+)bO#CQQQO7+)bOOQO'#G|'#G|O#DqQPO,5;sOOQO,5;s,5;sO#DxQPO'#FYO*pQPO'#FYO*pQPO'#FYO*pQPO'#FYO#EWQPO7+'VO#E]QPO7+'VOOQO7+'V7+'VO]QPO7+']O#EhQPO1G1|O?tQPO1G1|O#EvQQO1G1xO!(aQPO1G1xO#E}QPO1G1xO#FUQQO7+'iOOQO'#HP'#HPO#F]QPO,5<gOOQO,5<g,5<gO#FdQPO'#HsO:|QPO'#F|O#FlQPO7+'pO#FqQPO,5=PO?tQPO,5=PO#FvQPO1G2jO#HPQPO1G2jOOQO1G2j1G2jOOQO-E;O-E;OOOQO7+'{7+'{O!<[QPO'#G_O>gQPO,5<wOOQO,5<{,5<{O#HXQPO7+(TOOQO7+(T7+(TO#LVQPO1G4ROOQO7+%O7+%OOOQO7+&Q7+&QO#LhQPO,5:_OOQO1G/x1G/xOOQO,5=^,5=^OOQO-E:p-E:pOOQO7+)j7+)jO#LsQPO7+)jO!:bQPO,5:aOOQO1G0g1G0gO#MOQPO1G0gO#MVQPO,59qO#MkQPO,5:|O9eQPO,5:|O!(hQPO'#GtO#MpQPO,5>jO#M{QPO,59TO#NSQPO'#IVO#N[QPO,5;oO*pQPO'#G{O#NaQPO,5>rOOQO1G.n1G.nOOQO<<Gl<<GlO#NiQPO'#HwO#NqQPO,5:ZOOQO1G/Q1G/QOOQO,5>Z,5>ZOOQO,5=U,5=UOOQO-E:h-E:hO#NvQPO7+%gOOQO7+%g7+%gOOQO7+%i7+%iOOQO<<J`<<J`O$ ^QPO'#H^O$ eQPO'#CbO$ lQPO,5:pO$ qQPO,5:xO#=mQPO,5:pOOQO-E:u-E:uOOQO1G0c1G0cOOQO<<IX<<IXO!KqQPO<<IXO!KvQPO<<IXOOQO<<Ic<<IcOOQO<<I^<<I^O!MmQPO<<I^OOQO<<Ip<<IpO$ vQQO<<GvO9eQPO<<IpO*pQPO<<IpOOQO<<Gv<<GvO$#mQQO,5=WOOQO-E:j-E:jO$#zQQO<<JWOOQO1G/b1G/bOOQO,5:t,5:tO$$bQPO,5:tO$$pQPO,5:tO$%RQPO'#GvO$%iQPO,5>kO$%tQPO'#EZOOQO1G0_1G0_O$%{QPO1G0_O?tQPO,5:pOOQO-E:s-E:sOOQO1G0Z1G0ZOOQO1G0n1G0nO$&QQQO1G0nOOQO<<L|<<L|OOQO-E:z-E:zOOQO1G1_1G1_O$&XQQO,5;tOOQO'#G}'#G}O#DxQPO,5;tOOQO'#IX'#IXO$&aQQO,5;tO$&rQQO,5;tOOQO<<Jq<<JqO$&zQPO<<JqOOQO<<Jw<<JwO:|QPO7+'hO$'PQPO7+'hO!(aQPO7+'dO$'_QPO7+'dO$'dQQO7+'dOOQO<<KT<<KTOOQO-E:}-E:}OOQO1G2R1G2ROOQO,5<h,5<hO$'kQQO,5<hOOQO<<K[<<K[O:|QPO1G2kO$'rQPO1G2kOOQO,5=n,5=nOOQO7+(U7+(UO$'wQPO7+(UOOQO-E;Q-E;QO$)fQWO'#HhO$)QQWO'#HhO$)mQPO'#G`O<hQPO,5<yO!$VQPO,5<yOOQO1G2c1G2cOOQO<<Ko<<KoO$*OQPO1G/yOOQO<<MU<<MUOOQO7+&R7+&RO$*ZQPO1G0jO$*fQQO1G0hOOQO1G0h1G0hO$*nQPO1G0hOOQO,5=`,5=`OOQO-E:r-E:rO$*sQQO1G.oOOQO1G1[1G1[O$*}QPO'#GzO$+[QPO,5>qOOQO1G1Z1G1ZO$+dQPO'#FUOOQO,5=g,5=gOOQO-E:y-E:yO$+iQPO'#GoO$+vQPO,5>cOOQO1G/u1G/uOOQO<<IR<<IROOQO1G0[1G0[O$,OQPO1G0dO$,TQPO1G0[O$,YQPO1G0dOOQOAN>sAN>sO!KqQPOAN>sOOQOAN>xAN>xOOQOAN?[AN?[O9eQPOAN?[OOQO1G0`1G0`O$,_QPO1G0`OOQO,5=b,5=bOOQO-E:t-E:tO$,mQPO,5:uOOQO7+%y7+%yOOQO7+&Y7+&YOOQO1G1`1G1`O$,tQQO1G1`OOQO-E:{-E:{O$,|QQO'#IYO$,wQPO1G1`O$&gQPO1G1`O*pQPO1G1`OOQOAN@]AN@]O$-XQQO<<KSO:|QPO<<KSO$-`QPO<<KOOOQO<<KO<<KOO!(aQPO<<KOOOQO1G2S1G2SO$-eQQO7+(VO:|QPO7+(VOOQO<<Kp<<KpP!-iQPO'#HSO!$VQPO'#HRO$-oQPO,5<zO$-zQPO1G2eO<hQPO1G2eO9eQPO7+&SO$.PQPO7+&SOOQO7+&S7+&SOOQO,5=f,5=fOOQO-E:x-E:xO#M{QPO,5;pOOQO,5=Z,5=ZOOQO-E:m-E:mO$.UQPO7+&OOOQO7+%v7+%vO$.dQPO7+&OOOQOG24_G24_OOQOG24vG24vOOQO7+%z7+%zOOQO7+&z7+&zO*pQPO'#HOO$.iQPO,5>tO$.qQPO7+&zO$.vQQO'#IZOOQOAN@nAN@nO$/RQQOAN@nOOQOAN@jAN@jO$/YQPOAN@jO$/_QQO<<KqO$/iQPO,5=mOOQO-E;P-E;POOQO7+(P7+(PO$/zQPO7+(PO$0PQPO<<InOOQO<<In<<InO$0UQPO<<IjOOQO<<Ij<<IjO#M{QPO<<IjO$0UQPO<<IjO$0dQQO,5=jOOQO-E:|-E:|OOQO<<Jf<<JfO$0oQPO,5>uOOQOG26YG26YOOQOG26UG26UOOQO<<Kk<<KkOOQOAN?YAN?YOOQOAN?UAN?UO#M{QPOAN?UO$0wQPOAN?UO$0|QPOAN?UO$1[QPOG24pOOQOG24pG24pO#M{QPOG24pOOQOLD*[LD*[O$1aQPOLD*[OOQO!$'Mv!$'MvO*pQPO'#CaO$1fQQO'#H^O$1yQQO'#CbO!(hQPO'#Cy",stateData:"$2f~OPOSQOS%yOS~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~Og^Oh^Ov{O}cO!P!mO!SyO!TyO!UyO!VyO!W!pO!XyO!YyO!ZzO!]yO!^yO!_yO!u}O!z|O%}TO&P!cO&R!dO&_!hO&tdO~OWiXW&QXZ&QXuiXu&QX!P&QX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX%}iX&PiX&RiX&^&QX&_iX&_&QX&n&QX&viX&v&QX&x!aX~O#p$^X~P&bOWUXW&]XZUXuUXu&]X!PUX!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX%}&]X&P&]X&R&]X&^UX&_UX&_&]X&nUX&vUX&v&]X&x!aX~O#p$^X~P(iO&PSO&R!qO~O&W!vO&Y!tO~Og^Oh^O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO%}TO&P!wO&RWOg!RXh!RX$h!RX&P!RX&R!RX~O#y!|O#z!{O$W!}Ov!RX!u!RX!z!RX&t!RX~P+QOW#XOu#OO%}TO&P#SO&R#SO&v&aX~OW#[Ou&[X%}&[X&P&[X&R&[X&v&[XY&[Xw&[X&n&[X&q&[XZ&[Xq&[X&^&[X!P&[X#_&[X#a&[X#b&[X#d&[X#e&[X#f&[X#g&[X#h&[X#i&[X#k&[X#o&[X#r&[X}&[X!r&[X#p&[Xs&[X|&[X~O&_#YO~P-dO&_&[X~P-dOZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO#fpO#roO#tpO#upO%}TO&XUO~O&P#^O&R#]OY&pP~P/uO%}TOg%bXh%bXv%bX!S%bX!T%bX!U%bX!V%bX!W%bX!X%bX!Y%bX!Z%bX!]%bX!^%bX!_%bX!u%bX!z%bX$h%bX&P%bX&R%bX&t%bX&_%bX~O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yOg!RXh!RXv!RX!u!RX!z!RX&P!RX&R!RX&t!RX&_!RX~O$h!RX~P3gO|#kO~P]Og^Oh^Ov#pO!u#rO!z#qO&P!wO&RWO&t#oO~O$h#sO~P5VOu#uO&v#vO!P&TX#_&TX#a&TX#b&TX#d&TX#e&TX#f&TX#g&TX#h&TX#i&TX#k&TX#o&TX#r&TX&^&TX&_&TX&n&TX~OW#tOY&TX#p&TXs&TXq&TX|&TX~P5xO!b#wO#]#wOW&UXu&UX!P&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UXY&UX#p&UXs&UXq&UX|&UX~OZ#XX~P7jOZ#xO~O&v#vO~O#_#|O#a#}O#b$OO#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#o$VO#r$WO&^#zO&_#zO&n#{O~O!P$XO~P9oO&x$ZO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO#fpO#roO#tpO#upO%}TO&P0qO&R0pO&XUO~O#p$_O~O![$aO~O&P#SO&R#SO~Og^Oh^O&P!wO&RWO&_#YO~OW$gO&v#vO~O#z!{O~O!W$kO&PSO&R!qO~OZ$lO~OZ$oO~O!P$vO&P$uO&R$uO~O!P$xO&P$uO&R$uO~O!P${O~P:|OZ%OO}cO~OW&]Xu&]X%}&]X&P&]X&R&]X&_&]X~OZ!aX~P>lOWiXuiX%}iX&PiX&RiX&_iX~OZ!aX~P?XOu#OO%}TO&P#SO&R#SO~O%}TO~P3gOg^Oh^Ov#pO!u#rO!z#qO&_!hO&t#oO~O&P!cO&R!dO~P@ZOg^Oh^O%}TO&P!cO&R!dO~O}cO!P%aO~OZ%bO~O}%dO!m%gO~O}cOg&gXh&gXv&gX!S&gX!T&gX!U&gX!V&gX!W&gX!X&gX!Y&gX!Z&gX!]&gX!^&gX!_&gX!u&gX!z&gX%}&gX&P&gX&R&gX&_&gX&t&gX~OW%jOZ%kOgTahTa%}Ta&PTa&RTa~OvTa!STa!TTa!UTa!VTa!WTa!XTa!YTa!ZTa!]Ta!^Ta!_Ta!uTa!zTa#yTa#zTa$WTa$hTa&tTa&_TauTaYTaqTa|Ta!PTa~PC[O&W%nO&Y!tO~Ou#OO%}TOqma&^maYma&nma!Pma~O&vma}ma!rma~PEnO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO~Og!Rah!Rav!Ra!u!Ra!z!Ra$h!Ra&P!Ra&R!Ra&t!Ra&_!Ra~PFdO#z%pO~Os%rO~Ou%sO%}TO~Ou#OO%}ra&Pra&Rra&vraYrawra&nra&qra!Pra&^raqra~OWra#_ra#ara#bra#dra#era#fra#gra#hra#ira#kra#ora#rra&_ra#prasra|ra~PH_Ou#OO%}TOq&iX!P&iX!b&iX~OY&iX#p&iX~PJ`O!b%vOq!`X!P!`XY!`X~Oq%wO!P&hX~O!P%yO~Ov%zO~Og^Oh^O%}0oO&P!wO&RWO&b%}O~O&^&`P~PKmO%}TO&P!wO&RWO~OW&QXYiXY!aXY&QXZ&QXq!aXu&QXwiX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX&^&QX&_&QX&niX&n&QX&qiX&viX&v&QX&x!aX~P?XOWUXYUXY!aXY&]XZUXq!aXuUXw&]X!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX&^UX&_UX&nUX&n&]X&q&]X&vUX&v&]X&x!aX~P>lOg^Oh^O%}TO&P!wO&RWOg!RXh!RX&P!RX&R!RX~PFdOu#OOw&XO%}TO&P&UO&R&TO&q&WO~OW#XOY&aX&n&aX&v&aX~P!#YOY&ZO~P9oOg^Oh^O&P!wO&RWO~Oq&]OY&pX~OY&_O~Og^Oh^O%}TO&P!wO&RWOY&pP~PFdOY&dO&n&bO&v#vO~Oq&eO&x$ZOY&wX~OY&gO~O%}TOg%bah%bav%ba!S%ba!T%ba!U%ba!V%ba!W%ba!X%ba!Y%ba!Z%ba!]%ba!^%ba!_%ba!u%ba!z%ba$h%ba&P%ba&R%ba&t%ba&_%ba~O|&hO~P]O}&iO~Op&uOw&vO&PSO&R!qO&_#YO~Oz&tO~P!'iOz&xO&PSO&R!qO&_#YO~OY&eP~P:|Og^Oh^O%}TO&P!wO&RWO~O}cO~P:|OW#XOu#OO%}TO&v&aX~O#r$WO!P#sa#_#sa#a#sa#b#sa#d#sa#e#sa#f#sa#g#sa#h#sa#i#sa#k#sa#o#sa&^#sa&_#sa&n#saY#sa#p#sas#saq#sa|#sa~Oo'_O}'^O!r'`O&_!hO~O}'eO!r'`O~Oo'iO}'hO&_!hO~OZ#xOu'mO%}TO~OW%jO}'sO~OW%jO!P'uO~OW'vO!P'wO~O$h!WO&P0qO&R0pO!P&eP~P/uO!P(SO#p(TO~P9oO}(UO~O$c(WO~O!P(XO~O!P(YO~O!P(ZO~P9oO!P(]O~P9oOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdO%Q(hO%U(iOZ$}a_$}a`$}aa$}ab$}ac$}ae$}ag$}ah$}ap$}av$}aw$}az$}a}$}a!P$}a!S$}a!T$}a!U$}a!V$}a!W$}a!X$}a!Y$}a!Z$}a![$}a!]$}a!^$}a!_$}a!u$}a!z$}a#f$}a#r$}a#t$}a#u$}a#y$}a#z$}a$W$}a$Y$}a$`$}a$c$}a$e$}a$h$}a$l$}a$n$}a$s$}a$u$}a$w$}a$y$}a$|$}a%O$}a%w$}a%}$}a&P$}a&R$}a&X$}a&t$}a|$}a$a$}a$q$}a~O}ra!rra'Ora~PH_OZ%bO~PJ`O!P(mO~O!m%gO}&la!P&la~O}cO!P(pO~Oo(tOq!fX&^!fX~Oq(vO&^&mX~O&^(xO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op)UOv{Ow)TOz!OO|)PO}cO!PvO![!`O!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&_#YO&tdO~PFdO}%dO~O})]OY&zP~P:|OW%jO!P)dO~Os)eO~Ou#OO%}TOq&ia!P&ia!b&iaY&ia#p&ia~O})fO~P:|Oq%wO!P&ha~Og^Oh^O%}0oO&P!wO&RWO~O&b)mO~P!8jOu#OO%}TOq&aX&^&aXY&aX&n&aX!P&aX~O}&aX!r&aX~P!9SOo)oOp)oOqnX&^nX~Oq)pO&^&`X~O&^)rO~Ou#OOw)tO%}TO&PSO&R!qO~OYma&nma&vma~P!:bOW&QXY!aXq!aXu!aX%}!aX~OWUXY!aXq!aXu!aX%}!aX~OW)wO~Ou#OO%}TO&P#SO&R#SO&q)yO~Og^Oh^O%}TO&P!wO&RWO~PFdOq&]OY&pa~Ou#OO%}TO&P#SO&R#SO&q&WO~OY)|O~OY*PO&n&bO~Oq&eOY&wa~Og^Oh^Ov{O|*XO!u}O%}TO&P!wO&RWO&tdO~PFdO!P*YO~OW^iZ#XXu^i!P^i!b^i#]^i#_^i#a^i#b^i#d^i#e^i#f^i#g^i#h^i#i^i#k^i#o^i#r^i&^^i&_^i&n^i&v^iY^i#p^is^iq^i|^i~OW*iO~Os*jO~P9oOz*kO&PSO&R!qO~O!P]iY]i#p]is]iq]i|]i~P9oOq*lOY&eX!P&eX~P9oOY*nO~O#f$SO#g$TO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#h$UO#i$UO~P!AmO#_#|O#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO&n#{O!P#^i#b#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#a#^i~P!CUO#a#}O~P!CUO#_#|O#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO!P#^i#a#^i#b#^i#d#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O&n#^i~P!DtO&n#{O~P!DtO#f$SO#g$TO#k$YO#r$WO!P#^i#a#^i#b#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#_#|O#d$QO#h$UO#i$UO&^#zO&_#zO&n#{O~P!FdO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#f#^i#h#^i#i#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#g$TO~P!G{O#g#^i~P!G{O#h#^i#i#^i~P!AmO#p*oO~P9oO#_&aX#a&aX#b&aX#d&aX#e&aX#f&aX#g&aX#h&aX#i&aX#k&aX#o&aX#r&aX&_&aX#p&aXs&aX|&aX~P!9SO!P#liY#li#p#lis#liq#li|#li~P9oO|*rO~P$wO}'^O~O}'^O!r'`O~Oo'_O}'^O!r'`O~O%}TO&P#SO&R#SO|&sP!P&sP~PFdO}'eO~Og^Oh^Ov{O|+PO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdO}'hO~Oo'iO}'hO~Os+RO~P:|Ou+TO%}TO~Ou'mO})fO%}TOW#Zi!P#Zi#_#Zi#a#Zi#b#Zi#d#Zi#e#Zi#f#Zi#g#Zi#h#Zi#i#Zi#k#Zi#o#Zi#r#Zi&^#Zi&_#Zi&n#Zi&v#ZiY#Zi#p#Zis#Ziq#Zi|#Zi~O}'^OW&diu&di!P&di#_&di#a&di#b&di#d&di#e&di#f&di#g&di#h&di#i&di#k&di#o&di#r&di&^&di&_&di&n&di&v&diY&di#p&dis&diq&di|&di~O#}+]O$P+^O$R+^O$S+_O$T+`O~O|+[O~P##nO$Z+aO&PSO&R!qO~OW+bO!P+cO~O$a+dOZ$_i_$_i`$_ia$_ib$_ic$_ie$_ig$_ih$_ip$_iv$_iw$_iz$_i}$_i!P$_i!S$_i!T$_i!U$_i!V$_i!W$_i!X$_i!Y$_i!Z$_i![$_i!]$_i!^$_i!_$_i!u$_i!z$_i#f$_i#r$_i#t$_i#u$_i#y$_i#z$_i$W$_i$Y$_i$`$_i$c$_i$e$_i$h$_i$l$_i$n$_i$s$_i$u$_i$w$_i$y$_i$|$_i%O$_i%w$_i%}$_i&P$_i&R$_i&X$_i&t$_i|$_i$q$_i~Og^Oh^O$h#sO&P!wO&RWO~O!P+hO~P:|O!P+iO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!Z+nO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$q+oO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~O|+mO~P#)QOW&QXY&QXZ&QXu&QX!P&QX&viX&v&QX~P?XOWUXYUXZUXuUX!PUX&vUX&v&]X~P>lOW#tOu#uO&v#vO~OW&UXY%XXu&UX!P%XX&v&UX~OZ#XX~P#.VOY+uO!P+sO~O%Q(hO%U(iOZ$}i_$}i`$}ia$}ib$}ic$}ie$}ig$}ih$}ip$}iv$}iw$}iz$}i}$}i!P$}i!S$}i!T$}i!U$}i!V$}i!W$}i!X$}i!Y$}i!Z$}i![$}i!]$}i!^$}i!_$}i!u$}i!z$}i#f$}i#r$}i#t$}i#u$}i#y$}i#z$}i$W$}i$Y$}i$`$}i$c$}i$e$}i$h$}i$l$}i$n$}i$s$}i$u$}i$w$}i$y$}i$|$}i%O$}i%w$}i%}$}i&P$}i&R$}i&X$}i&t$}i|$}i$a$}i$q$}i~OZ+xO~O%Q(hO%U(iOZ%Vi_%Vi`%Via%Vib%Vic%Vie%Vig%Vih%Vip%Viv%Viw%Viz%Vi}%Vi!P%Vi!S%Vi!T%Vi!U%Vi!V%Vi!W%Vi!X%Vi!Y%Vi!Z%Vi![%Vi!]%Vi!^%Vi!_%Vi!u%Vi!z%Vi#f%Vi#r%Vi#t%Vi#u%Vi#y%Vi#z%Vi$W%Vi$Y%Vi$`%Vi$c%Vi$e%Vi$h%Vi$l%Vi$n%Vi$s%Vi$u%Vi$w%Vi$y%Vi$|%Vi%O%Vi%w%Vi%}%Vi&P%Vi&R%Vi&X%Vi&t%Vi|%Vi$a%Vi$q%Vi~Ou#OO%}TO}&oa!P&oa!m&oa~O!P,OO~Oo(tOq!fa&^!fa~Oq(vO&^&ma~O!m%gO}&li!P&li~O|,XO~P]OW,ZO~P5xOW&UXu&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UX~OZ#xO!P&UX~P#8^OW$gOZ#xO&v#vO~Op,]Ow,]O~Oq,^O}&rX!P&rX~O!b,`O#]#wOY&UXZ#XX~P#8^OY&SXq&SX|&SX!P&SX~P9oO})]O|&yP~P:|OY&SXg%[Xh%[X%}%[X&P%[X&R%[Xq&SX|&SX!P&SX~Oq,cOY&zX~OY,eO~O})fO|&kP~P:|Oq&jX!P&jX|&jXY&jX~P9oO&bTa~PC[Oo)oOp)oOqna&^na~Oq)pO&^&`a~OW,mO~Ow,nO~Ou#OO%}TO&P,rO&R,qO~Og^Oh^Ov#pO!u#rO&P!wO&RWO&t#oO~Og^Oh^Ov{O|,wO!u}O%}TO&P!wO&RWO&tdO~PFdOw-SO&PSO&R!qO&_#YO~Oq*lOY&ea!P&ea~O#_ma#ama#bma#dma#ema#fma#gma#hma#ima#kma#oma#rma&_ma#pmasma|ma~PEnO|-WO~P$wOZ#xO}'^Oq!|X|!|X!P!|X~Oq-[O|&sX!P&sX~O|-_O!P-^O~O&_!hO~P5VOg^Oh^Ov{O|-cO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdOs-dO~P9oOs-dO~P:|O}'^OW&dqu&dq!P&dq#_&dq#a&dq#b&dq#d&dq#e&dq#f&dq#g&dq#h&dq#i&dq#k&dq#o&dq#r&dq&^&dq&_&dq&n&dq&v&dqY&dq#p&dqs&dqq&dq|&dq~O|-hO~P##nO!W-lO$O-lO&PSO&R!qO~O!P-oO~O$Z-pO&PSO&R!qO~O!b%vO#p-rOq!`X!P!`X~O!P-tO~P9oO!P-tO~P:|O!P-wO~P9oO|-yO~P#)QO![$aO#p-zO~O!P-|O~O!b-}O~OY.QOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOY.QO!P.RO~O%Q(hO%U(iOZ%Vq_%Vq`%Vqa%Vqb%Vqc%Vqe%Vqg%Vqh%Vqp%Vqv%Vqw%Vqz%Vq}%Vq!P%Vq!S%Vq!T%Vq!U%Vq!V%Vq!W%Vq!X%Vq!Y%Vq!Z%Vq![%Vq!]%Vq!^%Vq!_%Vq!u%Vq!z%Vq#f%Vq#r%Vq#t%Vq#u%Vq#y%Vq#z%Vq$W%Vq$Y%Vq$`%Vq$c%Vq$e%Vq$h%Vq$l%Vq$n%Vq$s%Vq$u%Vq$w%Vq$y%Vq$|%Vq%O%Vq%w%Vq%}%Vq&P%Vq&R%Vq&X%Vq&t%Vq|%Vq$a%Vq$q%Vq~Ou#OO%}TO}&oi!P&oi!m&oi~O&n&bOq!ga&^!ga~O!m%gO}&lq!P&lq~O|.^O~P]Op.`Ow&vOz&tO&PSO&R!qO&_#YO~O!P.aO~Oq,^O}&ra!P&ra~O})]O~P:|Oq.gO|&yX~O|.iO~Oq,cOY&za~Oq.mO|&kX~O|.oO~Ow.pO~Oq!aXu!aX!P!aX!b!aX%}!aX~OZ&QX~P#N{OZUX~P#N{O!P.qO~OZ.rO~OW^yZ#XXu^y!P^y!b^y#]^y#_^y#a^y#b^y#d^y#e^y#f^y#g^y#h^y#i^y#k^y#o^y#r^y&^^y&_^y&n^y&v^yY^y#p^ys^yq^y|^y~OY%`aq%`a!P%`a~P9oO!P#nyY#ny#p#nys#nyq#ny|#ny~P9oO}'^Oq!|a|!|a!P!|a~OZ#xO}'^Oq!|a|!|a!P!|a~O%}TO&P#SO&R#SOq%jX|%jX!P%jX~PFdOq-[O|&sa!P&sa~O|!}X~P$wO|/PO~Os/QO~P9oOW%jO!P/RO~OW%jO$Q/WO&PSO&R!qO!P&|P~OW%jO$U/XO~O!P/YO~O!b%vO#p/[Oq!`X!P!`X~OY/^O~O!P/_O~P9oO#p/`O~P9oO!b/bO~OY/cOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOW#[Ou&[X%}&[X&P&[X&R&[X'O&[X~O&_#YO~P$)QOu#OO%}TO'O/eO&P%SX&R%SX~O&n&bOq!gi&^!gi~Op/iO&PSO&R!qO~OW*iOZ#xO~O!P/kO~OY&SXq&SX~P9oO})]Oq%nX|%nX~P:|Oq.gO|&ya~O!b/nO~O})fOq%cX|%cX~P:|Oq.mO|&ka~OY/qO~O!P/rO~OZ/sO~O}'^Oq!|i|!|i!P!|i~O|!}a~P$wOW%jO!P/wO~OW%jOq/xO!P&|X~OY/|O~P9oOY0OO~OY%Xq!P%Xq~P9oO'O/eO&P%Sa&R%Sa~OY0TO~O!P0WO~Ou#OO!P0YO!Z0ZO%}TO~OY0[O~Oq/xO!P&|a~O!P0_O~OW%jOq/xO!P&}X~OY0aO~P9oOY0bO~OY%Xy!P%Xy~P9oOu#OO%}TO&P%ua&R%ua'O%ua~OY0cO~O!P0dO~Ou#OO!P0eO!Z0fO%}TO~OW%jOq%ra!P%ra~Oq/xO!P&}a~O!P0jO~Ou#OO!P0jO!Z0kO%}TO~O!P0lO~O!P0nO~O#p&QXY&QXs&QXq&QX|&QX~P&bO#pUXYUXsUXqUX|UX~P(iO`Q_P#g&Xc~",goto:"#+S'OPPPP'P'd*x.OP'dPP.d.h0PPPPPP1nP3ZPP4v7l:[<z=d?[PPP?bPA{PPPBu3ZPDqPPElPFcFkPPPPPPPPPPPPGvH_PKjKrLOLjLpLvNiNmNmNuP! U!!^!#R!#]P!#r!!^P!#x!$S!!y!$cP!%S!%^!%d!!^!%g!%mFcFc!%q!%{!&O3Z!'m3Z3Z!)iP.hP!)mPP!*_PPPPPP.hP.h!+O.hPP.hP.hPP.h!,g!,qPP!,w!-QPPPPPPPP'PP'PPP!-U!-U!-i!-UPP!-UP!-UP!.S!.VP!-U!.m!-UP!-UP!.p!.sP!-UP!-UP!-UP!-UP!-U!-UP!-UP!.wP!.}!/Q!/WP!-U!/d!/gP!/o!0R!4T!4Z!4a!5g!5m!5{!7R!7X!7_!7i!7o!7u!7{!8R!8X!8_!8e!8k!8q!8w!8}!9T!9_!9e!9o!9uPPP!9{!-U!:pP!>WP!?[P!Ap!BW!E]3ZPPP!F|!Jm!MaPP#!P#!SP#$`#$f#&V#&f#&n#'p#(Y#)T#)^#)a#)oP#)r#*OP#*V#*^P#*aP#*lP#*o#*r#*u#*y#+PstOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y'urOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%k%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)])f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,`,u-[-^-a-r-t-}.R.V.g.m/O/[/_/b/d/n/q0R0X0Z0[0f0h0k0r#xhO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kt!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oQ#mdS&Y#`(}Q&l#oU&q#t$g,ZQ&x#vW(b%O+s.R/dU)Y%j'v+bQ)Z%kS)u&S,WU*f&s-R._Q*k&yQ,t*TQ-P*iQ.j,cR.t,uu!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oT%l!r)l#{qO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k#zlO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kX(c%O+s.R/d$TVO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k$TkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rQ&Q#[Q)s&RV.T+x.X/e&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.T+x.X/e&O]OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.U+x.X/eS#Z[.TS$f!O&tS&s#t$gQ&y#vQ)V%dQ-R*iR._,Z$kZO`copx!Y![!_!a#Y#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$_$l$m$n$o$p$q%O%d%g%k%v&b&d'_'`'i'm(O(T(U(t)Q)R)])f)o)p*P*l*o+T+d+h+i+l+o+s,Y,^,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ&O#YR,k)p&P_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0r!o#QY!e!x#R#T#`#n$]%R%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0h$SkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ$m!UQ$n!VQ$s!ZQ$|!`R+p(WQ#yiS'q$e*hQ*e&rQ+X'rS,[)T)UQ-O*gQ-Y*vQ.b,]Q.x-QQ.{-ZQ/j.`Q/u.yR0V/iQ'a$bW*[&m'b'c'dQ+W'qU,x*]*^*_Q-X*vQ-f+XS.u,y,zS.z-Y-ZQ/t.vR/v.{]!mP!o'^*q-^/OreOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!gP!o'^*q-^/OW#b`#e%b&]Q'}$oW(d%O+s.R/dS*U&i*WS*w'e-[S*|'h+OR.X+xh#VY!W!e#n#s%V'|*T*z+f,u-aQ)j%wQ)v&WR,o)y#xnOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k^!kP!g!o'^*q-^/Ov#TY!W#`#n#s%w&W&[&`'|(`(})y*T+f+r,u.W/hQ#g`Q$b{Q$c|Q$d}W%S!e%V*z-aS%Y!h(vQ%`!iQ&m#pQ&n#qQ&o#rQ(u%ZS(y%^({Q*R&eS*v'e-[R-Z*wU)h%v)f.mR+V'p[!mP!o'^*q-^/OT*}'h+O^!iP!g!o'^*q-^/OQ'd$bQ'l$dQ*_&mQ*d&oV*{'h*|+OQ%[!hR,S(vQ(s%YR,R(u#znO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%c!kS(l%S(yR(|%`T#e`%bU#c`#e%bR)z&]Q%f!lQ(n%UQ(r%XQ,U(zR.],VrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OQ%P!bQ%a!jQ%i!pQ'[$ZQ([$|Q(k%QQ(p%WQ+z(iR.Y+yrtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OS*V&i*WT*}'h+OQ'c$bS*^&m'dR,z*_Q'b$bQ'g$cU*]&m'c'dQ*a&nS,y*^*_R.v,zQ*u'`R+Q'iQ'k$dS*c&o'lR,}*dQ'j$dU*b&o'k'lS,|*c*dR.w,}rtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OT*}'h+OQ'f$cS*`&n'gR,{*aQ*x'eR.|-[R-`*yQ&j#mR*Z&lT*V&i*WQ%e!lS(q%X%fR,P(rR)R%dWk%O+s.R/d#{lO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k$SiO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kU&r#t$g,ZS*g&s._Q-Q*iR.y-RT'o$e'p!_#|m#a$r$z$}&w&z&{'O'P'Q'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q!]$Pm#a$r$z$}&w&z&{'O'P'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q#{nO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0ka)^%k)],`.g/n0Z0f0kQ)`%kR.k,cQ't$hQ)b%oR,f)cT+Y's+ZsvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YruOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YQ$w!]R$y!^R$p!XrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YR(O$oR$q!XR(V$sT+k(U+lX(f%P(g(k+{R+y(hQ.W+xR/h.XQ(j%PQ+w(gQ+|(kR.Z+{R%Q!bQ(e%OV.P+s.R/dQxOQ#lcW$`x#l)Q,YQ)Q%dR,Y)RrXOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Yn!fP!o#e&]&i'^'e'h*W*q+O+x-[-^/Ol!zX!f#P#_#i$[%Z%_%{&R'n'{)O0r!j#PY!e!x#T#`#n$]%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0hQ#_`Q#ia#d$[op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%g%k%v&b&d'_'`'i'm(O(T(t)])f)o*P*l*o+T+h+i+o,^,`-r-t-}.g.m/[/_/b/n0Z0f0kS%Z!h(vS%_!i*{S%{#Y)pQ&R#[S'n$e'pY'{$o%O+s.R/dQ)O%bR0r$YQ!uUR%m!uQ)q&OR,l)q^#RY#`$]'X'|(`*px%R!e!x#n%V%^%|&S&[&`({(}*T*z+f+r,W,u-a.V0R[%t#R%R%u+}0X0hS%u#T%SQ+}(lQ0X/qR0h0[Q*m&{R-U*mQ!oPU%h!o*q/OQ*q'^R/O-^!pbOP`cx![!o#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h(U)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dY!yX!f#_'{)OT#jb!yQ.n,gR/p.nQ%x#VR)k%xQ&c#fS*O&c.[R.[,QQ(w%[R,T(wQ&^#cR){&^Q,_)WR.d,_Q+O'hR-b+OQ-]*xR.}-]Q*W&iR,v*WQ'p$eR+U'pQ&f#gR*S&fQ.h,aR/m.hQ,d)`R.l,dQ+Z'sR-g+ZQ-k+]R/T-kQ/y/US0^/y0`R0`/{Q+l(UR-x+lQ(g%PS+v(g+{R+{(kQ/f.VR0S/fQ+t(eR.S+t`wOcx#l%d)Q)R,YQ$t![Q']$_Q'y$mQ'z$nQ(Q$pQ(R$qS+k(U+lR-q+d'dsOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,u-[-^-a-r-t-}.R.V.m/O/[/_/b/d/q0R0X0[0h0ra)_%k)],`.g/n0Z0f0kQ!rTQ$h!QQ$i!SQ$j!TQ%o!{Q%q!}Q'x$kQ)c%pQ)l0oS-i+]+_Q-m+^Q-n+`Q/S-kS/U-m/WQ/{/XR0]/x%uSOT`cdopx!Q!S!T!Y![!_!a!{!}#`#l#o#t#u#v#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$g$k$l$m$n$o$p$q%O%d%j%k%p%v&S&d&s&y'm'v(O(T(U(})Q)R)])f*P*T*i*l*o+T+]+^+_+`+b+d+h+i+l+o+s,W,Y,Z,`,c,u-R-k-m-r-t-}.R._.g.m/W/X/[/_/b/d/n/x0Z0f0k0oQ)a%kQ,a)]S.f,`/nQ/l.gQ0g0ZQ0i0fR0m0krmOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YS#a`$lQ$WoQ$^pQ$r!YQ$z!_Q$}!aQ&w#uQ&z#wY&{#x$o+h-t/_Q&}#|Q'O#}Q'P$OQ'Q$PQ'R$QQ'S$RQ'T$SQ'U$TQ'V$UQ'W$VQ'Z$Z^)[%k)].g/n0Z0f0kU)g%v)f.mQ*Q&dQ+S'mQ+g(OQ+j(TQ,p*PQ-T*lQ-V*oQ-e+TQ-v+iQ-{+oQ.e,`Q/Z-rQ/a-}Q/}/[R0Q/b#xgO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kW(a%O+s.R/dR)S%drYOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!eP!o'^*q-^/OW!xX$[%{'{Q#``Q#ne#S$]op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%k%v&d'm(O(T)])f*P*l*o+T+h+i+o,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%V!gS%^!i*{d%|#Y%g&b'_'`'i(t)o)p,^Q&S#_Q&[#bS&`#e&]Q'X$YQ'|$oW(`%O+s.R/dQ({%_Q(}%bS*T&i*WQ*p0rS*z'h+OQ+f'}Q+r(dQ,W)OQ,u*UQ-a*|S.V+x.XR0R/e&O_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rQ$e!OQ'r$fR*h&t&ZWOPX`ceopx!O!Y![!_!a!g!i!o#Y#[#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&R&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rR&P#Y$QjOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ#f`Q&O#YQ'Y$YU)W%g'`'iQ)}&bQ*s'_Q,Q(tQ,j)oQ,k)pR.c,^Q)n%}R,i)m$SfO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kT&p#t,ZQ&|#xQ(P$oQ-u+hQ/]-tR0P/_]!nP!o'^*q-^/O#PaOPX`bcx![!f!o!y#_#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h'{(U)O)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dU#WY!W'|Q%T!eU&k#n#s+fQ(o%VS,s*T*zT.s,u-aj#UY!W!e#n#s%V%w&W)y*T*z,u-aU&V#`&`(}Q)x&[Q+e'|Q+q(`Q-s+fQ.O+rQ/g.WR0U/hQ)i%vQ,g)fR/o.mR,h)f`!jP!o'^'h*q+O-^/OT%W!g*|R%]!hW%U!e%V*z-aQ(z%^R,V({S#d`%bR&a#eQ)X%gT*t'`'iR*y'e[!lP!o'^*q-^/OR%X!gR#h`R,b)]R)a%kT-j+]-kQ/V-mR/z/WR/z/X",nodeNames:"\u26a0 LineComment BlockComment Program ModuleDeclaration MarkerAnnotation Identifier ScopedIdentifier . Annotation ) ( AnnotationArgumentList AssignmentExpression FieldAccess IntegerLiteral FloatingPointLiteral BooleanLiteral CharacterLiteral StringLiteral TextBlock null ClassLiteral void PrimitiveType TypeName ScopedTypeName GenericType TypeArguments AnnotatedType Wildcard extends super , ArrayType ] Dimension [ class this ParenthesizedExpression ObjectCreationExpression new ArgumentList } { ClassBody ; FieldDeclaration Modifiers public protected private abstract static final strictfp default synchronized native transient volatile VariableDeclarator Definition AssignOp ArrayInitializer MethodDeclaration TypeParameters TypeParameter TypeBound FormalParameters ReceiverParameter FormalParameter SpreadParameter Throws throws Block ClassDeclaration Superclass SuperInterfaces implements InterfaceTypeList InterfaceDeclaration interface ExtendsInterfaces InterfaceBody ConstantDeclaration EnumDeclaration enum EnumBody EnumConstant EnumBodyDeclarations AnnotationTypeDeclaration AnnotationTypeBody AnnotationTypeElementDeclaration StaticInitializer ConstructorDeclaration ConstructorBody ExplicitConstructorInvocation ArrayAccess MethodInvocation MethodName MethodReference ArrayCreationExpression Dimension AssignOp BinaryExpression CompareOp CompareOp LogicOp LogicOp BitOp BitOp BitOp ArithOp ArithOp ArithOp BitOp InstanceofExpression instanceof LambdaExpression InferredParameters TernaryExpression LogicOp : UpdateExpression UpdateOp UnaryExpression LogicOp BitOp CastExpression ElementValueArrayInitializer ElementValuePair open module ModuleBody ModuleDirective requires transitive exports to opens uses provides with PackageDeclaration package ImportDeclaration import Asterisk ExpressionStatement LabeledStatement Label IfStatement if else WhileStatement while ForStatement for ForSpec LocalVariableDeclaration var EnhancedForStatement ForSpec AssertStatement assert SwitchStatement switch SwitchBlock SwitchLabel case DoStatement do BreakStatement break ContinueStatement continue ReturnStatement return SynchronizedStatement ThrowStatement throw TryStatement try CatchClause catch CatchFormalParameter CatchType FinallyClause finally TryWithResourcesStatement ResourceSpecification Resource ClassContent",maxTerm:276,nodeProps:[["isolate",-4,1,2,18,19,""],["group",-26,4,47,76,77,82,87,92,145,147,150,151,153,156,158,161,163,165,167,172,174,176,178,180,181,183,191,"Statement",-25,6,13,14,15,16,17,18,19,20,21,22,39,40,41,99,100,102,103,106,118,120,122,125,127,130,"Expression",-7,23,24,25,26,27,29,34,"Type"],["openedBy",10,"(",44,"{"],["closedBy",11,")",45,"}"]],propSources:[Hj],skippedNodes:[0,1,2],repeatNodeCount:28,tokenData:"#$f_R!_OX%QXY'fYZ)bZ^'f^p%Qpq'fqr*|rs,^st%Qtu4euv5qvw7Rwx8ixyAQyzAnz{B[{|CQ|}Dh}!OEU!O!PFo!P!Q! i!Q!R!,_!R![!0V![!]!>g!]!^!?w!^!_!@e!_!`!BO!`!a!Br!a!b!D`!b!c!EO!c!}!Kz!}#O!MW#O#P%Q#P#Q!Mt#Q#R!Nb#R#S4e#S#T%Q#T#o4e#o#p# U#p#q# r#q#r##[#r#s##x#s#y%Q#y#z'f#z$f%Q$f$g'f$g#BY%Q#BY#BZ'f#BZ$IS%Q$IS$I_'f$I_$I|%Q$I|$JO'f$JO$JT%Q$JT$JU'f$JU$KV%Q$KV$KW'f$KW&FU%Q&FU&FV'f&FV;'S%Q;'S;=`&s<%lO%QS%VV&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS%qO&YSS%tVOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZS&^VOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS&vP;=`<%l%QS&|UOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZS'cP;=`<%l&Z_'mk&YS%yZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qs#y%Q#y#z'f#z$f%Q$f$g'f$g#BY%Q#BY#BZ'f#BZ$IS%Q$IS$I_'f$I_$I|%Q$I|$JO'f$JO$JT%Q$JT$JU'f$JU$KV%Q$KV$KW'f$KW&FU%Q&FU&FV'f&FV;'S%Q;'S;=`&s<%lO%Q_)iY&YS%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XZ*^Y%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XV+TX#tP&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QU+wV#_Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT,aXOY,|YZ%lZr,|rs3Ys#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T-PXOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT-qX&YSOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT.cVcPOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZT.}V&YSOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT/iW&YSOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0UWOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0sOcPP0vTOY0RYZ0RZ;'S0R;'S;=`1V<%lO0RP1YP;=`<%l0RT1`XOY,|YZ%lZr,|rs1{s#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T2QUcPOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZT2gVOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT3PP;=`<%l-lT3VP;=`<%l,|T3_VcPOY&ZYZ%lZr&Zrs3ts;'S&Z;'S;=`'`<%lO&ZT3yR&WSXY4SYZ4`pq4SP4VRXY4SYZ4`pq4SP4eO&XP_4la&PZ&YSOY%QYZ%lZr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o;'S%Q;'S;=`&s<%lO%QU5xX#hQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6e!`;'S%Q;'S;=`&s<%lO%QU6lV#]Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV7YZ&nR&YSOY%QYZ%lZr%Qrs%qsv%Qvw7{w!_%Q!_!`6e!`;'S%Q;'S;=`&s<%lO%QU8SV#aQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT8nZ&YSOY9aYZ%lZr9ars:osw9awx%Qx#O9a#O#P;y#P;'S9a;'S;=`@z<%lO9aT9fX&YSOY%QYZ%lZr%Qrs%qsw%Qwx:Rx;'S%Q;'S;=`&s<%lO%QT:YVbP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT:rXOY&ZYZ%lZr&Zrs&ysw&Zwx;_x;'S&Z;'S;=`'`<%lO&ZT;dVbPOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT<OZ&YSOY<qYZ%lZr<qrs=isw<qwx9ax#O<q#O#P9a#P;'S<q;'S;=`?T<%lO<qT<vZ&YSOY<qYZ%lZr<qrs=isw<qwx:Rx#O<q#O#P%Q#P;'S<q;'S;=`?T<%lO<qT=lZOY>_YZ%lZr>_rs?Zsw>_wx;_x#O>_#O#P&Z#P;'S>_;'S;=`@t<%lO>_T>bZOY<qYZ%lZr<qrs=isw<qwx:Rx#O<q#O#P%Q#P;'S<q;'S;=`?T<%lO<qT?WP;=`<%l<qT?^ZOY>_YZ%lZr>_rs@Psw>_wx;_x#O>_#O#P&Z#P;'S>_;'S;=`@t<%lO>_P@SVOY@PZw@Pwx@ix#O@P#P;'S@P;'S;=`@n<%lO@PP@nObPP@qP;=`<%l@PT@wP;=`<%l>_T@}P;=`<%l9a_AXVZZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVAuVYR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBeX$ZP&YS#gQOY%QYZ%lZr%Qrs%qs!_%Q!_!`6e!`;'S%Q;'S;=`&s<%lO%QVCXZ#fR&YSOY%QYZ%lZr%Qrs%qs{%Q{|Cz|!_%Q!_!`6e!`;'S%Q;'S;=`&s<%lO%QVDRV#rR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVDoVqR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVE][#fR&YSOY%QYZ%lZr%Qrs%qs}%Q}!OCz!O!_%Q!_!`6e!`!aFR!a;'S%Q;'S;=`&s<%lO%QVFYV&xR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_FvZWY&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PGi!P!Q%Q!Q![Hw![;'S%Q;'S;=`&s<%lO%QVGnX&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PHZ!P;'S%Q;'S;=`&s<%lO%QVHbV&qR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTIOc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Hw![!f%Q!f!gJZ!g!hJw!h!iJZ!i#R%Q#R#SNq#S#W%Q#W#XJZ#X#YJw#Y#ZJZ#Z;'S%Q;'S;=`&s<%lO%QTJbV&YS`POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTJ|]&YSOY%QYZ%lZr%Qrs%qs{%Q{|Ku|}%Q}!OKu!O!Q%Q!Q![Lg![;'S%Q;'S;=`&s<%lO%QTKzX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lg![;'S%Q;'S;=`&s<%lO%QTLnc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lg![!f%Q!f!gJZ!g!h%Q!h!iJZ!i#R%Q#R#SMy#S#W%Q#W#XJZ#X#Y%Q#Y#ZJZ#Z;'S%Q;'S;=`&s<%lO%QTNOZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lg![#R%Q#R#SMy#S;'S%Q;'S;=`&s<%lO%QTNvZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Hw![#R%Q#R#SNq#S;'S%Q;'S;=`&s<%lO%Q_! p]&YS#gQOY%QYZ%lZr%Qrs%qsz%Qz{!!i{!P%Q!P!Q!)[!Q!_%Q!_!`6e!`;'S%Q;'S;=`&s<%lO%Q_!!nX&YSOY!!iYZ!#ZZr!!irs!$vsz!!iz{!&U{;'S!!i;'S;=`!'j<%lO!!i_!#`T&YSOz!#oz{!$R{;'S!#o;'S;=`!$p<%lO!#oZ!#rTOz!#oz{!$R{;'S!#o;'S;=`!$p<%lO!#oZ!$UVOz!#oz{!$R{!P!#o!P!Q!$k!Q;'S!#o;'S;=`!$p<%lO!#oZ!$pOQZZ!$sP;=`<%l!#o_!$yXOY!%fYZ!#ZZr!%frs!'psz!%fz{!(`{;'S!%f;'S;=`!)U<%lO!%f_!%iXOY!!iYZ!#ZZr!!irs!$vsz!!iz{!&U{;'S!!i;'S;=`!'j<%lO!!i_!&ZZ&YSOY!!iYZ!#ZZr!!irs!$vsz!!iz{!&U{!P!!i!P!Q!&|!Q;'S!!i;'S;=`!'j<%lO!!i_!'TV&YSQZOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!'mP;=`<%l!!i_!'sXOY!%fYZ!#ZZr!%frs!#osz!%fz{!(`{;'S!%f;'S;=`!)U<%lO!%f_!(cZOY!!iYZ!#ZZr!!irs!$vsz!!iz{!&U{!P!!i!P!Q!&|!Q;'S!!i;'S;=`!'j<%lO!!i_!)XP;=`<%l!%f_!)cV&YSPZOY!)[YZ%lZr!)[rs!)xs;'S!)[;'S;=`!+O<%lO!)[_!)}VPZOY!*dYZ%lZr!*drs!+Us;'S!*d;'S;=`!,X<%lO!*d_!*iVPZOY!)[YZ%lZr!)[rs!)xs;'S!)[;'S;=`!+O<%lO!)[_!+RP;=`<%l!)[_!+ZVPZOY!*dYZ%lZr!*drs!+ps;'S!*d;'S;=`!,X<%lO!*dZ!+uSPZOY!+pZ;'S!+p;'S;=`!,R<%lO!+pZ!,UP;=`<%l!+p_!,[P;=`<%l!*dT!,fu&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!.y!P!Q%Q!Q![!0V![!d%Q!d!e!3a!e!f%Q!f!gJZ!g!hJw!h!iJZ!i!n%Q!n!o!1{!o!q%Q!q!r!5_!r!z%Q!z!{!7V!{#R%Q#R#S!2i#S#U%Q#U#V!3a#V#W%Q#W#XJZ#X#YJw#Y#ZJZ#Z#`%Q#`#a!1{#a#c%Q#c#d!5_#d#l%Q#l#m!7V#m;'S%Q;'S;=`&s<%lO%QT!/Qa&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Hw![!f%Q!f!gJZ!g!hJw!h!iJZ!i#W%Q#W#XJZ#X#YJw#Y#ZJZ#Z;'S%Q;'S;=`&s<%lO%QT!0^i&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!.y!P!Q%Q!Q![!0V![!f%Q!f!gJZ!g!hJw!h!iJZ!i!n%Q!n!o!1{!o#R%Q#R#S!2i#S#W%Q#W#XJZ#X#YJw#Y#ZJZ#Z#`%Q#`#a!1{#a;'S%Q;'S;=`&s<%lO%QT!2SV&YS_POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT!2nZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!0V![#R%Q#R#S!2i#S;'S%Q;'S;=`&s<%lO%QT!3fY&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4U!R!S!4U!S;'S%Q;'S;=`&s<%lO%QT!4]`&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4U!R!S!4U!S!n%Q!n!o!1{!o#R%Q#R#S!3a#S#`%Q#`#a!1{#a;'S%Q;'S;=`&s<%lO%QT!5dX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6P!Y;'S%Q;'S;=`&s<%lO%QT!6W_&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6P!Y!n%Q!n!o!1{!o#R%Q#R#S!5_#S#`%Q#`#a!1{#a;'S%Q;'S;=`&s<%lO%QT!7[_&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!P!8Z!P!Q%Q!Q![!:i![!c%Q!c!i!:i!i#T%Q#T#Z!:i#Z;'S%Q;'S;=`&s<%lO%QT!8`]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9X![!c%Q!c!i!9X!i#T%Q#T#Z!9X#Z;'S%Q;'S;=`&s<%lO%QT!9^c&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9X![!c%Q!c!i!9X!i!r%Q!r!sJw!s#R%Q#R#S!8Z#S#T%Q#T#Z!9X#Z#d%Q#d#eJw#e;'S%Q;'S;=`&s<%lO%QT!:pi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!<_!P!Q%Q!Q![!:i![!c%Q!c!i!:i!i!n%Q!n!o!1{!o!r%Q!r!sJw!s#R%Q#R#S!=i#S#T%Q#T#Z!:i#Z#`%Q#`#a!1{#a#d%Q#d#eJw#e;'S%Q;'S;=`&s<%lO%QT!<da&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9X![!c%Q!c!i!9X!i!r%Q!r!sJw!s#T%Q#T#Z!9X#Z#d%Q#d#eJw#e;'S%Q;'S;=`&s<%lO%QT!=n]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!:i![!c%Q!c!i!:i!i#T%Q#T#Z!:i#Z;'S%Q;'S;=`&s<%lO%QV!>nX#pR&YSOY%QYZ%lZr%Qrs%qs![%Q![!]!?Z!];'S%Q;'S;=`&s<%lO%QV!?bV&vR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!@OV!PR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!@lY&_Z&YSOY%QYZ%lZr%Qrs%qs!^%Q!^!_!A[!_!`+p!`;'S%Q;'S;=`&s<%lO%QU!AcX#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6e!`;'S%Q;'S;=`&s<%lO%QV!BVX!bR&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QV!ByY&^R&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`!a!Ci!a;'S%Q;'S;=`&s<%lO%QU!CpY#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6e!`!a!A[!a;'S%Q;'S;=`&s<%lO%Q_!DiV&bX#oQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!EVX%}Z&YSOY%QYZ%lZr%Qrs%qs#]%Q#]#^!Er#^;'S%Q;'S;=`&s<%lO%QV!EwX&YSOY%QYZ%lZr%Qrs%qs#b%Q#b#c!Fd#c;'S%Q;'S;=`&s<%lO%QV!FiX&YSOY%QYZ%lZr%Qrs%qs#h%Q#h#i!GU#i;'S%Q;'S;=`&s<%lO%QV!GZX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!Gv#Y;'S%Q;'S;=`&s<%lO%QV!G{X&YSOY%QYZ%lZr%Qrs%qs#f%Q#f#g!Hh#g;'S%Q;'S;=`&s<%lO%QV!HmX&YSOY%QYZ%lZr%Qrs%qs#Y%Q#Y#Z!IY#Z;'S%Q;'S;=`&s<%lO%QV!I_X&YSOY%QYZ%lZr%Qrs%qs#T%Q#T#U!Iz#U;'S%Q;'S;=`&s<%lO%QV!JPX&YSOY%QYZ%lZr%Qrs%qs#V%Q#V#W!Jl#W;'S%Q;'S;=`&s<%lO%QV!JqX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!K^#Y;'S%Q;'S;=`&s<%lO%QV!KeV&tR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!LRa&RZ&YSOY%QYZ%lZr%Qrs%qst%Qtu!Kzu!Q%Q!Q![!Kz![!c%Q!c!}!Kz!}#R%Q#R#S!Kz#S#T%Q#T#o!Kz#o;'S%Q;'S;=`&s<%lO%Q_!M_VuZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!M{VsR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QU!NiX#eQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6e!`;'S%Q;'S;=`&s<%lO%QV# ]V}R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_# {Z'OX#dQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6e!`#p%Q#p#q#!n#q;'S%Q;'S;=`&s<%lO%QU#!uV#bQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV##cV|R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT#$PV#uP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q",tokenizers:[0,1,2,3],topRules:{Program:[0,3],ClassContent:[1,194]},dynamicPrecedences:{27:1,232:-1,243:-1},specialized:[{term:231,get:t=>Kj[t]||-1}],tokenPrec:7144}),tU=1024;let eU=0;class nU{constructor(t,e){this.from=t,this.to=e}}class iU{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=eU++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=oU.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}iU.closedBy=new iU({deserialize:t=>t.split(" ")}),iU.openedBy=new iU({deserialize:t=>t.split(" ")}),iU.group=new iU({deserialize:t=>t.split(" ")}),iU.isolate=new iU({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),iU.contextHash=new iU({perNode:!0}),iU.lookAhead=new iU({perNode:!0}),iU.mounted=new iU({perNode:!0});class rU{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[iU.mounted.id]}}const sU=Object.create(null);class oU{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):sU,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new oU(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(iU.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(iU.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}oU.none=new oU("",Object.create(null),0,8);const aU=new WeakMap,lU=new WeakMap;var hU;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(hU||(hU={}));class cU{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=rU.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new kU(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=aU.get(this)||this.topNode,i=new kU(n);return i.moveTo(t,e),aU.set(this,i._tree),i}get topNode(){return new mU(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=pU(aU.get(this)||this.topNode,t,e,!1);return aU.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=pU(lU.get(this)||this.topNode,t,e,!0);return lU.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof mU?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=rU.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new mU(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(pU(o,e,n,!1))}}return r?wU(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&hU.IncludeAnonymous)>0;for(let a=this.cursor(s|hU.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:QU(oU.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new cU(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new cU(oU.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=tU,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new uU(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new dU(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=QU(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new dU(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof cU){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(iU.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[iU.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[iU.lookAhead,r];s=s?[t].concat(s):[t]}return new cU(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new cU(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}cU.empty=new cU(oU.none,[],[],0);class uU{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new uU(this.buffer,this.index)}}class dU{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return oU.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(fU(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new dU(r,s,this.set)}}function fU(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function pU(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof mU&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:hU.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof mU&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class gU{cursor(){return new kU(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=OU(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return OU(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return pU(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return pU(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return yU(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class mU extends gU{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(fU(i,n,h,h+l.length))if(l instanceof dU){if(r&hU.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new bU(new vU(s,l,t,h),null,o)}else if(r&hU.IncludeAnonymous||!l.type.isAnonymous||SU(l)){let o;if(!(r&hU.IgnoreMounts)&&(o=rU.get(l))&&!o.overlay)return new mU(o.tree,h,t,s);let a=new mU(l,h,t,s);return r&hU.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&hU.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&hU.IgnoreOverlays)&&(n=rU.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new mU(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function OU(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function yU(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class vU{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class bU extends gU{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new bU(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&hU.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new bU(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new bU(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new bU(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new cU(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function wU(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof mU&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new xU(r,n)}class xU{constructor(t,e){this.heads=t,this.node=e}get next(){return wU(this.heads)}}class kU{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof mU)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof mU?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&hU.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&hU.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&hU.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&hU.IncludeAnonymous||t instanceof dU||!t.type.isAnonymous||SU(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new bU(this.buffer,e,this.stack[i]);return this.bufferNode=new bU(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return yU(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return yU(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function SU(t){return t.children.some((t=>t instanceof dU||!t.type.isAnonymous||SU(t)))}const PU=new WeakMap;function _U(t,e){if(!t.isAnonymous||e instanceof dU||e.type!=t)return 1;let n=PU.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof cU)){n=1;break}n+=_U(t,i)}PU.set(e,n)}return n}function QU(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=_U(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=_U(t,n[h]);for(h++;h<o;h++){let e=_U(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(QU(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class TU{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[new TU(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=n)for(;s&&s.from<c;){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new TU(t,n,e.tree,e.offset+l,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class CU{startParse(t,e,n){return"string"==typeof t&&(t=new EU(t)),n=n?n.length?n.map((t=>new nU(t.from,t.to))):[new nU(0,0)]:[new nU(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class EU{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new iU({perNode:!0});let RU=0;class AU{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=RU++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new AU([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new NU;return e=>e.modified.indexOf(t)>-1?e:NU.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let $U=0;class NU{constructor(){this.instances=[],this.id=$U++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new AU(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(NU.get(o,t));return r}}function IU(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new DU(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return MU.add(e)}const MU=new iU;class DU{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function qU(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}DU.empty=new DU([],2,null);const jU=AU.define,UU=jU(),LU=jU(),WU=jU(LU),zU=jU(LU),VU=jU(),ZU=jU(VU),XU=jU(VU),YU=jU(),FU=jU(YU),BU=jU(),GU=jU(),HU=jU(),KU=jU(HU),JU=jU(),tL={comment:UU,lineComment:jU(UU),blockComment:jU(UU),docComment:jU(UU),name:LU,variableName:jU(LU),typeName:WU,tagName:jU(WU),propertyName:zU,attributeName:jU(zU),className:jU(LU),labelName:jU(LU),namespace:jU(LU),macroName:jU(LU),literal:VU,string:ZU,docString:jU(ZU),character:jU(ZU),attributeValue:jU(ZU),number:XU,integer:jU(XU),float:jU(XU),bool:jU(VU),regexp:jU(VU),escape:jU(VU),color:jU(VU),url:jU(VU),keyword:BU,self:jU(BU),null:jU(BU),atom:jU(BU),unit:jU(BU),modifier:jU(BU),operatorKeyword:jU(BU),controlKeyword:jU(BU),definitionKeyword:jU(BU),moduleKeyword:jU(BU),operator:GU,derefOperator:jU(GU),arithmeticOperator:jU(GU),logicOperator:jU(GU),bitwiseOperator:jU(GU),compareOperator:jU(GU),updateOperator:jU(GU),definitionOperator:jU(GU),typeOperator:jU(GU),controlOperator:jU(GU),punctuation:HU,separator:jU(HU),bracket:KU,angleBracket:jU(KU),squareBracket:jU(KU),paren:jU(KU),brace:jU(KU),content:YU,heading:FU,heading1:jU(FU),heading2:jU(FU),heading3:jU(FU),heading4:jU(FU),heading5:jU(FU),heading6:jU(FU),contentSeparator:jU(YU),list:jU(YU),quote:jU(YU),emphasis:jU(YU),strong:jU(YU),link:jU(YU),monospace:jU(YU),strikethrough:jU(YU),inserted:jU(),deleted:jU(),changed:jU(),invalid:jU(),meta:JU,documentMeta:jU(JU),annotation:jU(JU),processingInstruction:jU(JU),definition:AU.defineModifier(),constant:AU.defineModifier(),function:AU.defineModifier(),standard:AU.defineModifier(),local:AU.defineModifier(),special:AU.defineModifier()};qU([{tag:tL.link,class:"tok-link"},{tag:tL.heading,class:"tok-heading"},{tag:tL.emphasis,class:"tok-emphasis"},{tag:tL.strong,class:"tok-strong"},{tag:tL.keyword,class:"tok-keyword"},{tag:tL.atom,class:"tok-atom"},{tag:tL.bool,class:"tok-bool"},{tag:tL.url,class:"tok-url"},{tag:tL.labelName,class:"tok-labelName"},{tag:tL.inserted,class:"tok-inserted"},{tag:tL.deleted,class:"tok-deleted"},{tag:tL.literal,class:"tok-literal"},{tag:tL.string,class:"tok-string"},{tag:tL.number,class:"tok-number"},{tag:[tL.regexp,tL.escape,tL.special(tL.string)],class:"tok-string2"},{tag:tL.variableName,class:"tok-variableName"},{tag:tL.local(tL.variableName),class:"tok-variableName tok-local"},{tag:tL.definition(tL.variableName),class:"tok-variableName tok-definition"},{tag:tL.special(tL.variableName),class:"tok-variableName2"},{tag:tL.definition(tL.propertyName),class:"tok-propertyName tok-definition"},{tag:tL.typeName,class:"tok-typeName"},{tag:tL.namespace,class:"tok-namespace"},{tag:tL.className,class:"tok-className"},{tag:tL.macroName,class:"tok-macroName"},{tag:tL.propertyName,class:"tok-propertyName"},{tag:tL.operator,class:"tok-operator"},{tag:tL.comment,class:"tok-comment"},{tag:tL.meta,class:"tok-meta"},{tag:tL.invalid,class:"tok-invalid"},{tag:tL.punctuation,class:"tok-punctuation"}]);var eL;const nL=new iU;function iL(t){return Fm.define({combine:t?e=>e.concat(t):void 0})}const rL=new iU;class sL{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=t,this.name=i,MO.prototype.hasOwnProperty("tree")||Object.defineProperty(MO.prototype,"tree",{get(){return lL(this)}}),this.parser=e,this.extension=[OL.of(this),MO.languageData.of(((t,e,n)=>{let i=oL(t,e,n),r=i.type.prop(nL);if(!r)return[];let s=t.facet(r),o=i.type.prop(rL);if(o){let r=i.resolve(e-i.from,n);for(let e of o)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e){return oL(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(nL)==this.data}findRegions(t){let e=t.facet(OL);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(nL)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(iU.mounted);if(r){if(r.tree.prop(nL)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof cU&&i(r,t.positions[n]+e)}};return i(lL(t),0),n}get allowsNesting(){return!0}}function oL(t,e,n){let i=t.facet(OL),r=lL(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,hU.ExcludeBuffers))s.type.isTop&&(r=s);return r}sL.setState=SO.define();class aL extends sL{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=iL(t.languageData);return new aL(e,t.parser.configure({props:[nL.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new aL(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function lL(t){let e=t.field(sL.state,!1);return e?e.tree:cU.empty}class hL{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let cL=null;class uL{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new uL(t,e,[],cU.empty,0,n,[],null)}startParse(){return this.parser.startParse(new hL(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=cU.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(TU.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(TU.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=cL;cL=this;try{return t()}finally{cL=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=dL(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=TU.applyChanges(n,e),i=cU.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new uL(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:i}=this.skipped[n];e<t.to&&i>t.from&&(this.fragments=dL(this.fragments,e,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends CU{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=cL;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new cU(oU.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return cL}}function dL(t,e,n){return TU.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class fL{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new fL(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=uL.create(t.facet(OL).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new fL(n)}}sL.state=eO.define({create:fL.init,update(t,e){for(let n of e.effects)if(n.is(sL.setState))return n.value;return e.startState.facet(OL)!=e.state.facet(OL)?fL.init(e.state):t.apply(e)}});let pL=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(pL=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const gL="undefined"!=typeof navigator&&(null===(eL=navigator.scheduling)||void 0===eL?void 0:eL.isInputPending)?()=>navigator.scheduling.isInputPending():null,mL=hb.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(sL.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(sL.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=pL(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(sL.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!gL?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>gL&&gL()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:sL.setState.of(new fL(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>sb(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),OL=Fm.define({combine:t=>t.length?t[0]:null,enables:t=>[sL.state,mL,ox.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});class yL{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.language=t,this.support=e,this.extension=[t,e]}}const vL=new iU;function bL(t){let{closing:e,align:n=!0,units:i=1}=t;return t=>wL(t,n,i,e)}function wL(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?function(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let t=e.childAfter(a);if(!t||t==i)return null;if(!t.type.isSkipped)return t.from<o?n:null;a=t.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function xL(){let{except:t,units:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const kL=new iU;class SL{constructor(t,e){let n;function i(t){let e=sy.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof sL?t=>t.prop(nL)==s.data:s?t=>t==s:void 0,this.style=qU(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new sy(n):null,this.themeType=e.themeType}static define(t,e){return new SL(t,e||{})}}tL.meta,tL.link,tL.heading,tL.emphasis,tL.strong,tL.strikethrough,tL.keyword,tL.atom,tL.bool,tL.url,tL.contentSeparator,tL.labelName,tL.literal,tL.inserted,tL.string,tL.deleted,tL.regexp,tL.escape,tL.string,tL.variableName,tL.variableName,tL.typeName,tL.namespace,tL.className,tL.variableName,tL.macroName,tL.propertyName,tL.comment,tL.invalid;const PL=Object.create(null),_L=[oU.none],QL=[],TL=Object.create(null),CL=Object.create(null);for(let[Q5,T5]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])CL[Q5]=RL(PL,T5);function EL(t,e){QL.indexOf(t)>-1||(QL.push(t),console.warn(e))}function RL(t,e){let n=[];for(let a of e.split(" ")){let e=[];for(let n of a.split(".")){let i=t[n]||tL[n];i?"function"==typeof i?e.length?e=e.map(i):EL(n,"Modifier ".concat(n," used at start of tag")):e.length?EL(n,"Tag ".concat(n," used as modifier")):e=Array.isArray(i)?i:[i]:EL(n,"Unknown highlighting tag ".concat(n))}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),s=TL[r];if(s)return s.id;let o=TL[r]=oU.define({id:_L.length,name:i,props:[IU({[i]:n})]});return _L.push(o),o.id}_v.RTL,_v.LTR;const AL=aL.define({name:"java",parser:Jj.configure({props:[vL.add({IfStatement:xL({except:/^\s*({|else\b)/}),TryStatement:xL({except:/^\s*({|catch|finally)\b/}),LabeledStatement:t=>t.baseIndent,SwitchBlock:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:i?1:2)*t.unit},Block:bL({closing:"}"}),BlockComment:()=>null,Statement:xL({except:/^{/})}),kL.add({"Block SwitchBlock ClassBody ElementValueArrayInitializer ModuleBody EnumBody ConstructorBody InterfaceBody ArrayInitializer":function(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null},BlockComment:t=>({from:t.from+2,to:t.to-2})})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/}});const $L=1024;let NL=0;class IL{constructor(t,e){this.from=t,this.to=e}}class ML{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=NL++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=jL.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}ML.closedBy=new ML({deserialize:t=>t.split(" ")}),ML.openedBy=new ML({deserialize:t=>t.split(" ")}),ML.group=new ML({deserialize:t=>t.split(" ")}),ML.isolate=new ML({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),ML.contextHash=new ML({perNode:!0}),ML.lookAhead=new ML({perNode:!0}),ML.mounted=new ML({perNode:!0});class DL{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[ML.mounted.id]}}const qL=Object.create(null);class jL{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):qL,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new jL(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(ML.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(ML.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}jL.none=new jL("",Object.create(null),0,8);class UL{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(){let t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(let r of this.types){let e=null;for(let t of n){let n=t(r);n&&(e||(e=Object.assign({},r.props)),e[n[0].id]=n[1])}t.push(e?new jL(r.name,e,r.id,r.flags):r)}return new UL(t)}}const LL=new WeakMap,WL=new WeakMap;var zL;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(zL||(zL={}));class VL{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=DL.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new iW(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=LL.get(this)||this.topNode,i=new iW(n);return i.moveTo(t,e),LL.set(this,i._tree),i}get topNode(){return new GL(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=FL(LL.get(this)||this.topNode,t,e,!1);return LL.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=FL(WL.get(this)||this.topNode,t,e,!0);return WL.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof GL?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=DL.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new GL(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(FL(o,e,n,!1))}}return r?eW(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&zL.IncludeAnonymous)>0;for(let a=this.cursor(s|zL.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:aW(jL.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new VL(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new VL(jL.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=$L,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new ZL(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new XL(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=aW(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new XL(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof VL){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(ML.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[ML.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[ML.lookAhead,r];s=s?[t].concat(s):[t]}return new VL(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new VL(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}VL.empty=new VL(jL.none,[],[],0);class ZL{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ZL(this.buffer,this.index)}}class XL{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return jL.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(YL(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new XL(r,s,this.set)}}function YL(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function FL(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof GL&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:zL.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof GL&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class BL{cursor(){return new iW(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=HL(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return HL(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return FL(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return FL(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return KL(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class GL extends BL{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(YL(i,n,h,h+l.length))if(l instanceof XL){if(r&zL.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new tW(new JL(s,l,t,h),null,o)}else if(r&zL.IncludeAnonymous||!l.type.isAnonymous||rW(l)){let o;if(!(r&zL.IgnoreMounts)&&(o=DL.get(l))&&!o.overlay)return new GL(o.tree,h,t,s);let a=new GL(l,h,t,s);return r&zL.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&zL.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&zL.IgnoreOverlays)&&(n=DL.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new GL(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function HL(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function KL(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class JL{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class tW extends BL{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new tW(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&zL.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new tW(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new tW(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new tW(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new VL(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function eW(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof GL&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new nW(r,n)}class nW{constructor(t,e){this.heads=t,this.node=e}get next(){return eW(this.heads)}}class iW{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof GL)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof GL?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&zL.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&zL.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&zL.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&zL.IncludeAnonymous||t instanceof XL||!t.type.isAnonymous||rW(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new tW(this.buffer,e,this.stack[i]);return this.bufferNode=new tW(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return KL(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return KL(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function rW(t){return t.children.some((t=>t instanceof XL||!t.type.isAnonymous||rW(t)))}const sW=new WeakMap;function oW(t,e){if(!t.isAnonymous||e instanceof XL||e.type!=t)return 1;let n=sW.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof VL)){n=1;break}n+=oW(t,i)}sW.set(e,n)}return n}function aW(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=oW(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=oW(t,n[h]);for(h++;h<o;h++){let e=oW(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(aW(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class lW{startParse(t,e,n){return"string"==typeof t&&(t=new hW(t)),n=n?n.length?n.map((t=>new IL(t.from,t.to))):[new IL(0,0)]:[new IL(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class hW{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new ML({perNode:!0});class cW{constructor(t,e,n,i,r,s,o,a,l){let h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10?arguments[10]:void 0;this.p=t,this.stack=e,this.state=n,this.reducePos=i,this.pos=r,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}toString(){return"[".concat(this.stack.filter(((t,e)=>e%3==0)).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}static start(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.parser.context;return new cW(t,[],e,n,n,0,[],0,i?new uW(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,i=65535&t,{parser:r}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let o=r.dynamicPrecedence(i);if(o&&(this.score+=o),0==n)return this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),void this.reduceContext(i,this.reducePos);let a=this.stack.length-3*(n-1)-(262144&t?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(null===(e=this.p.parser.nodeSet.types[i])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-c;if(i<r.minRepeatTerm||131072&t){let t=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,t,u+4,!0)}if(262144&t)this.state=this.stack[a];else{let t=this.stack[a-3];this.state=r.getGoto(t,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,i=this.buffer.length;if(0==i&&t.parent&&(i=t.bufferBase-t.parent.bufferBase,t=t.parent),i>0&&0==t.buffer[i-4]&&t.buffer[i-1]>-1){if(e==n)return;if(t.buffer[i-2]>=e)return void(t.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4]){let t=!1;for(let e=r;e>0&&this.buffer[e-2]>n;e-=4)if(this.buffer[e-1]>=0){t=!0;break}if(t)for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4)}this.buffer[r]=t,this.buffer[r+1]=e,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(t,e,n,i)}shift(t,e,n,i){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let r=t,{parser:s}=this.p;(i>this.pos||e<=s.maxNode)&&(this.pos=i,s.stateFlag(r,1)||(this.reducePos=i)),this.pushState(r,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,i,4)}else this.pos=i,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,i,4)}apply(t,e,n,i){65536&t?this.reduce(t):this.shift(t,e,n,i)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(e,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),i=t.bufferBase+e;for(;t&&i==t.bufferBase;)t=t.parent;return new cW(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new dW(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(0==(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<e.length;r+=2)(i=e[r+1])!=this.state&&this.p.parser.hasAction(i,t)&&n.push(e[r],i);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let i=e[t+1];n.some(((t,e)=>1&e&&t==i))||n.push(e[t],i)}e=n}let n=[];for(let i=0;i<e.length&&n.length<4;i+=2){let t=e[i+1];if(t==this.state)continue;let r=this.split();r.pushState(t,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(e[i],this.pos),r.reducePos=this.pos,r.score-=200,n.push(r)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(0==(65536&e))return!1;if(!t.validAction(this.state,e)){let n=e>>19,i=65535&e,r=this.stack.length-3*n;if(r<0||t.getGoto(this.stack[r],i,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(i,r)=>{if(!e.includes(i))return e.push(i),t.allActions(i,(e=>{if(393216&e);else if(65536&e){let n=(e>>19)-r;if(n>1){let i=65535&e,r=this.stack.length-3*n;if(r>=0&&t.getGoto(this.stack[r],i,!1)>=0)return n<<19|65536|i}}else{let t=n(e,r+1);if(null!=t)return t}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new uW(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class uW{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class dW{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=i}}class fW{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.bufferBase+t.buffer.length;return new fW(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new fW(this.stack,this.pos,this.index)}}function pW(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof t)return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let e=t.charCodeAt(i++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let r=e-32;if(r>=46&&(r-=46,n=!0),s+=r,n)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class gW{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const mW=new gW;class OW{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=mW,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,i=this.rangeIndex,r=this.pos+t;for(;r<n.from;){if(!i)return null;let t=this.ranges[--i];r-=n.from-t.to,n=t}for(;e<0?r>n.to:r>=n.to;){if(i==this.ranges.length-1)return null;let t=this.ranges[++i];r+=t.from-n.to,n=t}return r}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,n,i=this.chunkOff+t;if(i>=0&&i<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(t,1);if(null==i)return-1;if(e=i,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,i=this.range;for(;i.to<=e;)i=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=mW,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let i of this.ranges){if(i.from>=e)break;i.to>t&&(n+=this.input.read(Math.max(i.from,t),Math.min(i.to,e)))}return n}}class yW{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;wW(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}yW.prototype.contextual=yW.prototype.fallback=yW.prototype.extend=!1;class vW{constructor(t,e,n){this.precTable=e,this.elseToken=n,this.data="string"==typeof t?pW(t):t}token(t,e){let n=t.pos,i=0;for(;;){let n=t.next<0,r=t.resolveOffset(1,1);if(wW(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(null==this.elseToken)return;if(n||i++,null==r)break;t.reset(r,t.token)}i&&(t.reset(n,t.token),t.acceptToken(this.elseToken,i))}}vW.prototype.contextual=yW.prototype.fallback=yW.prototype.extend=!1;class bW{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function wW(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;t:for(;0!=(a&t[o]);){let n=t[o+1];for(let u=o+3;u<n;u+=2)if((t[u+1]&a)>0){let n=t[u];if(l.allows(n)&&(-1==e.token.value||e.token.value==n||kW(n,e.token.value,r,s))){e.acceptToken(n);break}}let i=e.next,h=0,c=t[o+2];if(!(e.next<0&&c>h&&65535==t[n+3*c-3])){for(;h<c;){let r=h+c>>1,s=n+r+(r<<1),a=t[s],l=t[s+1]||65536;if(i<a)c=r;else{if(!(i>=l)){o=t[s+2],e.advance();continue t}h=r+1}}break}o=t[n+3*c-1]}}function xW(t,e,n){for(let i,r=e;65535!=(i=t[r]);r++)if(i==n)return r-e;return-1}function kW(t,e,n,i){let r=xW(n,i,e);return r<0||xW(n,i,t)<r}const SW="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/DYA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"/DYA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG);let PW=null;function _W(t,e,n){let i=t.cursor(zL.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class QW{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?_W(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?_W(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],i=this.index[e];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],s=this.start[e]+n.positions[i];if(s>t)return this.nextStart=s,null;if(r instanceof VL){if(s==t){if(s<this.safeFrom)return null;let t=s+r.length;if(t<=this.safeTo){let e=r.prop(ML.lookAhead);if(!e||t+e<this.fragment.to)return r}}this.index[e]++,s+r.length>=Math.max(this.safeFrom,t)&&(this.trees.push(r),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+r.length}}}class TW{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new gW))}getActions(t){let e=0,n=null,{parser:i}=t.p,{tokenizers:r}=i,s=i.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let l=0;l<r.length;l++){if(0==(1<<l&s))continue;let i=r[l],h=this.tokens[l];if((!n||i.fallback)&&((i.contextual||h.start!=t.pos||h.mask!=s||h.context!=o)&&(this.updateCachedToken(h,i,t),h.mask=s,h.context=o),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let r=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!i.extend&&(n=h,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),n||t.pos!=this.stream.end||(n=new gW,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new gW,{pos:n,p:i}=t;return e.start=n,e.end=Math.min(n+1,i.stream.end),e.value=n==i.stream.end?i.parser.eofTerm:0,e}updateCachedToken(t,e,n){let i=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(i,t),n),t.value>-1){let{parser:e}=n.p;for(let i=0;i<e.specialized.length;i++)if(e.specialized[i]==t.value){let r=e.specializers[i](this.stream.read(t.start,t.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){0==(1&r)?t.value=r>>1:t.extended=r>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,e,n,i){for(let r=0;r<i;r+=3)if(this.actions[r]==t)return i;return this.actions[i++]=t,this.actions[i++]=e,this.actions[i++]=n,i}addActions(t,e,n,i){let{state:r}=t,{parser:s}=t.p,{data:o}=s;for(let a=0;a<2;a++)for(let t=s.stateSlot(r,a?2:1);;t+=3){if(65535==o[t]){if(1!=o[t+1]){0==i&&2==o[t+1]&&(i=this.putAction(NW(o,t+2),e,n,i));break}t=NW(o,t+2)}o[t]==e&&(i=this.putAction(NW(o,t+1),e,n,i))}return i}}class CW{constructor(t,e,n,i){this.parser=t,this.input=e,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new OW(e,i),this.tokens=new TW(t,this.stream),this.topTerm=t.top[1];let{from:r}=i[0];this.stacks=[cW.start(this,t.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*t.bufferLength?new QW(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,i=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[t]=n;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>i)r.push(o);else{if(this.advanceStack(o,r,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!r.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return SW&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw SW&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,r);if(n)return SW&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(r.length>t)for(r.sort(((t,e)=>e.score-t.score));r.length>t;)r.pop();r.some((t=>t.reducePos>i))&&this.recovering--}else if(r.length>1){t:for(let t=0;t<r.length-1;t++){let e=r[t];for(let n=t+1;n<r.length;n++){let i=r[n];if(e.sameState(i)||e.buffer.length>500&&i.buffer.length>500){if(!((e.score-i.score||e.buffer.length-i.buffer.length)>0)){r.splice(t--,1);continue t}r.splice(n--,1)}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let i=t.pos,{parser:r}=this,s=SW?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(i);o;){let i=this.parser.nodeSet.types[o.type.id]==o.type?r.getGoto(t.state,o.type.id):-1;if(i>-1&&o.length&&(!e||(o.prop(ML.contextHash)||0)==n))return t.useNode(o,i),SW&&console.log(s+this.stackID(t)+" (via reuse of ".concat(r.getName(o.type.id),")")),!0;if(!(o instanceof VL)||0==o.children.length||o.positions[0]>0)break;let a=o.children[0];if(!(a instanceof VL&&0==o.positions[0]))break;o=a}}let o=r.stateSlot(t.state,4);if(o>0)return t.reduce(o),SW&&console.log(s+this.stackID(t)+" (via always-reduce ".concat(r.getName(65535&o),")")),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let l=0;l<a.length;){let o=a[l++],h=a[l++],c=a[l++],u=l==a.length||!n,d=u?t:t.split(),f=this.tokens.mainToken;if(d.apply(o,h,f?f.start:d.pos,c),SW&&console.log(s+this.stackID(d)+" (via ".concat(0==(65536&o)?"shift":"reduce of ".concat(r.getName(65535&o))," for ").concat(r.getName(h)," @ ").concat(i).concat(d==t?"":", split",")")),u)return!0;d.pos>i?e.push(d):n.push(d)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return EW(t,e),!0}}runRecovery(t,e,n){let i=null,r=!1;for(let s=0;s<t.length;s++){let o=t[s],a=e[s<<1],l=e[1+(s<<1)],h=SW?this.stackID(o)+" -> ":"";if(o.deadEnd){if(r)continue;if(r=!0,o.restart(),SW&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),u=h;for(let t=0;c.forceReduce()&&t<10;t++){if(SW&&console.log(u+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;SW&&(u=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(a))SW&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),SW&&console.log(h+this.stackID(o)+" (via recover-delete ".concat(this.parser.getName(a),")")),EW(o,n)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(t){return t.close(),VL.build({buffer:fW.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(PW||(PW=new WeakMap)).get(t);return e||PW.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function EW(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class RW{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}const AW=t=>t;class $W extends lW{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError("Parser version (".concat(t.version,") doesn't match runtime version (",14,")"));let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),i=[];for(let o=0;o<e.length;o++)i.push([]);function r(t,e,n){i[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let o of t.nodeProps){let t=o[0];"string"==typeof t&&(t=ML[t]);for(let e=1;e<o.length;){let n=o[e++];if(n>=0)r(n,t,o[e++]);else{let i=o[e+-n];for(let s=-n;s>0;s--)r(o[e++],t,i);e++}}}this.nodeSet=new UL(e.map(((e,r)=>jL.define({name:r>=this.minRepeatTerm?void 0:e,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:t.skippedNodes&&t.skippedNodes.indexOf(r)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=$L;let s=pW(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(IW),this.states=pW(t.states,Uint32Array),this.data=pW(t.stateData),this.goto=pW(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new yW(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let i=new CW(this,t,e,n);for(let r of this.wrappers)i=r(i,t,e,n);return i}getGoto(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.goto;if(e>=i[0])return-1;for(let r=i[e+1];;){let e=i[r++],s=1&e,o=i[r++];if(s&&n)return o;for(let n=r+(e>>1);r<n;r++)if(i[r]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let i=0;i<2;i++)for(let r,s=this.stateSlot(t,i?2:1);;s+=3){if(65535==(r=n[s])){if(1!=n[s+1]){if(2==n[s+1])return NW(n,s+2);break}r=n[s=NW(n,s+2)]}if(r==e||0==r)return NW(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let n=this.stateSlot(t,4),i=n?e(n):void 0;for(let r=this.stateSlot(t,1);null==i;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=NW(this.data,r+2)}i=e(NW(this.data,r+1))}return i}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=NW(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}configure(t){let e=Object.assign(Object.create($W.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError("Invalid top rule name ".concat(t.top));e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,i)=>{let r=t.specializers.find((t=>t.from==n.external));if(!r)return n;let s=Object.assign(Object.assign({},n),{external:r.to});return e.specializers[i]=IW(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let i=null;for(let r=0;r<e.length;r++)if(!n[r])for(let t,n=this.dialects[e[r]];65535!=(t=this.data[n++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[t]=1;return new RW(t,n,i)}static deserialize(t){return new $W(t)}}function NW(t,e){return t[e]|t[e+1]<<16}function IW(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}let MW=0;class DW{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=MW++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new DW([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new jW;return e=>e.modified.indexOf(t)>-1?e:jW.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let qW=0;class jW{constructor(){this.instances=[],this.id=qW++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new DW(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(jW.get(o,t));return r}}const UW=new ML;class LW{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}LW.empty=new LW([],2,null);const WW=DW.define,zW=WW(),VW=WW(),ZW=WW(VW),XW=WW(VW),YW=WW(),FW=WW(YW),BW=WW(YW),GW=WW(),HW=WW(GW),KW=WW(),JW=WW(),tz=WW(),ez=WW(tz),nz=WW(),iz={comment:zW,lineComment:WW(zW),blockComment:WW(zW),docComment:WW(zW),name:VW,variableName:WW(VW),typeName:ZW,tagName:WW(ZW),propertyName:XW,attributeName:WW(XW),className:WW(VW),labelName:WW(VW),namespace:WW(VW),macroName:WW(VW),literal:YW,string:FW,docString:WW(FW),character:WW(FW),attributeValue:WW(FW),number:BW,integer:WW(BW),float:WW(BW),bool:WW(YW),regexp:WW(YW),escape:WW(YW),color:WW(YW),url:WW(YW),keyword:KW,self:WW(KW),null:WW(KW),atom:WW(KW),unit:WW(KW),modifier:WW(KW),operatorKeyword:WW(KW),controlKeyword:WW(KW),definitionKeyword:WW(KW),moduleKeyword:WW(KW),operator:JW,derefOperator:WW(JW),arithmeticOperator:WW(JW),logicOperator:WW(JW),bitwiseOperator:WW(JW),compareOperator:WW(JW),updateOperator:WW(JW),definitionOperator:WW(JW),typeOperator:WW(JW),controlOperator:WW(JW),punctuation:tz,separator:WW(tz),bracket:ez,angleBracket:WW(ez),squareBracket:WW(ez),paren:WW(ez),brace:WW(ez),content:GW,heading:HW,heading1:WW(HW),heading2:WW(HW),heading3:WW(HW),heading4:WW(HW),heading5:WW(HW),heading6:WW(HW),contentSeparator:WW(GW),list:WW(GW),quote:WW(GW),emphasis:WW(GW),strong:WW(GW),link:WW(GW),monospace:WW(GW),strikethrough:WW(GW),inserted:WW(),deleted:WW(),changed:WW(),invalid:WW(),meta:nz,documentMeta:WW(nz),annotation:WW(nz),processingInstruction:WW(nz),definition:DW.defineModifier(),constant:DW.defineModifier(),function:DW.defineModifier(),standard:DW.defineModifier(),local:DW.defineModifier(),special:DW.defineModifier()},rz=(function(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{}}([{tag:iz.link,class:"tok-link"},{tag:iz.heading,class:"tok-heading"},{tag:iz.emphasis,class:"tok-emphasis"},{tag:iz.strong,class:"tok-strong"},{tag:iz.keyword,class:"tok-keyword"},{tag:iz.atom,class:"tok-atom"},{tag:iz.bool,class:"tok-bool"},{tag:iz.url,class:"tok-url"},{tag:iz.labelName,class:"tok-labelName"},{tag:iz.inserted,class:"tok-inserted"},{tag:iz.deleted,class:"tok-deleted"},{tag:iz.literal,class:"tok-literal"},{tag:iz.string,class:"tok-string"},{tag:iz.number,class:"tok-number"},{tag:[iz.regexp,iz.escape,iz.special(iz.string)],class:"tok-string2"},{tag:iz.variableName,class:"tok-variableName"},{tag:iz.local(iz.variableName),class:"tok-variableName tok-local"},{tag:iz.definition(iz.variableName),class:"tok-variableName tok-definition"},{tag:iz.special(iz.variableName),class:"tok-variableName2"},{tag:iz.definition(iz.propertyName),class:"tok-propertyName tok-definition"},{tag:iz.typeName,class:"tok-typeName"},{tag:iz.namespace,class:"tok-namespace"},{tag:iz.className,class:"tok-className"},{tag:iz.macroName,class:"tok-macroName"},{tag:iz.propertyName,class:"tok-propertyName"},{tag:iz.operator,class:"tok-operator"},{tag:iz.comment,class:"tok-comment"},{tag:iz.meta,class:"tok-meta"},{tag:iz.invalid,class:"tok-invalid"},{tag:iz.punctuation,class:"tok-punctuation"}]),[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288]),sz=new class{constructor(t){this.start=t.start,this.shift=t.shift||AW,this.reduce=t.reduce||AW,this.reuse=t.reuse||AW,this.hash=t.hash||(()=>0),this.strict=!1!==t.strict}}({start:!1,shift:(t,e)=>5==e||6==e||315==e?t:316==e,strict:!1}),oz=new bW(((t,e)=>{let{next:n}=t;(125==n||-1==n||e.context)&&t.acceptToken(313)}),{contextual:!0,fallback:!0}),az=new bW(((t,e)=>{let n,{next:i}=t;rz.indexOf(i)>-1||(47!=i||47!=(n=t.peek(1))&&42!=n)&&(125==i||59==i||-1==i||e.context||t.acceptToken(312))}),{contextual:!0}),lz=new bW(((t,e)=>{let{next:n}=t;if(43==n||45==n){if(t.advance(),n==t.next){t.advance();let n=!e.context&&e.canShift(1);t.acceptToken(n?1:2)}}else 63==n&&46==t.peek(1)&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(3))}),{contextual:!0});function hz(t,e){return t>=65&&t<=90||t>=97&&t<=122||95==t||t>=192||!e&&t>=48&&t<=57}const cz=new bW(((t,e)=>{if(60!=t.next||!e.dialectEnabled(0))return;if(t.advance(),47==t.next)return;let n=0;for(;rz.indexOf(t.next)>-1;)t.advance(),n++;if(hz(t.next,!0)){for(t.advance(),n++;hz(t.next,!1);)t.advance(),n++;for(;rz.indexOf(t.next)>-1;)t.advance(),n++;if(44==t.next)return;for(let e=0;;e++){if(7==e){if(!hz(t.next,!0))return;break}if(t.next!="extends".charCodeAt(e))break;t.advance(),n++}}t.acceptToken(4,-n)})),uz=function(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new LW(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return UW.add(e)}({"get set async static":iz.modifier,"for while do if else switch try catch finally return throw break continue default case":iz.controlKeyword,"in of await yield void typeof delete instanceof":iz.operatorKeyword,"let var const using function class extends":iz.definitionKeyword,"import export from":iz.moduleKeyword,"with debugger as new":iz.keyword,TemplateString:iz.special(iz.string),super:iz.atom,BooleanLiteral:iz.bool,this:iz.self,null:iz.null,Star:iz.modifier,VariableName:iz.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":iz.function(iz.variableName),VariableDefinition:iz.definition(iz.variableName),Label:iz.labelName,PropertyName:iz.propertyName,PrivatePropertyName:iz.special(iz.propertyName),"CallExpression/MemberExpression/PropertyName":iz.function(iz.propertyName),"FunctionDeclaration/VariableDefinition":iz.function(iz.definition(iz.variableName)),"ClassDeclaration/VariableDefinition":iz.definition(iz.className),PropertyDefinition:iz.definition(iz.propertyName),PrivatePropertyDefinition:iz.definition(iz.special(iz.propertyName)),UpdateOp:iz.updateOperator,"LineComment Hashbang":iz.lineComment,BlockComment:iz.blockComment,Number:iz.number,String:iz.string,Escape:iz.escape,ArithOp:iz.arithmeticOperator,LogicOp:iz.logicOperator,BitOp:iz.bitwiseOperator,CompareOp:iz.compareOperator,RegExp:iz.regexp,Equals:iz.definitionOperator,Arrow:iz.function(iz.punctuation),": Spread":iz.punctuation,"( )":iz.paren,"[ ]":iz.squareBracket,"{ }":iz.brace,"InterpolationStart InterpolationEnd":iz.special(iz.brace),".":iz.derefOperator,", ;":iz.separator,"@":iz.meta,TypeName:iz.typeName,TypeDefinition:iz.definition(iz.typeName),"type enum interface implements namespace module declare":iz.definitionKeyword,"abstract global Privacy readonly override":iz.modifier,"is keyof unique infer":iz.operatorKeyword,JSXAttributeValue:iz.attributeValue,JSXText:iz.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":iz.angleBracket,"JSXIdentifier JSXNameSpacedName":iz.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":iz.attributeName,"JSXBuiltin/JSXIdentifier":iz.standard(iz.tagName)}),dz={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},fz={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},pz={__proto__:null,"<":187},gz=$W.deserialize({version:14,states:"$@QO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO%[Q^O,5;bO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`O!0LbO'#DOO!0|Q7[O,5<dO!1TQWO,5<fO!2pQ$ISO'#GVO!2}QWO'#GWO!3SQWO'#GWO!4rQ$ISO'#G[O!5nQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6aQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6kQWO'#JfO!6yQWO'#JeO!7RQWO'#CuOOQ?Mr'#Cx'#CxO!7ZQWO'#CzOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3SQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9iQ?NdO1G0|O#<PQ?NdO1G0|O#<WQ?NdO1G0|O#<_Q?NdO1G0|O#>uQ?NdO1G0|O#>|Q?NdO1G0|O#AZQ07bO'#CiO#CUQ07bO1G1_O#C]Q07bO'#JnO#CpQ?NdO,5?WOOQ?Mp-E<j-E<jO#E}Q?NdO1G0|O#FzQ?NdO1G0|OOQ?Mr1G0|1G0|O#GzQ7[O'#JwO#HUQWO,5:uO#HZQ?NdO1G1bO#H}Q&jO,5<VO#IVQ&jO,5<WO#I_Q&jO'#FnO#IvQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#I{Q&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#J^Q07bO'#JmO#JhQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#JmQ`O'#KSOOQ?Mr,5<c,5<cO#JuQ`O,5<cO!&_Q7[O'#DQOOOO'#I^'#I^O#JzO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#KVQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#KuQ7[O,5=UO!+hQ7[O'#IsO#LhQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#LrQpO'#CrO#MVQ$ISO'#EoO#NUQ`O'#G`O#NrQpO,5<qO#NyQWO'#KWO9WQWO'#KWO$ XQWO,5<sO!+hQ7[O,5<rO$ ^QWO'#GXO$ oQWO,5<rO$ tQpO'#GUO$!RQpO'#KXO$!]QWO'#KXO!&_Q7[O'#KXO$!bQWO,5<vO$!gQ`O'#GaO!5iQ`O'#GaO$!xQWO'#GcO$!}QWO'#GeO!3SQWO'#GhO$#SQ?MxO'#IpO$#_Q`O,5<zOOQ?Mv,5<z,5<zO$#fQ`O'#GaO$#tQ`O'#GbO$#|Q`O'#GbO$$RQ7[O,5=UO$$cQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$$sQWO'#IuO$%OQWO,5@PO$%WQWO,59aOOQ?Mr,59f,59fO$%zQ!LSO,59rOOQ?Mr'#Jk'#JkO$&mQ7[O,5<iO$'`Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$'jQWO,5<tO$'oQ7[O,5<yO$(PQWO'#JzO!$[Q^O1G2PO$(UQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$(ZQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$*]Q?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$,aQ7[O'#EhOOQ?Mp,5@O,5@OO$,kQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$,|QWO1G0rO$-RQWO'#CiO$-^QWO'#KaO$-fQWO,5=xO$-kQWO'#KaO$-pQWO'#KaO$.OQWO'#I}O$.^QWO,5@zO$.fQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$.mQWO1G3cO$.rQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$.wQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$.|QWO1G3PO$/UQ`O'#G}OOQU1G3R1G3RO!5iQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$/^Q7[O,5=qO9^QWO,5=qO$!}QWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$/lQWO'#K_O$/wQWO,5=tOOQU1G.k1G.kO$/|Q?MxO1G.kO@fQWO1G.kO$0XQWO1G.kO9hQ?MxO1G.kO$2aQrO,5@|O$2nQWO,5@|O9WQWO,5@|O$2yQ^O,5={O$3QQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$3VQ^O1G3qO$7ZQ^O'#HpOOQU1G3t1G3tO$7hQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$7pQ^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$;wQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$;|Q07bO,5:UOOQO,5;],5;]O$<WQ`O'#IaO$<nQWO,5@[OOQ?Mr1G/o1G/oO$<vQ`O'#IgO$=QQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$=YQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$=aQ?MxO1G0jO$=lQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$=zQ?MxO1G0jOOQO1G0Z1G0ZO$>`Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$>jQpO,5<gO$>rQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$>|QWO1G5uO$?UQWO1G6TO$?^QrO1G6UO9WQWO,5?QO$?hQ?NdO1G6RO%[Q^O1G6RO$?xQ?MxO1G6RO$@ZQWO1G6QO$@ZQWO1G6QO9WQWO1G6QO$@cQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$@wQWO,5?TO$(PQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$AVQWO7+(bO$AbQ7[O7+(bO$ApQ?NdO,5=UO$CxQ?NdO,5=WO$FQQ?NdO,5=UO$H`Q?NdO,5=WO$JnQ?NdO,59rO$LsQ?NdO,5<iO$N{Q?NdO,5<kO%#TQ?NdO,5<yOOQ?Mr7+&^7+&^O%%cQ?NdO7+&^O%&VQ^O'#IbO%&dQWO,5@^O%&lQrO,5@^OOQ?Mr1G/|1G/|O%&vQWO7+&gOOQ?Mr7+&g7+&gO%&{Q07bO,5:cO%[Q^O7+&yO%'VQ07bO,5:_O%'dQ07bO,5:gO%'nQ07bO,5:iO%'xQ7[O'#IeO%(SQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%([QtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%(gQWO1G1{OOQ?Mr1G1}1G1}O%(lQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%(sQ?NdO7+'jOOQ?Mr,5?Y,5?YO%)gQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%*VQ7[O,5?]OOQ?Mr-E<o-E<oO%*xQ7[O,5?_OOQ?Mr-E<q-E<qO%+SQpO1G2tO%+ZQpO'#CrO%+qQ7[O'#J}O%+xQ^O'#EqOOQ?Mr1G2]1G2]O%,SQWO'#ImO%,hQWO,5@rO%,hQWO,5@rO%,pQWO,5@rO%,{QWO,5@rOOQO1G2_1G2_O%-ZQ7[O1G2^O!+hQ7[O1G2^O%-kQ$ISO'#IoO%-xQWO,5@sO!&_Q7[O,5@sO%.QQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$(PQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%.[QWO,5<}OOQ?Mp,5=P,5=PO$(PQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5iQ`O,5<{O%.dQWO,5<|O$!xQWO,5<}O%.oQ`O,5<|O!+hQ7[O'#IqO%/`Q7[O1G2pO!+hQ7[O'#IsO%0RQ7[O1G2rO%0]Q7[O1G5lO%0gQ7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%0tQWO1G2XO!+hQ7[O1G2`O%0yQ?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%1mQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%1rQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$AYQWO7+(bO%1|Q?NbO'#CiO%2aQ?NbO,5=QO%3RQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%3WQWO'#I|O%3oQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%3oQWO,5@{O%3wQWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%3|QWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%4RQ?NbO7+(jO!&_Q7[O7+(jO%4]QpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%4dQWO'#K^O%4oQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%6RQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%6YQWO1G3]O%6eQ7[O1G3]O9hQ?MxO1G3_O$!}QWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%6sQWO'#I{O%7XQWO,5@yO%7aQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%7lQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%7qQ?MxO1G6hO%7{Q^O1G3gO%8SQWO1G3gO%8XQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%8`Q^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%8mQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%8rQ`O1G5wO%9WQ07bO1G0wO%9bQWO1G0wOOQO1G/p1G/pO%9mQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$>`Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%9wQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%:SQ?MxO7+&UO%:bQ?NdO7++mO%[Q^O7++mO%:rQWO7++lO%:rQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%:zQWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%;YQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%;bQWO<<K|O%;mQ?NdO,5?]O%=uQ?NdO,5?_O%?}Q?NdO1G2^O%B]Q?NdO1G2pO%DeQ?NdO1G2rO%FmQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%FwQWO1G5xOOQ?Mr<<JR<<JRO%GPQ07bO1G0rO%IWQ07bO1G0|O%I_Q07bO1G0|O%K`Q07bO1G0|O%KgQ07bO1G0|O%MhQ07bO1G0|O& iQ07bO1G0|O& pQ07bO1G0|O& wQ07bO1G0|O&#xQ07bO1G0|O&$PQ07bO1G0|O&$WQ?NdO<<JeO&&OQ07bO1G0|O&&{Q07bO1G0|O&'{Q07bO'#JgO&*OQ07bO1G1bO&*]Q07bO1G0RO&*gQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&*qQWO1G1sO&*vQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&-WQrO'#CiO&-bQWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&-pQWO1G6^O&-pQWO1G6^O&-xQWO1G6^O&.TQ7[O7+'xO&.eQpO,5?ZO&.oQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&.tQpO1G6_O&/OQWO1G6_OOQ?Mp1G2h1G2hO$(PQWO1G2hOOQ?Mp1G2g1G2gO&/WQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&/]QWO1G2iO&/eQWO1G2hO$!xQWO1G2iO&0XQ7[O,5?]OOQ?Mr-E<p-E<pO&0zQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&1UQWO1G/`OOQ?Mr7+'s7+'sO&1ZQ7[O7+'zO&1kQ?NdO<<KVOOQ?Mr<<KV<<KVO&2_QWO1G0wO!&_Q7[O'#IvO&2dQWO,5@tO&4fQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&4mQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&5aQWO,5?hO&5fQWO,5?hOOQO-E<z-E<zO&5tQWO1G6gO&5tQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&5|QWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%4RQ?NbO<<LUOOQU<<LV<<LVO%4]QpO<<LVO&6RQ`O'#IxO&6^QWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%+xQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&6fQ`O,5=rOOQU,5=r,5=rO&6mQ`O'#EdO&7RQ`O'#GcO&7WQWO7+(wO&7]QWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&7eQWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$!}QWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&7pQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&7{QWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&8TQWO7+,SO&8YQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&8_QWO7+)RO&8dQ^O7+)RO&8kQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&8pQWO,5>]OOQU,5>_,5>_O&8uQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&8zQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$>`Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&9UQ?MxO<<IpO&9aQ?NdO<= XO&9qQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&9yQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&:QQWOANAhO%[Q^OANAhO&:YQ?NdO7+'xO&<hQ?NdO,5?]O&>pQ?NdO,5?_O&@xQ?NdO7+'zO&CWQrO1G4hO&CbQ07bO7+&^O&EcQ07bO,5=UO&GgQ07bO,5=WO&GwQ07bO,5=UO&HXQ07bO,5=WO&HiQ07bO,59rO&JlQ07bO,5<iO&LlQ07bO,5<kO&N}Q07bO,5<yO'!pQ07bO7+'jO'!}Q07bO7+'kO'#[QWO,5<[OOQO7+'_7+'_O'#aQ7[O<<KzOOQO1G4s1G4sO'#hQWO1G4sO'#sQWO1G4sO'$RQWO7++xO'$RQWO7++xO!&_Q7[O1G4uO'$ZQpO1G4uO'$eQWO7++yOOQ?Mp7+(S7+(SO'$mQWO7+(TO'$xQpO7+(TOOQ?Mp7+(R7+(RO$(PQWO7+(SO'%PQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO'%UQWO7+(TO'%^Q7[O<<NrOOQ?Mr7+$z7+$zO'%hQpO,5?bOOQO-E<t-E<tO'%rQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'&SQWO1G5SO'&XQWO7+,RO'&XQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'&aQWO,5?dOOQO-E<v-E<vO'&lQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%+xQ^O,5<}O'&vQWO,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&7WQWO<<LcO'&{QWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$!}QWO<<LeO9RQWO<<LeO''TQ`O1G5RO''`QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO''hQWO<= nO''mQWO<= oOOQU<<Lm<<LmO''rQWO<<LmO''wQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'(OQWO<<I}O'(ZQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$>`Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'(eQrOG27SO4UQrOG27SO'(lQWOG27SO'(tQ07bO<<JeO')RQ07bO1G2^O'*tQ07bO,5?]O',tQ07bO,5?_O'.tQ07bO1G2pO'0tQ07bO1G2rO'2tQ07bO<<KVO'3RQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'3`QWO7+*_O'3kQWO<= dO'3sQpO7+*aOOQ?Mp<<Ko<<KoO$(PQWO<<KoOCcQWO<<KoO'3}QWO<<KoOOQ?Mp<<Kn<<KnO'4YQpO<<KoO$(PQWO<<KnO'4aQWO<<KoO!&_Q7[O<<KoOOQO7+*n7+*nO9^QWO7+*nO'4fQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'4nQWO7+,OO&7WQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'4vQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$!}QWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'5OQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$>`Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'5TQrOLD,nO'5[Q07bO7+'xO'6}Q07bO,5?]O'8}Q07bO,5?_O':}Q07bO7+'zO'<pQ7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$(PQWOANAZOCcQWOANAZO'=QQWOANAZOOQ?MpANAYANAYO'=]QpOANAZOOQO<<NY<<NYOOQULD-ZLD-ZO'=dQ07bO7+*jOOQUG27iG27iO&7WQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'=nQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'=xQ?NdOG27QOOQ?MpG26uG26uO$(PQWOG26uOCcQWOG26uO'@WQWOG26uOOQULD-TLD-TO&7WQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQ?MpLD,aLD,aO$(PQWOLD,aOCcQWOLD,aOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'@cQ07bOG27QOOQ?Mp!$( {!$( {O$(PQWO!$( {OOQ?Mp!)9Eg!)9EgO!(oQ^O'#DwO1PQWO'#EUO'BUQrO'#JmO'B]QMnO'#DsO'BdQ^O'#D{O'BkQrO'#CiO'ERQrO'#CiO!(oQ^O'#D}O'EcQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'GfQWO,5<gO!(oQ^O,5;bO'GnQ7[O,5;bO'IXQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'GnQ7[O'#GjO!&_Q7[O'#GlO'GnQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'GnQ7[O'#F}O!&_Q7[O'#GPO'GnQ7[O'#GPO!&_Q7[O'#G_O'GnQ7[O'#G_O!(oQ^O,5:gO'I`Q`O'#D[O!(oQ^O,5@jO'EcQ^O1G0rO'IjQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'GnQ7[O'#IqO!&_Q7[O'#IsO'GnQ7[O'#IsO'ItQpO'#CrO!&_Q7[O,5<rO'GnQ7[O,5<rO'EcQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'GnQ7[O1G2^O!&_Q7[O'#IqO'GnQ7[O'#IqO!&_Q7[O'#IsO'GnQ7[O'#IsO!&_Q7[O1G2`O'GnQ7[O1G2`O'EcQ^O7+'kO'EcQ^O7+&^O!&_Q7[OANAfO'GnQ7[OANAfO'JXQWO'#ElO'J^QWO'#ElO'JfQWO'#F[O'JkQWO'#EvO'JpQWO'#KOO'J{QWO'#J|O'KWQWO,5;WO'K]Q7[O,5<dO'KdQWO'#GWO'KiQWO'#GWO'KnQWO,5<eO'KvQWO,5;WO'LOQ07bO1G1_O'LVQWO,5<rO'L[QWO,5<rO'LaQWO,5<tO'LfQWO,5<tO'LkQWO1G2PO'LpQWO1G0rO'LuQ7[O<<KzO'L|Q7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3SQWO'#GWO!3SQWO'#GWO!3SQWO'#GYO!3SQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%+SQpO1G2tO%+SQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"'NQ~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y;QO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O;UO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O;VO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y$_O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$uO(t$}O(u%POg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%VO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$RO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y;QO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%VO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y(RO!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![!eO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(O)XO(QTO(TUO([VO(j[O(y<xO~O!Y$_Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOu)uO(])vO(^)xO~Ok*RO})zO!P){O(t$}O(u%PO~Og)yO~P!0kOg*SO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P*UO![*VO!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(QTO(TUO([$uO(t$}O(u%PO~O!X*YO(O*TO!h(zP~P!1YO#h*[O~O!i*]O~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(O*_O(QTO(TUO([$uO(t$}O(u%PO~O!X*bO!V({P~P!3XOo*nO!P*fO!_*lO!`*eO!a*eO!i*]O#X*mO%]*hO(P!lO(`!mO~O!Z*kO~P!4|O#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5uOk*sO#]*rOg(YX!Y(YX~O!Y*tOg(XX~O(O&WOg(XP~Op*wO~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%VOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%VO!i%cO~Oh%VO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%VO#]+zO~Oh%VOk+}O![$|O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%VO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![!eO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(QTO(TUO([VO(j[O(y<xO~O(O;zO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%VOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk=UO})zO!P){O(t$}O(u%PO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5uO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$[OR#zOo$aO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#o#ji~P#4kO#o$QO~P#4kOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO([VOa#ji!Y#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#u#ji~P#7YOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$UO~P#9pO#w#ji~P#9pO#u$SO~P#7YOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO([VO(t#|O(u#}Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#y#ji~P#<fO#y$WO~P#<fOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#?TOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O#w;`O#y;bO#z;cO([VO(m$YO(t#|O(u#}O~O#}.sO~P#AbO#P$dO#];iO$P;iO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mO[#jia#jio#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO(t#ji(u#ji~P#DdOk=UO})zO!P){O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P#DdO!Y.wOg(kX~P!0kOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;dO!Z(aX~P#AbO!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)uO(])vO(^/WO~O!V/[O~P!&_O(t$}Ok%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#K^O(u%POk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#LPO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1YOo*nO!_*lO!`*eO!a*eO!i*]O#X*mO%]*hO(P!lO~Op'XO!P/fO!X+UO!Z*kO(QTO(TUO(`;wO!Z(sP~P#MjO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*YO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%VOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!4|O!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0kOg%`a!Y%`a#]%`a#}%`a~P!0kO(O&WOg'iX!Y'iX~O!Y*tOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$%]O})zO!P){Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$&UO})zO!P){Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$&wO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0kO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$(fOh%VOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(QTO(TUO([$uO(t$}O(u%PO~Om0pO(O0oO~P$*|O!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$|O~O(`(xO!Z)QP~Oh%VOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$0dO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#AbOp!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$_Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%VOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#K^O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#LPO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$%]O#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$&UO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$&wO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#AbO#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO})zO!P){O(u%POk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%)nO})zO!P){Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%*aO(m$YO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O<QO~P!1YOmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0kO!X4YO!V'cX!Y'cX~P!3XO!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O!P4hO(`!mO~O(t$}Ok%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%.wO(u%POk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%/jOg(Yi!Y(Yi~P!0kO#]4mOg(Yi!Y(Yi~P!0kO!h4pO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4tO~O!Y4uO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4xOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4xO~Ob5OO%g5PO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5TO~O`5UO~Oa%lO'u%lO~P#.aO![$|O~P#.aO!Y5^O#]5`O!Z)QX~O!Z5aO~Oo5hOp!nO!P5bO!_!yO!`!vO!a!vO!y;QO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5gO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5fO~P%4tOk5mO![1aO%f5lO~Oh%VOk5mO![1aO%f5lO~Ob5tO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5vO~O`5zO~O#s5}O&W6OO~PMlO!h6PO~P%[Oa6RO~Oa6RO~P%[Ob2SO!Z6WO&f2RO~P`O!d6YO~O!d6[Oh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#AbO#]6]O!Y#ei!Z#ei~O!Y!^i!Z!^i~P#AbOa%lO#]6fO'u%lO~Oa%lO!d#vO#]6fO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6mO(O%eO~O![']O%f6pO~Ok6tO![']O%f6pO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%)nO#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%*aO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%.wO#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%/jO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#AbOP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%G^O#k;YO~P%G^OP$[OR#zOo;fO}#yO!P#{O!i#xO!m$[O#k;YO#l;ZO#m;ZO#n;ZO([VO[#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#o#ji~P%IfO#o;[O~P%IfOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O([VO#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#u#ji~P%KnOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w;`O~P%MoO#w#ji~P%MoO#u;^O~P%KnOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O#w;`O([VO(t#|O(u#}O#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#y#ji~P&!OO#y;bO~P&!OOa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mO[#jio#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k;YO#l;ZO#m;ZO#n;ZO([VO(t#ji(u#ji~P&$zOk=VO})zO!P){O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P&$zO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#AbO#}!oi!Z!oi~P$(fOg'Xa!Y'Xa~P!0kO!Z7WO~O!Y'`a!Z'`a~P#AbOP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&+QO!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0kO!V'ca!Y'ca~P#.aO!d7_O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7cO~O!d#vO#s7hO~Oo7iO!d#vO(m'mO~O})zO!P){O(u%POk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&/pO})zO!P){Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&0cO!V7lO~Og$|q!Y$|q#]$|q#}$|q~P!0kOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6[O~O!Y4uO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6pO~P&2lOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7qO~Ob7sO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7wO~O(`(xO!Y'lX!Z'lX~O!Y5^O!Z)Qa~O!Z8QO~P%4tOp!nO!P8RO(QTO(TUO(`!mO(j!sO~O#X8SO~O![1aO~O![1aO%f8UO~Ok8XO![1aO%f8UO~O[8^O!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8bO~O!h8cO~O!h8fO~O!h8fO~P%[Oa8hO~O!d8iO~O!h8jO~O!Y(ri!Z(ri~P#AbOa%lO#]8rO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8uO~P&2lO![']O%f8uO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&/pO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&0cO#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#AbO(t$}OP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&CoO(u%POP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&EsOk=VO})zO!P){O(u%PO~P&CoOk=VO})zO!P){O(t$}O~P&EsOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O})zO!P){OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O})zO!P){OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~Ok=VO})zO!P){O(t$}O(u%PO~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&NlO#}$lq!Y$lq!Z$lq~P#AbO#}$mq!Y$mq!Z$mq~P#AbO!Z9SO~O#}9TO~P!0kO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~Oo9[O!d#vO(m'mO~O!V9]O~P#.aO!V9]O~O!d#vO#s9bO~Og(Yy!Y(Yy~P!0kO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9dO~O!Y0wO!Z)Tq~O#]9hO!Y'la!Z'la~O!Y5^O!Z)Qi~P#AbO!P4hO~O![1aO%f9lO~O(QTO(TUO(`9qO~O!Y1lO!Z)Rq~O!h9tO~O!h9uO~O!h9vO~O!h9vO~P%[O#]9yO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#AbO%f:OO~P&2lO![']O%f:OO~O#}#{y!Y#{y!Z#{y~P#AbOP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&NlO})zO!P){O(u%POP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O})zO!P){OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t$}OP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%POP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#AbO#}#`y!Y#`y!Z#`y~P#AbO!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aOo:YO!d#vO(m'mO~O!V:ZO~P#.aO!V:ZO~O!Y0wO!Z)Ty~O!Y5^O!Z)Qq~O![1aO%f:cO~O!h:fO~O%f:kO~P&2lOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&NlO})zO!P){O(u%POP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O})zO!P){OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&NlOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0kOo:oO!d#vO(m'mO~O!V:pO~P#.aO!Y'lq!Z'lq~P#AbO!Y#e!Z!Z#e!Z~P#AbO#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOo:xO!d#vO(m'mO~OP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&NlOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&+QOP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'BxOP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![XO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(O)XO(QTO(TUO([VO(j[O(y<xO~O!Y;dO!Z$oa~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;oO!P${O![$|O!f=PO!i$xO#g;uO$V%_O$r;qO$t;sO$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~O#t)`O~P'GnOo!bX(m!bX~P# ZO!Z]X!ZfX~P'BxO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h;XO~O!d#vO#h;XO~O#];iO~O#s;]O~O#];xO!Y(rX!Z(rX~O#];iO!Y(pX!Z(pX~O#h;yO~Og;{O~P!0kO#h<RO~O#h<SO~O!d#vO#h<TO~O!d#vO#h;yO~O#}<UO~P#AbO#h<VO~O#h<WO~O#h<]O~O#h<^O~O#h<_O~O#h<`O~O#}<aO~P!0kO#}<bO~P!0kO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$4Q)XPPPPPP)YPP)]P)nP+O/PPPPP5xPP6`PP<V?mP@QP@QPPP@QPBRP@QP@QP@QPBVPB[PByPGrPPPGvPPPPGvJxPPPKOKzPGvPGvPPNYGvPPPGvPGvP!!aGvP!%v!&{!'UP!'x!'|!'x!+YPPPPPPP!+y!&{PP!,Z!-gP!0jGvGv!0o!3z!8b!8b!<`PPP!<hGvPPPPPPPPPPP!?vP!ATPPGv!BfPGvPGvGvGvGvGvPGv!CxP!GRP!JWP!J[!Jf!Jj!JjP!GOP!Jn!JnP!MsP!MwGvGv!M}##RBV@QP@QP@Q@QP#$_@Q@Q#&j@Q#)Z@Q#+`@Q@Q#,O#.]#.]#.b#.k#.]#.wP#.]P@Q#/a@Q#3S@Q@Q5xPPP#6{PPP#7f#7fP#7fP#7|#7fPP#8SP#7yP#7y#8g#7y#9R#9X5u)]#9[)]P#9c#9c#9cP)]P)]P)]P)]PP)]P#9i#9lP#9l)]P#9pP#9sP)]P)]P)]P)]P)]P)])]PP#9y#:P#:[#:b#:h#:n#:t#;S#;Y#;d#;j#;t#;z#<[#<b#=S#=f#=l#=r#>Q#>g#@V#@e#@l#BR#Ba#C|#D[#Db#Dh#Dn#Dx#EO#EU#E`#Er#ExPPPPPPPPPP#FOPPPPPPP#Fs#Iz#KZ#Kb#KjPPP$!sP$!|$%t$,^$,a$,d$-P$-S$-Z$-cP$-i$-lP$.Y$.^$/U$0d$0i$1PPP$1U$1[$1`P$1c$1g$1k$2a$2x$3a$3e$3h$3k$3q$3t$3x$3|R!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5eQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*e$|*V*jQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*lQ1k,]R;v;T%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5b5m5}6O6R6f8R8X8h8rS#q];Q!r)Z$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{U*y%[;n;oQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q5O0wQ5t1lQ6r3UQ7s5PR8x6t'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{t!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5e5g$|$ti#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VQ&U|Q'R!eU'X%g*V-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ5O0wQ5X1TQ5t1lQ5w1nQ5x1qQ7s5PQ7v5UQ8a5zQ9g7wR9r8^rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<z<{[#]WZ#W#Z'U(P!b%hm#h#i#l$x%c%f(Y(d(e(f*U*Y*]+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6[6mQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4}0wQ5R0zQ5W1SQ5s1kQ7r5PQ7u5TQ9c7qR:^9d!O$zi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R!S%wy!i!u%y%z%{'S'b'c'd'h'r*d+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5n1fS5r1j1kQ8]5s#^<|#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vo<};g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bW%Ti%V*t<xS&X!Q&fQ&Y!RQ&Z!SR+y&V$}%Si#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VT)v$u)wV*y%[;n;oW'X!e%g*V-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4n0`R7{5^'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{$i$^c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)Y)[)^)c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4r4{6_6e6j6y6z7T7U7}8l8p8z9Q9R9{:`:g;R<oT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5e5gU*d$|*V*jS/y*e*lQ0S*mQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u;XQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;yS0f+R<TQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4s0g<_Q4y0tS4|0v<`Q6^2aQ6b2mQ6g2tQ7p4zQ8m6`Q8n6cQ8q6hR9x8j$d$]c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)Y)[)^)c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4r4{6_6e6j6y6z7T7U7}8l8p8z9Q9R9{:`:g;R<oS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{S#q];QQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6a2kW6n3P3R3V4wU8t6o6q6sU9}8v8w8yS:i9|:PQ:t:jR:z:uU!wQ']-]T5c1a5e!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5eT#q];Q%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rS(y#y#zS.Y(i(j!s<f$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{U$fd)Z,eS(l#p'fU*q%R(s3pU0b*x.f7PQ4w0mQ6o3QQ8w6rR:P8xm!tQ!r!v!y!z']'i'j'k-]-m1a5e5gQ'q!uS(b#g1vS-k'h'tQ/k*XQ/w*dQ2v-nQ4U/lS4_/x0SQ7Z4PS7f4e4gQ9V7[Q9Z7cQ9`7iS:X9[9]S:n:Y:ZS:w:o:pR:}:xQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*XQ/v*dQ/|*gQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5p1hQ6i2vQ7Y4PQ7^4US7b4_4gQ7g4fQ8Z5qS9U7Z7[Q9Y7cQ9^7fQ9a7jQ9o8[Q:V9VS:W9Z9]Q:[9`Q:e9pS:m:X:ZS:v:n:pQ:|:wQ;O:}Q<i<dQ<t<mR<u<nV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rS#wz!j!r<c$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{R<i<z%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*d+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5q1i1j1kS8[5r5sQ9p8]!r<d$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q<m<yR<n<z%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rY#bWZ#W#Z(P!b%hm#h#i#l$x%c%f(Y(d(e(f*U*Y*]+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6[6mQ,f&l!p<e$Z$n)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{R<h'UU'Y!e%g*VR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5b5m5}6O6R6f8R8X8h8r!r)Z$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q,e&lQ0m+aQ3Q._Q6r3UR8x6t!b$Tc#Y%o(O(U(p(u)V)W)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;R!P;_)Y)m-R.t2]2`3b3k3l3q3y6_6z7T7U7}8l8z9Q9R:`:g<o!f$Vc#Y%o(O(U(p(u)S)T)V)W)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;R!T;a)Y)m-R.t2]2`3b3h3i3k3l3q3y6_6z7T7U7}8l8z9Q9R:`:g<o!^$Zc#Y%o(O(U(p(u)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;RQ3}/cz<{)Y)m-R.t2]2`3b3q3y6_6z7T7U7}8l8z9Q9R:`:g<oQ=Q=SR=R=T'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{S$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{T$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{T$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8r!s<y$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5b5m5}6O6R6t8R8X8h!O%Ri$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R#^(s#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=VQ*}%`Q/Y)zo3p;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!O$yi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=RQ*^$zU*g$|*V*jQ+O%aQ/}*h#^<k#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn<l;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bQ<p<|Q<q<}Q<r=OR<s=P!O%Ri$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R#^(s#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vo3p;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bnoOXst!Z#d%k&o&q&r&t,k,p1|2PS*a${*UQ,y&{Q,z&}R4X/p$|%Si#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VQ+|&YQ1Y,OQ5[1XR7z5]V*i$|*V*jU*i$|*V*jT5d1a5eU/{*f/f5bS4f0T8RR7j4hQ+d%vQ/|*gQ0r+eQ1g,XQ5p1hQ8Z5qQ9o8[R:e9p!O%Oi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=Rr)}$v)a*O*p+P/n0Z0[3s4V4q7X7k:U<j<v<wS0V*o0W#^;j#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn;k;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!`;|(q)_*W*`.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Z5]6u6x7`7d7m7o9X9_:]:l=S=T`;}3o6{7O7S8{:Q:T:{S<X.d3ZT<Y6}9O!O%Qi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=Rv*P$v)a*Q*o+P/_/n0Z0[3s4V4i4q7X7k:U<j<v<wS0X*p0Y#^;l#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn;m;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!d<O(q)_*W*`.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Z5]6u6v6x7`7d7m7o9X9_:]:l=S=Td<P3o6|6}7S8{8|:Q:R:T:{S<Z.e3[T<[7O9PrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5k1e1fU8T5i5j5nS9k8V8WS:a9j9mQ:q:bR:y:rQ&j!VR,a&fR5w1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)w$uR/V)wQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5eR'g!rQ.x)aR3t.xU#_W%f*UU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6kQ2y.QR6k2zQ)j$lR/O)jQ$phR)p$pQ$`cU)]$`-t;eQ-t;RR;e)mQ/i*XW4R/i4S7]9WU4S/j/k/lS7]4T4UR9W7^$Z)|$v(q)_)a*W*`*o*p*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4i4k4q5Z5]6u6v6w6x6}7O7Q7R7S7X7`7d7k7m7o8{8|8}9X9_:Q:R:S:T:U:]:l:{<j<v<w=S=TQ/q*`U4Z/q4]7aQ4]/sR7a4[S*j$|*VR0P*jr*O$v)a*o*p+P/n0Z0[3s4V4q7X7k:U<j<v<w!`.b(q)_*W*`.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Z5]6u6x7`7d7m7o9X9_:]:l=S=TU/`*O.b6{a6{3o6}7O7S8{:Q:T:{Q0W*oQ3Z.dU4j0W3Z9OR9O6}v*Q$v)a*o*p+P/_/n0Z0[3s4V4i4q7X7k:U<j<v<w!d.c(q)_*W*`.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Z5]6u6v6x7`7d7m7o9X9_:]:l=S=TU/b*Q.c6|e6|3o6}7O7S8{8|:Q:R:T:{Q0Y*pQ3[.eU4l0Y3[9PR9P7OQ*u%UR0^*uQ4v0kR7n4vQ+X%iR0j+XQ5_1[S7|5_9iR9i7}Q,S&[R1_,SQ5e1aR8P5eQ1m,^S5u1m8_R8_5wQ0x+lW5Q0x5S7t9eQ5S0{Q7t5RR9e7uQ+q&OR1O+qQ2P,pR6V2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6U1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*iQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4y0tQ5V1RQ5Y1VQ5o1gQ5y1rQ6T1{U6d2p2s2vQ6g2tQ7p4zQ7x5XQ7y5ZQ8O5dQ8Y5pQ8`5xS8o6e6iQ8q6hQ9f7vQ9n8ZQ9s8aQ9z8pQ:_9gQ:d9oQ:h9{R:s:eQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*dS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4z0uQ6`2gQ6c2nQ6h2uR7e4dS$wi<xR*v%VU%Ui%V<xR0]*tQ$viS(q#v+cS)_$b$cQ)a$dQ*W$xS*`${*UQ*o%OQ*p%QQ*z%]Q*{%^Q+P%bQ.d;jQ.e;lQ.g;pQ.h;rQ.i;tQ/U)uS/Z){/]Q/_)}Q/a*PQ/c*RQ/n*[S/s*b/eQ0Z*rQ0[*sh0k+`.^1c3T5l6p8U8u9l:O:c:kQ1V+zQ1X+}Q3W;|Q3X<OQ3Y<RS3o;g;hQ3s.wQ4V/oQ4W/pQ4[/rQ4i0VQ4k0XQ4q0dQ5Z1WQ5]1ZQ6u<VQ6v<XQ6w<ZQ6x<]Q6};kQ7O;mQ7Q;qQ7R;sQ7S;uQ7X3}Q7`4YQ7d4bQ7k4mQ7m4uQ7o4xQ8{<SQ8|;}Q8}<PQ9X7_Q9_7hQ:Q<WQ:R<YQ:S<[Q:T<^Q:U9TQ:]9bQ:l<aQ:{<bQ<j<xQ<v=QQ<w=RQ=S=UR=T=VQ*x%[Q.f;nR7P;onpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5b8RQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4o0aQ5j1dQ5{1tQ5|1uQ6Q1wQ6S1yQ6X2RQ6s3UQ7V3uQ8W5mQ8d5}Q8e6OQ8g6RQ8y6tQ9m8XR9w8h#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5b5m5}6O6R6t8R8X8hQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)Y$ZQ)[$_Q)^$aQ)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r;PQ.t;SQ.u;TQ.v;WQ/X)yQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b;XQ3c;YQ3d;ZQ3e;[Q3f;]Q3g;^Q3h;_Q3i;`Q3j;aQ3k;bQ3l;cQ3m.sQ3n;fQ3q;iQ3r;vQ3y;dQ4r0gQ4{0vQ6_;xQ6e2rQ6j2xQ6y3^Q6z;yQ7T;{Q7U<TQ7}5`Q8l6]Q8p6fQ8z<UQ9Q<_Q9R<`Q9{8rQ:`9hQ:g9yQ;R#SR<o<{R#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5e5gS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5eQ#p]R'f;QR)b$dY!uQ']-]1a5eQ'h!rS'r!v!yS't!z5gS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6l2|2}R8s6md#^W#W#Z%f(P(Y*U+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6mS*X$x*]Q/l*YQ1v,gQ2^,}Q4P/hQ6Z2UQ7[4QQ8k6[T<g'U+UV#aW%f*UU#`W%f*US(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*VQ$lfR)t$qT)i$l)jR3w.|T*Z$x*]T*c${*UQ0l+`Q3P.^Q5i1cQ6q3TQ8V5lQ8v6pQ9j8UQ9|8uQ:b9lQ:j:OQ:r:cR:u:knqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:"\u26a0 ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:sz,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[uz],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[az,lz,cz,2,3,4,5,6,7,8,9,10,11,12,13,14,oz,new vW("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new vW("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14725},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:t=>dz[t]||-1},{term:338,get:t=>fz[t]||-1},{term:92,get:t=>pz[t]||-1}],tokenPrec:14749}),mz=1024;let Oz=0;class yz{constructor(t,e){this.from=t,this.to=e}}class vz{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=Oz++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=xz.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}vz.closedBy=new vz({deserialize:t=>t.split(" ")}),vz.openedBy=new vz({deserialize:t=>t.split(" ")}),vz.group=new vz({deserialize:t=>t.split(" ")}),vz.isolate=new vz({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),vz.contextHash=new vz({perNode:!0}),vz.lookAhead=new vz({perNode:!0}),vz.mounted=new vz({perNode:!0});class bz{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[vz.mounted.id]}}const wz=Object.create(null);class xz{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):wz,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new xz(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(vz.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(vz.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}xz.none=new xz("",Object.create(null),0,8);const kz=new WeakMap,Sz=new WeakMap;var Pz;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(Pz||(Pz={}));class _z{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=bz.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new jz(this.topNode,t)}cursorAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=kz.get(this)||this.topNode,i=new jz(n);return i.moveTo(t,e),kz.set(this,i._tree),i}get topNode(){return new Az(this,0,0,null)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Ez(kz.get(this)||this.topNode,t,e,!1);return kz.set(this,n),n}resolveInner(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Ez(Sz.get(this)||this.topNode,t,e,!0);return Sz.set(this,n),n}resolveStack(t){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof Az?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=bz.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new Az(t.tree,t.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Ez(o,e,n,!1))}}return r?Dz(r):i}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&Pz.IncludeAnonymous)>0;for(let a=this.cursor(s|Pz.IncludeAnonymous);;){let t=!1;if(a.from<=r&&a.to>=i&&(!o&&a.type.isAnonymous||!1!==e(a))){if(a.firstChild())continue;t=!0}for(;t&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:zz(xz.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new _z(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new _z(xz.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=mz,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new Qz(n,n.length):n,l=i.types,h=0,c=0;function u(t,e,n,y,v,b){let{id:w,start:x,end:k,size:S}=a,P=c;for(;S<0;){if(a.next(),-1==S){let e=s[w];return n.push(e),void y.push(x-t)}if(-3==S)return void(h=w);if(-4==S)return void(c=w);throw new RangeError("Unrecognized record size: ".concat(S))}let _,Q,T=l[w],C=x-t;if(k-x<=r&&(Q=m(a.pos-e,v))){let e=new Uint16Array(Q.size-Q.skip),n=a.pos-Q.size,r=e.length;for(;a.pos>n;)r=O(Q.start,e,r);_=new Tz(e,k-Q.start,i),C=Q.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=w>=o?w:-1,s=0,l=k;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(p(e,n,x,s,a.end,l,i,P),s=e.length,l=a.end),a.next()):b>2500?d(x,t,e,n):u(x,t,e,n,i,b+1);if(i>=0&&s>0&&s<e.length&&p(e,n,x,s,x,l,i,P),e.reverse(),n.reverse(),i>-1&&s>0){let t=f(T);_=zz(T,e,n,0,e.length,0,k-x,t,t)}else _=g(T,e,n,k-x,P-k)}n.push(_),y.push(C)}function d(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new Tz(e,o[2]-r,i)),s.push(r-t)}}function f(t){return(e,n,i)=>{let r,s,o=0,a=e.length-1;if(a>=0&&(r=e[a])instanceof _z){if(!a&&r.type==t&&r.length==i)return r;(s=r.prop(vz.lookAhead))&&(o=n[a]+r.length+s)}return g(t,e,n,i,o)}}function p(t,e,n,r,s,o,a,l){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(g(i.types[a],h,c,o-s,l-o)),e.push(s-n)}function g(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(h){let t=[vz.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[vz.lookAhead,r];s=s?[t].concat(s):[t]}return new _z(t,e,n,i,s)}function m(t,e){let n=a.fork(),i=0,s=0,l=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=o?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=o&&(u+=4);n.next()}s=d,i+=t,l+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=l),c.size>4?c:void 0}function O(t,e,n){let{id:i,start:r,end:s,size:l}=a;if(a.next(),l>=0&&i<o){let o=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=O(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==l?h=i:-4==l&&(c=i);return n}let y=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,y,v,-1,0);let b=null!==(e=t.length)&&void 0!==e?e:y.length?v[0]+y[0].length:0;return new _z(l[t.topID],y.reverse(),v.reverse(),b)}(t)}}_z.empty=new _z(xz.none,[],[],0);class Qz{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Qz(this.buffer,this.index)}}class Tz{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return xz.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(Cz(r,i,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=i[o++],r[a++]=i[o++]-n;let e=r[a++]=i[o++]-n;r[a++]=i[o++]-t,s=Math.max(s,e)}return new Tz(r,s,this.set)}}function Cz(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function Ez(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof Az&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:Pz.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Az&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class Rz{cursor(){return new jz(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(t){let e=$z(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.length?e[0]:null}getChildren(t){return $z(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(t){return Ez(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(t){return Ez(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(t){return Nz(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class Az extends Rz{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:a}=s._tree,l=e>0?o.length:-1;t!=l;t+=e){let l=o[t],h=a[t]+s.from;if(Cz(i,n,h,h+l.length))if(l instanceof Tz){if(r&Pz.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-h,i);if(o>-1)return new Mz(new Iz(s,l,t,h),null,o)}else if(r&Pz.IncludeAnonymous||!l.type.isAnonymous||Uz(l)){let o;if(!(r&Pz.IgnoreMounts)&&(o=bz.get(l))&&!o.overlay)return new Az(o.tree,h,t,s);let a=new Az(l,h,t,s);return r&Pz.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&Pz.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&Pz.IgnoreOverlays)&&(n=bz.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new Az(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function $z(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function Nz(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class Iz{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class Mz extends Rz{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new Mz(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&Pz.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Mz(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Mz(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Mz(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new _z(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Dz(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof Az&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new qz(r,n)}class qz{constructor(t,e){this.heads=t,this.node=e}get next(){return Dz(this.heads)}}class jz{get name(){return this.type.name}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Az)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Az?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&Pz.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Pz.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Pz.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&Pz.IncludeAnonymous||t instanceof Tz||!t.type.isAnonymous||Uz(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,t)}prev(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,t)}moveTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new Mz(this.buffer,e,this.stack[i]);return this.bufferNode=new Mz(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&e&&e(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return Nz(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return Nz(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function Uz(t){return t.children.some((t=>t instanceof Tz||!t.type.isAnonymous||Uz(t)))}const Lz=new WeakMap;function Wz(t,e){if(!t.isAnonymous||e instanceof Tz||e.type!=t)return 1;let n=Lz.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof _z)){n=1;break}n+=Wz(t,i)}Lz.set(e,n)}return n}function zz(t,e,n,i,r,s,o,a,l){let h=0;for(let f=i;f<r;f++)h+=Wz(t,e[f]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(n,i,r,o,a){for(let h=r;h<o;){let r=h,f=i[h],p=Wz(t,n[h]);for(h++;h<o;h++){let e=Wz(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}u.push(n[r])}else{let e=i[h-1]+n[h-1].length-f;u.push(zz(t,n,i,r,h,f,e,null,l))}d.push(f+a-s)}}(e,n,i,r,0),(a||l)(u,d,o)}class Vz{constructor(){this.map=new WeakMap}setBuffer(t,e,n){let i=this.map.get(t);i||this.map.set(t,i=new Map),i.set(e,n)}getBuffer(t,e){let n=this.map.get(t);return n&&n.get(e)}set(t,e){t instanceof Mz?this.setBuffer(t.context.buffer,t.index,e):t instanceof Az&&this.map.set(t.tree,e)}get(t){return t instanceof Mz?this.getBuffer(t.context.buffer,t.index):t instanceof Az?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}}class Zz{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[new Zz(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=n)for(;s&&s.from<c;){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new Zz(t,n,e.tree,e.offset+l,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class Xz{startParse(t,e,n){return"string"==typeof t&&(t=new Yz(t)),n=n?n.length?n.map((t=>new yz(t.from,t.to))):[new yz(0,0)]:[new yz(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class Yz{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new vz({perNode:!0});let Fz=0;class Bz{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=Fz++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new Bz([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new Hz;return e=>e.modified.indexOf(t)>-1?e:Hz.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let Gz=0;class Hz{constructor(){this.instances=[],this.id=Gz++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new Bz(i,t,e);for(let o of e)o.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let o of t.set)if(!o.modified.length)for(let t of s)i.push(Hz.get(o,t));return r}}function Kz(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new tV(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return Jz.add(e)}const Jz=new vz;class tV{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function eV(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}tV.empty=new tV([],2,null);const nV=Bz.define,iV=nV(),rV=nV(),sV=nV(rV),oV=nV(rV),aV=nV(),lV=nV(aV),hV=nV(aV),cV=nV(),uV=nV(cV),dV=nV(),fV=nV(),pV=nV(),gV=nV(pV),mV=nV(),OV={comment:iV,lineComment:nV(iV),blockComment:nV(iV),docComment:nV(iV),name:rV,variableName:nV(rV),typeName:sV,tagName:nV(sV),propertyName:oV,attributeName:nV(oV),className:nV(rV),labelName:nV(rV),namespace:nV(rV),macroName:nV(rV),literal:aV,string:lV,docString:nV(lV),character:nV(lV),attributeValue:nV(lV),number:hV,integer:nV(hV),float:nV(hV),bool:nV(aV),regexp:nV(aV),escape:nV(aV),color:nV(aV),url:nV(aV),keyword:dV,self:nV(dV),null:nV(dV),atom:nV(dV),unit:nV(dV),modifier:nV(dV),operatorKeyword:nV(dV),controlKeyword:nV(dV),definitionKeyword:nV(dV),moduleKeyword:nV(dV),operator:fV,derefOperator:nV(fV),arithmeticOperator:nV(fV),logicOperator:nV(fV),bitwiseOperator:nV(fV),compareOperator:nV(fV),updateOperator:nV(fV),definitionOperator:nV(fV),typeOperator:nV(fV),controlOperator:nV(fV),punctuation:pV,separator:nV(pV),bracket:gV,angleBracket:nV(gV),squareBracket:nV(gV),paren:nV(gV),brace:nV(gV),content:cV,heading:uV,heading1:nV(uV),heading2:nV(uV),heading3:nV(uV),heading4:nV(uV),heading5:nV(uV),heading6:nV(uV),contentSeparator:nV(cV),list:nV(cV),quote:nV(cV),emphasis:nV(cV),strong:nV(cV),link:nV(cV),monospace:nV(cV),strikethrough:nV(cV),inserted:nV(),deleted:nV(),changed:nV(),invalid:nV(),meta:mV,documentMeta:nV(mV),annotation:nV(mV),processingInstruction:nV(mV),definition:Bz.defineModifier(),constant:Bz.defineModifier(),function:Bz.defineModifier(),standard:Bz.defineModifier(),local:Bz.defineModifier(),special:Bz.defineModifier()};eV([{tag:OV.link,class:"tok-link"},{tag:OV.heading,class:"tok-heading"},{tag:OV.emphasis,class:"tok-emphasis"},{tag:OV.strong,class:"tok-strong"},{tag:OV.keyword,class:"tok-keyword"},{tag:OV.atom,class:"tok-atom"},{tag:OV.bool,class:"tok-bool"},{tag:OV.url,class:"tok-url"},{tag:OV.labelName,class:"tok-labelName"},{tag:OV.inserted,class:"tok-inserted"},{tag:OV.deleted,class:"tok-deleted"},{tag:OV.literal,class:"tok-literal"},{tag:OV.string,class:"tok-string"},{tag:OV.number,class:"tok-number"},{tag:[OV.regexp,OV.escape,OV.special(OV.string)],class:"tok-string2"},{tag:OV.variableName,class:"tok-variableName"},{tag:OV.local(OV.variableName),class:"tok-variableName tok-local"},{tag:OV.definition(OV.variableName),class:"tok-variableName tok-definition"},{tag:OV.special(OV.variableName),class:"tok-variableName2"},{tag:OV.definition(OV.propertyName),class:"tok-propertyName tok-definition"},{tag:OV.typeName,class:"tok-typeName"},{tag:OV.namespace,class:"tok-namespace"},{tag:OV.className,class:"tok-className"},{tag:OV.macroName,class:"tok-macroName"},{tag:OV.propertyName,class:"tok-propertyName"},{tag:OV.operator,class:"tok-operator"},{tag:OV.comment,class:"tok-comment"},{tag:OV.meta,class:"tok-meta"},{tag:OV.invalid,class:"tok-invalid"},{tag:OV.punctuation,class:"tok-punctuation"}]);var yV;const vV=new vz;function bV(t){return Fm.define({combine:t?e=>e.concat(t):void 0})}const wV=new vz;class xV{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=t,this.name=i,MO.prototype.hasOwnProperty("tree")||Object.defineProperty(MO.prototype,"tree",{get(){return PV(this)}}),this.parser=e,this.extension=[NV.of(this),MO.languageData.of(((t,e,n)=>{let i=kV(t,e,n),r=i.type.prop(vV);if(!r)return[];let s=t.facet(r),o=i.type.prop(wV);if(o){let r=i.resolve(e-i.from,n);for(let e of o)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e){return kV(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(vV)==this.data}findRegions(t){let e=t.facet(NV);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(vV)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(vz.mounted);if(r){if(r.tree.prop(vV)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof _z&&i(r,t.positions[n]+e)}};return i(PV(t),0),n}get allowsNesting(){return!0}}function kV(t,e,n){let i=t.facet(NV),r=PV(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,Pz.ExcludeBuffers))s.type.isTop&&(r=s);return r}xV.setState=SO.define();class SV extends xV{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=bV(t.languageData);return new SV(e,t.parser.configure({props:[vV.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new SV(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function PV(t){let e=t.field(xV.state,!1);return e?e.tree:_z.empty}class _V{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let QV=null;class TV{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new TV(t,e,[],_z.empty,0,n,[],null)}startParse(){return this.parser.startParse(new _V(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=_z.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(Zz.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(Zz.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=QV;QV=this;try{return t()}finally{QV=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=CV(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=Zz.applyChanges(n,e),i=_z.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new TV(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:i}=this.skipped[n];e<t.to&&i>t.from&&(this.fragments=CV(this.fragments,e,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends Xz{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=QV;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new _z(xz.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return QV}}function CV(t,e,n){return Zz.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class EV{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new EV(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=TV.create(t.facet(NV).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new EV(n)}}xV.state=eO.define({create:EV.init,update(t,e){for(let n of e.effects)if(n.is(xV.setState))return n.value;return e.startState.facet(NV)!=e.state.facet(NV)?EV.init(e.state):t.apply(e)}});let RV=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(RV=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const AV="undefined"!=typeof navigator&&(null===(yV=navigator.scheduling)||void 0===yV?void 0:yV.isInputPending)?()=>navigator.scheduling.isInputPending():null,$V=hb.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(xV.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(xV.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=RV(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(xV.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!AV?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>AV&&AV()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:xV.setState.of(new EV(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>sb(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),NV=Fm.define({combine:t=>t.length?t[0]:null,enables:t=>[xV.state,$V,ox.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});class IV{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.language=t,this.support=e,this.extension=[t,e]}}const MV=Fm.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});const DV=new vz;function qV(t){let{closing:e,align:n=!0,units:i=1}=t;return t=>jV(t,n,i,e)}function jV(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?function(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let t=e.childAfter(a);if(!t||t==i)return null;if(!t.type.isSkipped)return t.from<o?n:null;a=t.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function UV(){let{except:t,units:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const LV=new vz;class WV{constructor(t,e){let n;function i(t){let e=sy.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof xV?t=>t.prop(vV)==s.data:s?t=>t==s:void 0,this.style=eV(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new sy(n):null,this.themeType=e.themeType}static define(t,e){return new WV(t,e||{})}}OV.meta,OV.link,OV.heading,OV.emphasis,OV.strong,OV.strikethrough,OV.keyword,OV.atom,OV.bool,OV.url,OV.contentSeparator,OV.labelName,OV.literal,OV.inserted,OV.string,OV.deleted,OV.regexp,OV.escape,OV.string,OV.variableName,OV.variableName,OV.typeName,OV.namespace,OV.className,OV.variableName,OV.macroName,OV.propertyName,OV.comment,OV.invalid;const zV=Object.create(null),VV=[xz.none],ZV=[],XV=Object.create(null),YV=Object.create(null);for(let[Q5,T5]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])YV[Q5]=BV(zV,T5);function FV(t,e){ZV.indexOf(t)>-1||(ZV.push(t),console.warn(e))}function BV(t,e){let n=[];for(let a of e.split(" ")){let e=[];for(let n of a.split(".")){let i=t[n]||OV[n];i?"function"==typeof i?e.length?e=e.map(i):FV(n,"Modifier ".concat(n," used at start of tag")):e.length?FV(n,"Tag ".concat(n," used as modifier")):e=Array.isArray(i)?i:[i]:FV(n,"Unknown highlighting tag ".concat(n))}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),s=XV[r];if(s)return s.id;let o=XV[r]=xz.define({id:VV.length,name:i,props:[Kz({[i]:n})]});return VV.push(o),o.id}_v.RTL,_v.LTR;function GV(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(e.replace(/[^\w\s]/g,"\\$&"),"]")}function HV(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,i]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let i=GV(e)+GV(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(e);return t=>{let r=t.matchBefore(i);return r||t.explicit?{from:r?r.from:t.pos,options:e,validFor:n}:null}}const KV=wO.define();"object"==typeof navigator&&navigator.platform;const JV=ox.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class tZ{constructor(t,e,n,i){this.field=t,this.line=e,this.from=n,this.to=i}}class eZ{constructor(t,e,n){this.field=t,this.from=e,this.to=n}map(t){let e=t.mapPos(this.from,-1,Im.TrackDel),n=t.mapPos(this.to,1,Im.TrackDel);return null==e||null==n?null:new eZ(this.field,e,n)}}class nZ{constructor(t,e){this.lines=t,this.fieldPositions=e}instantiate(t,e){let n=[],i=[e],r=t.doc.lineAt(e),s=/^\s*/.exec(r.text)[0];for(let a of this.lines){if(n.length){let n=s,r=/^\t*/.exec(a)[0].length;for(let e=0;e<r;e++)n+=t.facet(MV);i.push(e+n.length-r),a=n+a.slice(r)}n.push(a),e+=a.length+1}let o=this.fieldPositions.map((t=>new eZ(t.field,i[t.line]+t.from,i[t.line]+t.to)));return{text:n,ranges:o}}static parse(t){let e,n=[],i=[],r=[];for(let s of t.split(/\r\n?|\n/)){for(;e=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let t=e[1]?+e[1]:null,o=e[2]||e[3]||"",a=-1,l=o.replace(/\\[{}]/g,(t=>t[1]));for(let e=0;e<n.length;e++)(null!=t?n[e].seq==t:l&&n[e].name==l)&&(a=e);if(a<0){let e=0;for(;e<n.length&&(null==t||null!=n[e].seq&&n[e].seq<t);)e++;n.splice(e,0,{seq:t,name:l}),a=e;for(let t of r)t.field>=a&&t.field++}r.push(new tZ(a,i.length,e.index,e.index+l.length)),s=s.slice(0,e.index)+o+s.slice(e.index+e[0].length)}s=s.replace(/\\([{}])/g,((t,e,n)=>{for(let s of r)s.line==i.length&&s.from>n&&(s.from--,s.to--);return e})),i.push(s)}return new nZ(i,r)}}let iZ=Ov.widget({widget:new class extends gv{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),rZ=Ov.mark({class:"cm-snippetField"});class sZ{constructor(t,e){this.ranges=t,this.active=e,this.deco=Ov.set(t.map((t=>(t.from==t.to?iZ:rZ).range(t.from,t.to))))}map(t){let e=[];for(let n of this.ranges){let i=n.map(t);if(!i)return null;e.push(i)}return new sZ(e,this.active)}selectionInsideField(t){return t.ranges.every((t=>this.ranges.some((e=>e.field==this.active&&e.from<=t.from&&e.to>=t.to))))}}const oZ=SO.define({map:(t,e)=>t&&t.map(e)}),aZ=SO.define(),lZ=eO.define({create:()=>null,update(t,e){for(let n of e.effects){if(n.is(oZ))return n.value;if(n.is(aZ)&&t)return new sZ(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>ox.decorations.from(t,(t=>t?t.deco:Ov.none))});function hZ(t,e){return Zm.create(t.filter((t=>t.field==e)).map((t=>Zm.range(t.from,t.to))))}function cZ(t){let e=nZ.parse(t);return(t,n,i,r)=>{let{text:s,ranges:o}=e.instantiate(t.state,i),a={changes:{from:i,to:r,insert:dm.of(s)},scrollIntoView:!0,annotations:n?[KV.of(n),PO.userEvent.of("input.complete")]:void 0};if(o.length&&(a.selection=hZ(o,0)),o.some((t=>t.field>0))){let e=new sZ(o,0),n=a.effects=[oZ.of(e)];void 0===t.state.field(lZ,!1)&&n.push(SO.appendConfig.of([lZ,pZ,mZ,JV]))}t.dispatch(t.state.update(a))}}function uZ(t){return e=>{let{state:n,dispatch:i}=e,r=n.field(lZ,!1);if(!r||t<0&&0==r.active)return!1;let s=r.active+t,o=t>0&&!r.ranges.some((e=>e.field==s+t));return i(n.update({selection:hZ(r.ranges,s),effects:oZ.of(o?null:new sZ(r.ranges,s)),scrollIntoView:!0})),!0}}const dZ=[{key:"Tab",run:uZ(1),shift:uZ(-1)},{key:"Escape",run:t=>{let{state:e,dispatch:n}=t;return!!e.field(lZ,!1)&&(n(e.update({effects:oZ.of(null)})),!0)}}],fZ=Fm.define({combine:t=>t.length?t[0]:dZ}),pZ=aO.highest(px.compute([fZ],(t=>t.facet(fZ))));function gZ(t,e){return Object.assign(Object.assign({},e),{apply:cZ(t)})}const mZ=ox.domEventHandlers({mousedown(t,e){let n,i=e.state.field(lZ,!1);if(!i||null==(n=e.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let r=i.ranges.find((t=>t.from<=n&&t.to>=n));return!(!r||r.field==i.active)&&(e.dispatch({selection:hZ(i.ranges,r.field),effects:oZ.of(i.ranges.some((t=>t.field>r.field))?new sZ(i.ranges,r.field):null),scrollIntoView:!0}),!0)}});const OZ=new class extends qO{};OZ.startSide=1,OZ.endSide=-1;"object"==typeof navigator&&navigator.userAgent;const yZ=[gZ("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),gZ("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),gZ("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),gZ("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),gZ("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),gZ("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),gZ("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),gZ("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),gZ("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),gZ('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),gZ('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],vZ=yZ.concat([gZ("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),gZ("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),gZ("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),bZ=new Vz,wZ=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function xZ(t){return(e,n)=>{let i=e.node.getChild("VariableDefinition");return i&&n(i,t),!0}}const kZ=["FunctionDeclaration"],SZ={FunctionDeclaration:xZ("function"),ClassDeclaration:xZ("class"),ClassExpression:()=>!0,EnumDeclaration:xZ("constant"),TypeAliasDeclaration:xZ("type"),NamespaceDeclaration:xZ("namespace"),VariableDefinition(t,e){t.matchContext(kZ)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function PZ(t,e){let n=bZ.get(e);if(n)return n;let i=[],r=!0;function s(e,n){let r=t.sliceString(e.from,e.to);i.push({label:r,type:n})}return e.cursor(Pz.IncludeAnonymous).iterate((e=>{if(r)r=!1;else if(e.name){let t=SZ[e.name];if(t&&t(e,s)||wZ.has(e.name))return!1}else if(e.to-e.from>8192){for(let n of PZ(t,e.node))i.push(n);return!1}})),bZ.set(e,i),i}const _Z=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,QZ=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function TZ(t){let e=PV(t.state).resolveInner(t.pos,-1);if(QZ.indexOf(e.name)>-1)return null;let n="VariableName"==e.name||e.to-e.from<20&&_Z.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let i=[];for(let r=e;r;r=r.parent)wZ.has(r.name)&&(i=i.concat(PZ(t.state.doc,r)));return{options:i,from:n?e.from:t.pos,validFor:_Z}}const CZ=SV.define({name:"javascript",parser:gz.configure({props:[DV.add({IfStatement:UV({except:/^\s*({|else\b)/}),TryStatement:UV({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:t=>t.baseIndent,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:i?1:2)*t.unit},Block:qV({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":UV({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag":t=>t.column(t.node.from)+t.unit}),LV.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":function(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null},BlockComment:t=>({from:t.from+2,to:t.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),EZ={test:t=>/^JSX/.test(t.name),facet:bV({commentTokens:{block:{open:"{/*",close:"*/}"}}})},RZ=CZ.configure({dialect:"ts"},"typescript"),AZ=CZ.configure({dialect:"jsx",props:[wV.add((t=>t.isTop?[EZ]:void 0))]}),$Z=CZ.configure({dialect:"jsx ts",props:[wV.add((t=>t.isTop?[EZ]:void 0))]},"typescript");let NZ=t=>({label:t,type:"keyword"});const IZ="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(NZ),MZ=IZ.concat(["declare","implements","private","protected","public"].map(NZ));function DZ(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length;for(let i=null===e||void 0===e?void 0:e.firstChild;i;i=i.nextSibling)if("JSXIdentifier"==i.name||"JSXBuiltin"==i.name||"JSXNamespacedName"==i.name||"JSXMemberExpression"==i.name)return t.sliceString(i.from,Math.min(i.to,n));return""}const qZ="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),jZ=ox.inputHandler.of(((t,e,n,i,r)=>{if((qZ?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||">"!=i&&"/"!=i||!CZ.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange((t=>{var e;let n,{head:r}=t,s=PV(o).resolveInner(r-1,-1);if("JSXStartTag"==s.name&&(s=s.parent),o.doc.sliceString(r-1,r)!=i||"JSXAttributeValue"==s.name&&s.to>r);else{if(">"==i&&"JSXFragmentTag"==s.name)return{range:t,changes:{from:r,insert:"</>"}};if("/"==i&&"JSXStartCloseTag"==s.name){let t=s.parent,i=t.parent;if(i&&t.from==r-2&&((n=DZ(o.doc,i.firstChild,r))||"JSXFragmentTag"==(null===(e=i.firstChild)||void 0===e?void 0:e.name))){let t="".concat(n,">");return{range:Zm.cursor(r+t.length,-1),changes:{from:r,insert:t}}}}else if(">"==i){let e=function(t){for(;;){if("JSXOpenTag"==t.name||"JSXSelfClosingTag"==t.name||"JSXFragmentTag"==t.name)return t;if("JSXEscape"==t.name||!t.parent)return null;t=t.parent}}(s);if(e&&"JSXOpenTag"==e.name&&!/^\/?>|^<\//.test(o.doc.sliceString(r,r+2))&&(n=DZ(o.doc,e,r)))return{range:t,changes:{from:r,insert:"</".concat(n,">")}}}}return{range:t}}));return!a.changes.empty&&(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}));const UZ=t=>{let{currentQuestion:e,onCodeSubmit:n,onRunTests:i,onCodeChange:r,userId:s,language:a,activityOrder:l}=t;const[h,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),f="Java"===a?new yL(AL):"JavaScript"===a?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.jsx?t.typescript?$Z:AZ:t.typescript?RZ:CZ,n=t.typescript?vZ.concat(MZ):yZ.concat(IZ);return new IV(e,[CZ.data.of({autocomplete:(i=QZ,r=HV(n),t=>{for(let e=PV(t.state).resolveInner(t.pos,-1);e;e=e.parent){if(i.indexOf(e.name)>-1)return null;if(e.type.isTop)break}return r(t)})}),CZ.data.of({autocomplete:TZ}),t.jsx?jZ:[]]);var i,r}():new AD(Tq,[Tq.data.of({autocomplete:xq}),Tq.data.of({autocomplete:Pq})]),{setContainer:p}=vN({value:h,theme:pN,extensions:[f],onChange:t=>{c(t),r(t)}});(0,o.useEffect)((()=>{(async()=>{const t=Pf(rm,"users",s,"activities",a,"activityOrder",l,"questions",e.id),n=await Pp(t);if(n.exists()){const t=n.data().userCode;c(t)}else{const t=((t,e)=>{if("Java"===e)switch(t){case"add":case"subtract":case"multiply":case"divide":case"power":case"mod":case"findMax":return"public static int ".concat(t,"(int a, int b) {\n    // Write your code here\n}");case"concatStrings":return"public static String ".concat(t,"(String a, String b) {\n    // Write your code here\n}");case"isEven":return"public static boolean ".concat(t,"(int a) {\n    // Write your code here\n}");case"factorial":return"public static int ".concat(t,"(int n) {\n    // Write your code here\n}");case"stringLength":return"public static int ".concat(t,"(String a) {\n    // Write your code here\n}");case"reverseString":case"toUpperCase":case"toLowerCase":return"public static String ".concat(t,"(String a) {\n    // Write your code here\n}");case"isPalindrome":return"public static boolean ".concat(t,"(String a) {\n    // Write your code here\n}");case"replaceSubstring":return"public static String ".concat(t,"(String a, String b, String c) {\n    // Write your code here\n}");case"findSubstring":return"public static int ".concat(t,"(String a, String b) {\n    // Write your code here\n}");case"splitString":return"public static String[] ".concat(t,"(String a, String delimiter) {\n    // Write your code here\n}");case"joinStrings":return"public static String ".concat(t,"(String[] a, String delimiter) {\n    // Write your code here\n}");case"addItem":case"removeItem":return"public static void ".concat(t,"(List<Integer> list, int item) {\n    // Write your code here\n}");case"findIndex":case"countOccurrences":return"public static int ".concat(t,"(List<Integer> list, int item) {\n    // Write your code here\n}");case"sortList":case"reverseList":return"public static void ".concat(t,"(List<Integer> list) {\n    // Write your code here\n}");case"mergeLists":return"public static List<Integer> ".concat(t,"(List<Integer> list1, List<Integer> list2) {\n    // Write your code here\n}");case"maxValue":case"minValue":return"public static int ".concat(t,"(List<Integer> list) {\n    // Write your code here\n}");case"removeDuplicates":return"public static List<Integer> ".concat(t,"(List<Integer> list) {\n    // Write your code here\n}");case"addKeyValue":return"public static void ".concat(t,"(Map<String, Integer> map, String key, int value) {\n    // Write your code here\n}");case"removeKeyValue":return"public static void ".concat(t,"(Map<String, Integer> map, String key) {\n    // Write your code here\n}");case"findValue":return"public static int ".concat(t,"(Map<String, Integer> map, String key) {\n    // Write your code here\n}");case"mergeMaps":return"public static Map<String, Integer> ".concat(t,"(Map<String, Integer> map1, Map<String, Integer> map2) {\n    // Write your code here\n}");case"keyExists":return"public static boolean ".concat(t,"(Map<String, Integer> map, String key) {\n    // Write your code here\n}");case"getKeys":return"public static Set<String> ".concat(t,"(Map<String, Integer> map) {\n    // Write your code here\n}");case"getValues":return"public static Collection<Integer> ".concat(t,"(Map<String, Integer> map) {\n    // Write your code here\n}");case"maxValueKey":return"public static String ".concat(t,"(Map<String, Integer> map) {\n    // Write your code here\n}");case"invertMap":return"public static Map<Integer, String> ".concat(t,"(Map<String, Integer> map) {\n    // Write your code here\n}");case"sortByKeys":return"public static Map<String, Integer> ".concat(t,"(Map<String, Integer> map) {\n    // Write your code here\n}");case"addElement":case"removeElement":return"public static void ".concat(t,"(Set<Integer> set, int element) {\n    // Write your code here\n}");case"unionSets":case"intersectionSets":case"differenceSets":return"public static Set<Integer> ".concat(t,"(Set<Integer> set1, Set<Integer> set2) {\n    // Write your code here\n}");case"isSubset":case"isSuperset":return"public static boolean ".concat(t,"(Set<Integer> set1, Set<Integer> set2) {\n    // Write your code here\n}");case"clearSet":return"public static void ".concat(t,"(Set<Integer> set) {\n    // Write your code here\n}");case"lengthSet":return"public static int ".concat(t,"(Set<Integer> set) {\n    // Write your code here\n}");case"listToSet":return"public static Set<Integer> ".concat(t,"(List<Integer> list) {\n    // Write your code here\n}");default:return"// Write your code here\n// You can start coding right away\n// The editor will scroll if the content gets too long\n"}else if("JavaScript"===e)switch(t){case"add":case"subtract":case"multiply":case"divide":case"power":case"mod":case"concatStrings":case"findMax":case"findSubstring":return"function ".concat(t,"(a, b) {\n    // Write your code here\n}");case"isEven":case"stringLength":case"reverseString":case"toUpperCase":case"toLowerCase":case"isPalindrome":return"function ".concat(t,"(a) {\n    // Write your code here\n}");case"factorial":return"function ".concat(t,"(n) {\n    // Write your code here\n}");case"replaceSubstring":return"function ".concat(t,"(a, b, c) {\n    // Write your code here\n}");case"splitString":case"joinStrings":return"function ".concat(t,"(a, delimiter) {\n    // Write your code here\n}");case"addItem":case"removeItem":case"findIndex":case"countOccurrences":return"function ".concat(t,"(list, item) {\n    // Write your code here\n}");case"sortList":case"reverseList":case"maxValue":case"minValue":case"removeDuplicates":case"arrayToSet":return"function ".concat(t,"(list) {\n    // Write your code here\n}");case"mergeLists":return"function ".concat(t,"(list1, list2) {\n    // Write your code here\n}");case"addKeyValue":return"function ".concat(t,"(map, key, value) {\n    // Write your code here\n}");case"removeKeyValue":case"findValue":case"keyExists":return"function ".concat(t,"(map, key) {\n    // Write your code here\n}");case"mergeMaps":return"function ".concat(t,"(map1, map2) {\n    // Write your code here\n}");case"getKeys":case"getValues":case"maxValueKey":case"invertMap":case"sortByKeys":return"function ".concat(t,"(map) {\n    // Write your code here\n}");case"addElement":case"removeElement":return"function ".concat(t,"(set, element) {\n    // Write your code here\n}");case"unionSets":case"intersectionSets":case"differenceSets":case"isSubset":case"isSuperset":return"function ".concat(t,"(set1, set2) {\n    // Write your code here\n}");case"clearSet":case"lengthSet":return"function ".concat(t,"(set) {\n    // Write your code here\n}");default:return"// Write your code here\n// You can start coding right away\n// The editor will scroll if the content gets too long\n"}else switch(t){case"add":case"subtract":case"multiply":case"divide":case"power":case"mod":case"concatStrings":case"findMax":case"findSubstring":return"def ".concat(t,"(a, b):\n    # Write your code here\n    pass");case"isEven":case"stringLength":case"reverseString":case"toUpperCase":case"toLowerCase":case"isPalindrome":return"def ".concat(t,"(a):\n    # Write your code here\n    pass");case"factorial":return"def ".concat(t,"(n):\n    # Write your code here\n    pass");case"replaceSubstring":return"def ".concat(t,"(a, b, c):\n    # Write your code here\n    pass");case"splitString":case"joinStrings":return"def ".concat(t,"(a, delimiter):\n    # Write your code here\n    pass");case"addItem":case"removeItem":case"findIndex":case"countOccurrences":return"def ".concat(t,"(list, item):\n    # Write your code here\n    pass");case"sortList":case"reverseList":case"maxValue":case"minValue":case"removeDuplicates":case"listToSet":return"def ".concat(t,"(list):\n    # Write your code here\n    pass");case"mergeLists":return"def ".concat(t,"(list1, list2):\n    # Write your code here\n    pass");case"addKeyValue":return"def ".concat(t,"(map, key, value):\n    # Write your code here\n    pass");case"removeKeyValue":case"findValue":case"keyExists":return"def ".concat(t,"(map, key):\n    # Write your code here\n    pass");case"mergeMaps":return"def ".concat(t,"(map1, map2):\n    # Write your code here\n    pass");case"getKeys":case"getValues":case"maxValueKey":case"invertMap":case"sortByKeys":return"def ".concat(t,"(map):\n    # Write your code here\n    pass");case"addElement":case"removeElement":return"def ".concat(t,"(set, element):\n    # Write your code here\n    pass");case"unionSets":case"intersectionSets":case"differenceSets":case"isSubset":case"isSuperset":return"def ".concat(t,"(set1, set2):\n    # Write your code here\n    pass");case"clearSet":case"lengthSet":return"def ".concat(t,"(set):\n    # Write your code here\n    pass");default:return"# Write your code here\n# You can start coding right away\n# The editor will scroll if the content gets too long\n"}})(e.functionName,a);c(t),d(t)}})()}),[e,s,a,l]);return(0,om.jsxs)("div",{className:"coding-section",children:[(0,om.jsx)("p",{className:"coding-question",children:e.codingQuestion}),(0,om.jsx)("div",{ref:p,className:"code-editor"}),(0,om.jsx)("button",{className:"code-editor-button",onClick:()=>{c(u)},children:"Restart"}),(0,om.jsx)("button",{className:"code-editor-button",onClick:async()=>{i(h,5)},children:"Run Tests"}),(0,om.jsx)("button",{className:"code-editor-button",onClick:()=>n(h,50),children:"Submit"})," "]})};function LZ(t,e){return function(){return t.apply(e,arguments)}}const{toString:WZ}=Object.prototype,{getPrototypeOf:zZ}=Object,VZ=(t=>e=>{const n=WZ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ZZ=t=>(t=t.toLowerCase(),e=>VZ(e)===t),XZ=t=>e=>typeof e===t,{isArray:YZ}=Array,FZ=XZ("undefined");const BZ=ZZ("ArrayBuffer");const GZ=XZ("string"),HZ=XZ("function"),KZ=XZ("number"),JZ=t=>null!==t&&"object"===typeof t,tX=t=>{if("object"!==VZ(t))return!1;const e=zZ(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eX=ZZ("Date"),nX=ZZ("File"),iX=ZZ("Blob"),rX=ZZ("FileList"),sX=ZZ("URLSearchParams"),[oX,aX,lX,hX]=["ReadableStream","Request","Response","Headers"].map(ZZ);function cX(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),YZ(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function uX(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const dX="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,fX=t=>!FZ(t)&&t!==dX;const pX=(gX="undefined"!==typeof Uint8Array&&zZ(Uint8Array),t=>gX&&t instanceof gX);var gX;const mX=ZZ("HTMLFormElement"),OX=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),yX=ZZ("RegExp"),vX=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};cX(n,((n,r)=>{let s;!1!==(s=e(n,r,t))&&(i[r]=s||n)})),Object.defineProperties(t,i)},bX="abcdefghijklmnopqrstuvwxyz",wX="0123456789",xX={DIGIT:wX,ALPHA:bX,ALPHA_DIGIT:bX+bX.toUpperCase()+wX};const kX=ZZ("AsyncFunction"),SX={isArray:YZ,isArrayBuffer:BZ,isBuffer:function(t){return null!==t&&!FZ(t)&&null!==t.constructor&&!FZ(t.constructor)&&HZ(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||HZ(t.append)&&("formdata"===(e=VZ(t))||"object"===e&&HZ(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&BZ(t.buffer),e},isString:GZ,isNumber:KZ,isBoolean:t=>!0===t||!1===t,isObject:JZ,isPlainObject:tX,isReadableStream:oX,isRequest:aX,isResponse:lX,isHeaders:hX,isUndefined:FZ,isDate:eX,isFile:nX,isBlob:iX,isRegExp:yX,isFunction:HZ,isStream:t=>JZ(t)&&HZ(t.pipe),isURLSearchParams:sX,isTypedArray:pX,isFileList:rX,forEach:cX,merge:function t(){const{caseless:e}=fX(this)&&this||{},n={},i=(i,r)=>{const s=e&&uX(n,r)||r;tX(n[s])&&tX(i)?n[s]=t(n[s],i):tX(i)?n[s]=t({},i):YZ(i)?n[s]=i.slice():n[s]=i};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&cX(arguments[r],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return cX(e,((e,i)=>{n&&HZ(e)?t[i]=LZ(e,n):t[i]=e}),{allOwnKeys:i}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],i&&!i(o,t,e)||a[o]||(e[o]=t[o],a[o]=!0);t=!1!==n&&zZ(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:VZ,kindOfTest:ZZ,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(YZ(t))return t;let e=t.length;if(!KZ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:mX,hasOwnProperty:OX,hasOwnProp:OX,reduceDescriptors:vX,freezeMethods:t=>{vX(t,((e,n)=>{if(HZ(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];HZ(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach((t=>{n[t]=!0}))};return YZ(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:uX,global:dX,isContextDefined:fX,ALPHABET:xX,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xX.ALPHA_DIGIT,n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&HZ(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(JZ(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const r=YZ(t)?[]:{};return cX(t,((t,e)=>{const s=n(t,i+1);!FZ(s)&&(r[e]=s)})),e[i]=void 0,r}}return t};return n(t,0)},isAsyncFn:kX,isThenable:t=>t&&(JZ(t)||HZ(t))&&HZ(t.then)&&HZ(t.catch)};function PX(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}SX.inherits(PX,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:SX.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _X=PX.prototype,QX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{QX[t]={value:t}})),Object.defineProperties(PX,QX),Object.defineProperty(_X,"isAxiosError",{value:!0}),PX.from=(t,e,n,i,r,s)=>{const o=Object.create(_X);return SX.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),PX.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const TX=PX;function CX(t){return SX.isPlainObject(t)||SX.isArray(t)}function EX(t){return SX.endsWith(t,"[]")?t.slice(0,-2):t}function RX(t,e,n){return t?t.concat(e).map((function(t,e){return t=EX(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const AX=SX.toFlatObject(SX,{},null,(function(t){return/^is[A-Z]/.test(t)}));const $X=function(t,e,n){if(!SX.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=SX.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!SX.isUndefined(e[t])}))).metaTokens,r=n.visitor||h,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&SX.isSpecCompliantForm(e);if(!SX.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(SX.isDate(t))return t.toISOString();if(!a&&SX.isBlob(t))throw new TX("Blob is not supported. Use a Buffer instead.");return SX.isArrayBuffer(t)||SX.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function h(t,n,r){let a=t;if(t&&!r&&"object"===typeof t)if(SX.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(SX.isArray(t)&&function(t){return SX.isArray(t)&&!t.some(CX)}(t)||(SX.isFileList(t)||SX.endsWith(n,"[]"))&&(a=SX.toArray(t)))return n=EX(n),a.forEach((function(t,i){!SX.isUndefined(t)&&null!==t&&e.append(!0===o?RX([n],i,s):null===o?n:n+"[]",l(t))})),!1;return!!CX(t)||(e.append(RX(r,n,s),l(t)),!1)}const c=[],u=Object.assign(AX,{defaultVisitor:h,convertValue:l,isVisitable:CX});if(!SX.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!SX.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),SX.forEach(n,(function(n,s){!0===(!(SX.isUndefined(n)||null===n)&&r.call(e,n,SX.isString(s)?s.trim():s,i,u))&&t(n,i?i.concat(s):[s])})),c.pop()}}(t),e};function NX(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function IX(t,e){this._pairs=[],t&&$X(t,this,e)}const MX=IX.prototype;MX.append=function(t,e){this._pairs.push([t,e])},MX.toString=function(t){const e=t?function(e){return t.call(this,e,NX)}:NX;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const DX=IX;function qX(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jX(t,e,n){if(!e)return t;const i=n&&n.encode||qX,r=n&&n.serialize;let s;if(s=r?r(e,n):SX.isURLSearchParams(e)?e.toString():new DX(e,n).toString(i),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const UX=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){SX.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},LX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WX={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:DX,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zX="undefined"!==typeof window&&"undefined"!==typeof document,VX=(ZX="undefined"!==typeof navigator&&navigator.product,zX&&["ReactNative","NativeScript","NS"].indexOf(ZX)<0);var ZX;const XX="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,YX=zX&&window.location.href||"http://localhost",FX={...i,...WX};const BX=function(t){function e(t,n,i,r){let s=t[r++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=r>=t.length;if(s=!s&&SX.isArray(i)?i.length:s,a)return SX.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o;i[s]&&SX.isObject(i[s])||(i[s]=[]);return e(t,n,i[s],r)&&SX.isArray(i[s])&&(i[s]=function(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}(i[s])),!o}if(SX.isFormData(t)&&SX.isFunction(t.entries)){const n={};return SX.forEachEntry(t,((t,i)=>{e(function(t){return SX.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,n,0)})),n}return null};const GX={transitional:LX,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=SX.isObject(t);r&&SX.isHTMLForm(t)&&(t=new FormData(t));if(SX.isFormData(t))return i?JSON.stringify(BX(t)):t;if(SX.isArrayBuffer(t)||SX.isBuffer(t)||SX.isStream(t)||SX.isFile(t)||SX.isBlob(t)||SX.isReadableStream(t))return t;if(SX.isArrayBufferView(t))return t.buffer;if(SX.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return $X(t,new FX.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return FX.isNode&&SX.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=SX.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return $X(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),function(t,e,n){if(SX.isString(t))try{return(e||JSON.parse)(t),SX.trim(t)}catch(S5){if("SyntaxError"!==S5.name)throw S5}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||GX.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(SX.isResponse(t)||SX.isReadableStream(t))return t;if(t&&SX.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(S5){if(n){if("SyntaxError"===S5.name)throw TX.from(S5,TX.ERR_BAD_RESPONSE,this,null,this.response);throw S5}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:FX.classes.FormData,Blob:FX.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};SX.forEach(["delete","get","head","post","put","patch"],(t=>{GX.headers[t]={}}));const HX=GX,KX=SX.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JX=Symbol("internals");function tY(t){return t&&String(t).trim().toLowerCase()}function eY(t){return!1===t||null==t?t:SX.isArray(t)?t.map(eY):String(t)}function nY(t,e,n,i,r){return SX.isFunction(i)?i.call(this,e,n):(r&&(e=n),SX.isString(e)?SX.isString(i)?-1!==e.indexOf(i):SX.isRegExp(i)?i.test(e):void 0:void 0)}class iY{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(t,e,n){const r=tY(e);if(!r)throw new Error("header name must be a non-empty string");const s=SX.findKey(i,r);(!s||void 0===i[s]||!0===n||void 0===n&&!1!==i[s])&&(i[s||e]=eY(t))}const s=(t,e)=>SX.forEach(t,((t,n)=>r(t,n,e)));if(SX.isPlainObject(t)||t instanceof this.constructor)s(t,e);else if(SX.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))s((t=>{const e={};let n,i,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),i=t.substring(r+1).trim(),!n||e[n]&&KX[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e);else if(SX.isHeaders(t))for(const[o,a]of t.entries())r(a,o,n);else null!=t&&r(e,t,n);return this}get(t,e){if(t=tY(t)){const n=SX.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(SX.isFunction(e))return e.call(this,t,n);if(SX.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=tY(t)){const n=SX.findKey(this,t);return!(!n||void 0===this[n]||e&&!nY(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function r(t){if(t=tY(t)){const r=SX.findKey(n,t);!r||e&&!nY(0,n[r],r,e)||(delete n[r],i=!0)}}return SX.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];t&&!nY(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return SX.forEach(this,((i,r)=>{const s=SX.findKey(n,r);if(s)return e[s]=eY(i),void delete e[r];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(r):String(r).trim();o!==r&&delete e[r],e[o]=eY(i),n[o]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return SX.forEach(this,((n,i)=>{null!=n&&!1!==n&&(e[i]=t&&SX.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[JX]=this[JX]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=tY(t);e[i]||(!function(t,e){const n=SX.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[i]=!0)}return SX.isArray(t)?t.forEach(i):i(t),this}}iY.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),SX.reduceDescriptors(iY.prototype,((t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}})),SX.freezeMethods(iY);const rY=iY;function sY(t,e){const n=this||HX,i=e||n,r=rY.from(i.headers);let s=i.data;return SX.forEach(t,(function(t){s=t.call(n,s,r.normalize(),e?e.status:void 0)})),r.normalize(),s}function oY(t){return!(!t||!t.__CANCEL__)}function aY(t,e,n){TX.call(this,null==t?"canceled":t,TX.ERR_CANCELED,e,n),this.name="CanceledError"}SX.inherits(aY,TX,{__CANCEL__:!0});const lY=aY;function hY(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new TX("Request failed with status code "+n.status,[TX.ERR_BAD_REQUEST,TX.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const cY=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),h=i[o];r||(r=l),n[s]=a,i[s]=l;let c=o,u=0;for(;c!==s;)u+=n[c++],c%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-r<e)return;const d=h&&l-h;return d?Math.round(1e3*u/d):void 0}};const uY=function(t,e){let n=0;const i=1e3/e;let r=null;return function(){const e=!0===this,s=Date.now();if(e||s-n>i)return r&&(clearTimeout(r),r=null),n=s,t.apply(null,arguments);r||(r=setTimeout((()=>(r=null,n=Date.now(),t.apply(null,arguments))),i-(s-n)))}},dY=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=cY(50,250);return uY((n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-i,l=r(a);i=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o};h[e?"download":"upload"]=!0,t(h)}),n)},fY=FX.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(n){let i=n;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){const e=SX.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0},pY=FX.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];SX.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),SX.isString(i)&&o.push("path="+i),SX.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function gY(t,e){return t&&!function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const mY=t=>t instanceof rY?{...t}:t;function OY(t,e){e=e||{};const n={};function i(t,e,n){return SX.isPlainObject(t)&&SX.isPlainObject(e)?SX.merge.call({caseless:n},t,e):SX.isPlainObject(e)?SX.merge({},e):SX.isArray(e)?e.slice():e}function r(t,e,n){return SX.isUndefined(e)?SX.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function s(t,e){if(!SX.isUndefined(e))return i(void 0,e)}function o(t,e){return SX.isUndefined(e)?SX.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,r,s){return s in e?i(n,r):s in t?i(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>r(mY(t),mY(e),!0)};return SX.forEach(Object.keys(Object.assign({},t,e)),(function(i){const s=l[i]||r,o=s(t[i],e[i],i);SX.isUndefined(o)&&s!==a||(n[i]=o)})),n}const yY=t=>{const e=OY({},t);let n,{data:i,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=e;if(e.headers=a=rY.from(a),e.url=jX(gY(e.baseURL,e.url),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),SX.isFormData(i))if(FX.hasStandardBrowserEnv||FX.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[t,...e]=n?n.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(FX.hasStandardBrowserEnv&&(r&&SX.isFunction(r)&&(r=r(e)),r||!1!==r&&fY(e.url))){const t=s&&o&&pY.read(o);t&&a.set(s,t)}return e},vY="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){const i=yY(t);let r=i.data;const s=rY.from(i.headers).normalize();let o,{responseType:a}=i;function l(){i.cancelToken&&i.cancelToken.unsubscribe(o),i.signal&&i.signal.removeEventListener("abort",o)}let h=new XMLHttpRequest;function c(){if(!h)return;const i=rY.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());hY((function(t){e(t),l()}),(function(t){n(t),l()}),{data:a&&"text"!==a&&"json"!==a?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:i,config:t,request:h}),h=null}h.open(i.method.toUpperCase(),i.url,!0),h.timeout=i.timeout,"onloadend"in h?h.onloadend=c:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(c)},h.onabort=function(){h&&(n(new TX("Request aborted",TX.ECONNABORTED,i,h)),h=null)},h.onerror=function(){n(new TX("Network Error",TX.ERR_NETWORK,i,h)),h=null},h.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const e=i.transitional||LX;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new TX(t,e.clarifyTimeoutError?TX.ETIMEDOUT:TX.ECONNABORTED,i,h)),h=null},void 0===r&&s.setContentType(null),"setRequestHeader"in h&&SX.forEach(s.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),SX.isUndefined(i.withCredentials)||(h.withCredentials=!!i.withCredentials),a&&"json"!==a&&(h.responseType=i.responseType),"function"===typeof i.onDownloadProgress&&h.addEventListener("progress",dY(i.onDownloadProgress,!0)),"function"===typeof i.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",dY(i.onUploadProgress)),(i.cancelToken||i.signal)&&(o=e=>{h&&(n(!e||e.type?new lY(null,t,h):e),h.abort(),h=null)},i.cancelToken&&i.cancelToken.subscribe(o),i.signal&&(i.signal.aborted?o():i.signal.addEventListener("abort",o)));const u=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(i.url);u&&-1===FX.protocols.indexOf(u)?n(new TX("Unsupported protocol "+u+":",TX.ERR_BAD_REQUEST,t)):h.send(r||null)}))},bY=(t,e)=>{let n,i=new AbortController;const r=function(t){if(!n){n=!0,o();const e=t instanceof Error?t:this.reason;i.abort(e instanceof TX?e:new lY(e instanceof Error?e.message:e))}};let s=e&&setTimeout((()=>{r(new TX("timeout ".concat(e," of ms exceeded"),TX.ETIMEDOUT))}),e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",r):t.unsubscribe(r))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",r)));const{signal:a}=i;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},wY=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let i,r=0;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},xY=(t,e,n,i,r)=>{const s=async function*(t,e,n){for await(const i of t)yield*wY(ArrayBuffer.isView(i)?i:await n(String(i)),e)}(t,e,r);let o=0;return new ReadableStream({type:"bytes",async pull(t){const{done:e,value:r}=await s.next();if(e)return t.close(),void i();let a=r.byteLength;n&&n(o+=a),t.enqueue(new Uint8Array(r))},cancel:t=>(i(t),s.return())},{highWaterMark:2})},kY=(t,e)=>{const n=null!=t;return i=>setTimeout((()=>e({lengthComputable:n,total:t,loaded:i})))},SY="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,PY=SY&&"function"===typeof ReadableStream,_Y=SY&&("function"===typeof TextEncoder?(QY=new TextEncoder,t=>QY.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var QY;const TY=PY&&(()=>{let t=!1;const e=new Request(FX.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),CY=PY&&!!(()=>{try{return SX.isReadableStream(new Response("").body)}catch(t){}})(),EY={stream:CY&&(t=>t.body)};var RY;SY&&(RY=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!EY[t]&&(EY[t]=SX.isFunction(RY[t])?e=>e[t]():(e,n)=>{throw new TX("Response type '".concat(t,"' is not supported"),TX.ERR_NOT_SUPPORT,n)})})));const AY=async(t,e)=>{const n=SX.toFiniteNumber(t.getContentLength());return null==n?(async t=>null==t?0:SX.isBlob(t)?t.size:SX.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:SX.isArrayBufferView(t)?t.byteLength:(SX.isURLSearchParams(t)&&(t+=""),SX.isString(t)?(await _Y(t)).byteLength:void 0))(e):n},$Y=SY&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:h,headers:c,withCredentials:u="same-origin",fetchOptions:d}=yY(t);h=h?(h+"").toLowerCase():"text";let f,p,[g,m]=r||s||o?bY([r,s],o):[];const O=()=>{!f&&setTimeout((()=>{g&&g.unsubscribe()})),f=!0};let y;try{if(l&&TY&&"get"!==n&&"head"!==n&&0!==(y=await AY(c,i))){let t,n=new Request(e,{method:"POST",body:i,duplex:"half"});SX.isFormData(i)&&(t=n.headers.get("content-type"))&&c.setContentType(t),n.body&&(i=xY(n.body,65536,kY(y,dY(l)),null,_Y))}SX.isString(u)||(u=u?"cors":"omit"),p=new Request(e,{...d,signal:g,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",withCredentials:u});let r=await fetch(p);const s=CY&&("stream"===h||"response"===h);if(CY&&(a||s)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=r[e]}));const e=SX.toFiniteNumber(r.headers.get("content-length"));r=new Response(xY(r.body,65536,a&&kY(e,dY(a,!0)),s&&O,_Y),t)}h=h||"text";let o=await EY[SX.findKey(EY,h)||"text"](r,t);return!s&&O(),m&&m(),await new Promise(((e,n)=>{hY(e,n,{data:o,headers:rY.from(r.headers),status:r.status,statusText:r.statusText,config:t,request:p})}))}catch(v){if(O(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new TX("Network Error",TX.ERR_NETWORK,t,p),{cause:v.cause||v});throw TX.from(v,v&&v.code,t,p)}}),NY={http:null,xhr:vY,fetch:$Y};SX.forEach(NY,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(S5){}Object.defineProperty(t,"adapterName",{value:e})}}));const IY=t=>"- ".concat(t),MY=t=>SX.isFunction(t)||null===t||!1===t,DY=t=>{t=SX.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){let e;if(n=t[s],i=n,!MY(n)&&(i=NY[(e=String(n)).toLowerCase()],void 0===i))throw new TX("Unknown adapter '".concat(e,"'"));if(i)break;r[e||"#"+s]=i}if(!i){const t=Object.entries(r).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(IY).join("\n"):" "+IY(t[0]):"as no adapter specified";throw new TX("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function qY(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lY(null,t)}function jY(t){qY(t),t.headers=rY.from(t.headers),t.data=sY.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return DY(t.adapter||HX.adapter)(t).then((function(e){return qY(t),e.data=sY.call(t,t.transformResponse,e),e.headers=rY.from(e.headers),e}),(function(e){return oY(e)||(qY(t),e&&e.response&&(e.response.data=sY.call(t,t.transformResponse,e.response),e.response.headers=rY.from(e.response.headers))),Promise.reject(e)}))}const UY="1.7.2",LY={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{LY[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const WY={};LY.transitional=function(t,e,n){function i(t,e){return"[Axios v1.7.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,s)=>{if(!1===t)throw new TX(i(r," has been removed"+(e?" in "+e:"")),TX.ERR_DEPRECATED);return e&&!WY[r]&&(WY[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}};const zY={assertOptions:function(t,e,n){if("object"!==typeof t)throw new TX("options must be an object",TX.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const e=t[s],n=void 0===e||o(e,s,t);if(!0!==n)throw new TX("option "+s+" must be "+n,TX.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new TX("Unknown option "+s,TX.ERR_BAD_OPTION)}},validators:LY},VY=zY.validators;class ZY{constructor(t){this.defaults=t,this.interceptors={request:new UX,response:new UX}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(S5){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=OY(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;void 0!==n&&zY.assertOptions(n,{silentJSONParsing:VY.transitional(VY.boolean),forcedJSONParsing:VY.transitional(VY.boolean),clarifyTimeoutError:VY.transitional(VY.boolean)},!1),null!=i&&(SX.isFunction(i)?e.paramsSerializer={serialize:i}:zY.assertOptions(i,{encode:VY.function,serialize:VY.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=r&&SX.merge(r.common,r[e.method]);r&&SX.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=rY.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const l=[];let h;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let c,u=0;if(!a){const t=[jY.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,l),c=t.length,h=Promise.resolve(e);u<c;)h=h.then(t[u++],t[u++]);return h}c=o.length;let d=e;for(u=0;u<c;){const t=o[u++],e=o[u++];try{d=t(d)}catch(f){e.call(this,f);break}}try{h=jY.call(this,d)}catch(f){return Promise.reject(f)}for(u=0,c=l.length;u<c;)h=h.then(l[u++],l[u++]);return h}getUri(t){return jX(gY((t=OY(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}SX.forEach(["delete","get","head","options"],(function(t){ZY.prototype[t]=function(e,n){return this.request(OY(n||{},{method:t,url:e,data:(n||{}).data}))}})),SX.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(OY(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}ZY.prototype[t]=e(),ZY.prototype[t+"Form"]=e(!0)}));const XY=ZY;class YY{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,r){n.reason||(n.reason=new lY(t,i,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new YY((function(e){t=e})),cancel:t}}}const FY=YY;const BY={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(BY).forEach((t=>{let[e,n]=t;BY[n]=e}));const GY=BY;const HY=function t(e){const n=new XY(e),i=LZ(XY.prototype.request,n);return SX.extend(i,XY.prototype,n,{allOwnKeys:!0}),SX.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(OY(e,n))},i}(HX);HY.Axios=XY,HY.CanceledError=lY,HY.CancelToken=FY,HY.isCancel=oY,HY.VERSION=UY,HY.toFormData=$X,HY.AxiosError=TX,HY.Cancel=HY.CanceledError,HY.all=function(t){return Promise.all(t)},HY.spread=function(t){return function(e){return t.apply(null,e)}},HY.isAxiosError=function(t){return SX.isObject(t)&&!0===t.isAxiosError},HY.mergeConfig=OY,HY.AxiosHeaders=rY,HY.formToJSON=t=>BX(SX.isHTMLForm(t)?new FormData(t):t),HY.getAdapter=DY,HY.HttpStatusCode=GY,HY.default=HY;const KY=HY;function JY(){}function tF(t,e,n,i,r){for(var s,o=[];e;)o.push(e),s=e.previousComponent,delete e.previousComponent,e=s;o.reverse();for(var a=0,l=o.length,h=0,c=0;a<l;a++){var u=o[a];if(u.removed){if(u.value=t.join(i.slice(c,c+u.count)),c+=u.count,a&&o[a-1].added){var d=o[a-1];o[a-1]=o[a],o[a]=d}}else{if(!u.added&&r){var f=n.slice(h,h+u.count);f=f.map((function(t,e){var n=i[c+e];return n.length>t.length?n:t})),u.value=t.join(f)}else u.value=t.join(n.slice(h,h+u.count));h+=u.count,u.added||(c+=u.count)}}var p=o[l-1];return l>1&&"string"===typeof p.value&&(p.added||p.removed)&&t.equals("",p.value)&&(o[l-2].value+=p.value,o.pop()),o}JY.prototype={diff:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.callback;"function"===typeof i&&(r=i,i={}),this.options=i;var s=this;function o(t){return r?(setTimeout((function(){r(void 0,t)}),0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var a=(e=this.removeEmpty(this.tokenize(e))).length,l=t.length,h=1,c=a+l;i.maxEditLength&&(c=Math.min(c,i.maxEditLength));var u=null!==(n=i.timeout)&&void 0!==n?n:1/0,d=Date.now()+u,f=[{oldPos:-1,lastComponent:void 0}],p=this.extractCommon(f[0],e,t,0);if(f[0].oldPos+1>=l&&p+1>=a)return o([{value:this.join(e),count:e.length}]);var g=-1/0,m=1/0;function O(){for(var n=Math.max(g,-h);n<=Math.min(m,h);n+=2){var i=void 0,r=f[n-1],c=f[n+1];r&&(f[n-1]=void 0);var u=!1;if(c){var d=c.oldPos-n;u=c&&0<=d&&d<a}var O=r&&r.oldPos+1<l;if(u||O){if(i=!O||u&&r.oldPos+1<c.oldPos?s.addToPath(c,!0,void 0,0):s.addToPath(r,void 0,!0,1),p=s.extractCommon(i,e,t,n),i.oldPos+1>=l&&p+1>=a)return o(tF(s,i.lastComponent,e,t,s.useLongestToken));f[n]=i,i.oldPos+1>=l&&(m=Math.min(m,n-1)),p+1>=a&&(g=Math.max(g,n+1))}else f[n]=void 0}h++}if(r)!function t(){setTimeout((function(){if(h>c||Date.now()>d)return r();O()||t()}),0)}();else for(;h<=c&&Date.now()<=d;){var y=O();if(y)return y}},addToPath:function(t,e,n,i){var r=t.lastComponent;return r&&r.added===e&&r.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:r.count+1,added:e,removed:n,previousComponent:r.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:e,removed:n,previousComponent:r}}},extractCommon:function(t,e,n,i){for(var r=e.length,s=n.length,o=t.oldPos,a=o-i,l=0;a+1<r&&o+1<s&&this.equals(e[a+1],n[o+1]);)a++,o++,l++;return l&&(t.lastComponent={count:l,previousComponent:t.lastComponent}),t.oldPos=o,a},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};new JY;function eF(t,e){if("function"===typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var nF=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,iF=/\S/,rF=new JY;rF.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!iF.test(t)&&!iF.test(e)},rF.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&nF.test(e[n])&&nF.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var sF=new JY;sF.tokenize=function(t){this.options.stripTrailingCr&&(t=t.replace(/\r\n/g,"\n"));var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?e[e.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),e.push(r))}return e};var oF=new JY;oF.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var aF=new JY;function lF(t){return lF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lF(t)}aF.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var hF=Object.prototype.toString,cF=new JY;function uF(t,e,n,i,r){var s,o;for(e=e||[],n=n||[],i&&(t=i(r,t)),s=0;s<e.length;s+=1)if(e[s]===t)return n[s];if("[object Array]"===hF.call(t)){for(e.push(t),o=new Array(t.length),n.push(o),s=0;s<t.length;s+=1)o[s]=uF(t[s],e,n,i,r);return e.pop(),n.pop(),o}if(t&&t.toJSON&&(t=t.toJSON()),"object"===lF(t)&&null!==t){e.push(t),o={},n.push(o);var a,l=[];for(a in t)t.hasOwnProperty(a)&&l.push(a);for(l.sort(),s=0;s<l.length;s+=1)o[a=l[s]]=uF(t[a],e,n,i,a);e.pop(),n.pop()}else o=t;return o}cF.useLongestToken=!0,cF.tokenize=sF.tokenize,cF.castInput=function(t){var e=this.options,n=e.undefinedReplacement,i=e.stringifyReplacer,r=void 0===i?function(t,e){return"undefined"===typeof e?n:e}:i;return"string"===typeof t?t:JSON.stringify(uF(t,null,null,r),r,"  ")},cF.equals=function(t,e){return JY.prototype.equals.call(cF,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};var dF=new JY;dF.tokenize=function(t){return t.slice()},dF.join=dF.removeEmpty=function(t){return t};const fF=function(t){let{results:e,onClose:n}=t;const[i,r]=(0,o.useState)(null),s=(0,o.useRef)(null),a=t=>{s.current&&!s.current.contains(t.target)&&n()};(0,o.useEffect)((()=>(document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)})),[]);const l=(t,e)=>{const n=t.toString(),i=e.toString(),r=(s=i,o=n,a=eF(a,{ignoreWhitespace:!0}),rF.diff(s,o,a));var s,o,a;let l="",h="";return r.forEach((t=>{t.removed?l+='<span style="background-color: salmon;">'.concat(t.value,"</span>"):t.added?h+='<span style="background-color: salmon;">'.concat(t.value,"</span>"):(l+=t.value,h+=t.value)})),{highlightedExpected:l,highlightedActual:h}};return(0,om.jsx)("div",{className:"popup",children:(0,om.jsxs)("div",{className:"popup-content",ref:s,children:[(0,om.jsx)("h2",{children:"Test Results"}),(0,om.jsx)("button",{onClick:n,className:"close-btn",children:"X"}),(0,om.jsx)("ul",{className:"results-list",children:e.map(((t,e)=>{const{highlightedExpected:n,highlightedActual:s}=l(t.actual,t.expected);return(0,om.jsxs)("li",{className:"result-item",onClick:()=>(t=>{r(t===i?null:t)})(e),children:[(0,om.jsxs)("div",{className:"result-summary ".concat(t.passed?"passed":"failed"),children:[(0,om.jsxs)("p",{children:["Test ",e+1]}),(0,om.jsx)("p",{children:t.passed?"PASSED":"FAILED"})]}),i===e&&(0,om.jsxs)("div",{className:"result-details",children:[(0,om.jsxs)("p",{children:[(0,om.jsx)("strong",{children:"Inputs:"})," ",JSON.stringify(t.inputs)]}),(0,om.jsxs)("p",{children:[(0,om.jsx)("strong",{children:"Expected Output:"})," ",(0,om.jsx)("span",{dangerouslySetInnerHTML:{__html:n}})]}),(0,om.jsxs)("p",{children:[(0,om.jsx)("strong",{children:"Actual Output:"})," ",(0,om.jsx)("span",{dangerouslySetInnerHTML:{__html:s}})]})]})]},e)}))})]})})},pF=Object.create(null);pF.open="0",pF.close="1",pF.ping="2",pF.pong="3",pF.message="4",pF.upgrade="5",pF.noop="6";const gF=Object.create(null);Object.keys(pF).forEach((t=>{gF[pF[t]]=t}));const mF={type:"error",data:"parser error"},OF="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),yF="function"===typeof ArrayBuffer,vF=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,bF=(t,e,n)=>{let{type:i,data:r}=t;return OF&&r instanceof Blob?e?n(r):wF(r,n):yF&&(r instanceof ArrayBuffer||vF(r))?e?n(r):wF(new Blob([r]),n):n(pF[i]+(r||""))},wF=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function xF(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let kF;const SF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PF="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Q5=0;Q5<64;Q5++)PF[SF.charCodeAt(Q5)]=Q5;const _F="function"===typeof ArrayBuffer,QF=(t,e)=>{if("string"!==typeof t)return{type:"message",data:CF(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:TF(t.substring(1),e)};return gF[n]?t.length>1?{type:gF[n],data:t.substring(1)}:{type:gF[n]}:mF},TF=(t,e)=>{if(_F){const n=(t=>{let e,n,i,r,s,o=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const h=new ArrayBuffer(o),c=new Uint8Array(h);for(e=0;e<a;e+=4)n=PF[t.charCodeAt(e)],i=PF[t.charCodeAt(e+1)],r=PF[t.charCodeAt(e+2)],s=PF[t.charCodeAt(e+3)],c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&s;return h})(t);return CF(n,e)}return{base64:!0,data:t}},CF=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,EF=String.fromCharCode(30);function RF(){return new TransformStream({transform(t,e){!function(t,e){OF&&t.data instanceof Blob?t.data.arrayBuffer().then(xF).then(e):yF&&(t.data instanceof ArrayBuffer||vF(t.data))?e(xF(t.data)):bF(t,!1,(t=>{kF||(kF=new TextEncoder),e(kF.encode(t))}))}(t,(n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const t=new DataView(r.buffer);t.setUint8(0,126),t.setUint16(1,i)}else{r=new Uint8Array(9);const t=new DataView(r.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(i))}t.data&&"string"!==typeof t.data&&(r[0]|=128),e.enqueue(r),e.enqueue(n)}))}})}let AF;function $F(t){return t.reduce(((t,e)=>t+e.length),0)}function NF(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)n[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function IF(t){if(t)return function(t){for(var e in IF.prototype)t[e]=IF.prototype[e];return t}(t)}IF.prototype.on=IF.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},IF.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},IF.prototype.off=IF.prototype.removeListener=IF.prototype.removeAllListeners=IF.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},IF.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},IF.prototype.emitReserved=IF.prototype.emit,IF.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},IF.prototype.hasListeners=function(t){return!!this.listeners(t).length};const MF="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function DF(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const qF=MF.setTimeout,jF=MF.clearTimeout;function UF(t,e){e.useNativeTimers?(t.setTimeoutFn=qF.bind(MF),t.clearTimeoutFn=jF.bind(MF)):(t.setTimeoutFn=MF.setTimeout.bind(MF),t.clearTimeoutFn=MF.clearTimeout.bind(MF))}class LF extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class WF extends IF{constructor(t){super(),this.writable=!1,UF(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new LF(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=QF(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(t);return e.length?"?"+e:""}}const zF="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),VF=64,ZF={};let XF,YF=0,FF=0;function BF(t){let e="";do{e=zF[t%VF]+e,t=Math.floor(t/VF)}while(t>0);return e}function GF(){const t=BF(+new Date);return t!==XF?(YF=0,XF=t):t+"."+BF(YF++)}for(;FF<VF;FF++)ZF[zF[FF]]=FF;let HF=!1;try{HF="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(_5){}const KF=HF;function JF(t){const e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||KF))return new XMLHttpRequest}catch(S5){}if(!e)try{return new(MF[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(S5){}}function tB(){}const eB=null!=new JF({xdomain:!1}).responseType;class nB extends IF{constructor(t,e){super(),UF(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=DF(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const n=this.xhr=new JF(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(S5){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(S5){}try{n.setRequestHeader("Accept","*/*")}catch(S5){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(S5){return void this.setTimeoutFn((()=>{this.onError(S5)}),0)}"undefined"!==typeof document&&(this.index=nB.requestsCount++,nB.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=tB,t)try{this.xhr.abort()}catch(S5){}"undefined"!==typeof document&&delete nB.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(nB.requestsCount=0,nB.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",iB);else if("function"===typeof addEventListener){addEventListener("onpagehide"in MF?"pagehide":"unload",iB,!1)}function iB(){for(let t in nB.requests)nB.requests.hasOwnProperty(t)&&nB.requests[t].abort()}const rB="function"===typeof Promise&&"function"===typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),sB=MF.WebSocket||MF.MozWebSocket,oB="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const aB={websocket:class extends WF{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=oB?{}:DF(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=oB?new sB(t,e,n):e?new sB(t,e):new sB(t)}catch(_5){return this.emitReserved("error",_5)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],i=e===t.length-1;bF(n,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(S5){}i&&rB((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=GF()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!sB}},webtransport:class extends WF{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=function(t,e){AF||(AF=new TextDecoder);const n=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===i){if($F(n)<1)break;const t=NF(n,1);s=128===(128&t[0]),r=127&t[0],i=r<126?3:126===r?1:2}else if(1===i){if($F(n)<2)break;const t=NF(n,2);r=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),i=3}else if(2===i){if($F(n)<8)break;const t=NF(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),s=e.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(mF);break}r=s*Math.pow(2,32)+e.getUint32(4),i=3}else{if($F(n)<r)break;const t=NF(n,r);a.enqueue(QF(s?t:AF.decode(t),e)),i=0}if(0===r||r>t){a.enqueue(mF);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),i=RF();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const r=()=>{n.read().then((t=>{let{done:e,value:n}=t;e||(this.onPacket(n),r())})).catch((t=>{}))};r();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(s).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],i=e===t.length-1;this.writer.write(n).then((()=>{i&&rB((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}},polling:class extends WF{constructor(t){if(super(t),this.polling=!1,"undefined"!==typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||n!==t.port}const e=t&&t.forceBase64;this.supportsBinary=eB&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split(EF),i=[];for(let r=0;r<n.length;r++){const t=QF(n[r],e);if(i.push(t),"error"===t.type)break}return i})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,i=new Array(n);let r=0;t.forEach(((t,s)=>{bF(t,!1,(t=>{i[s]=t,++r===n&&e(i.join(EF))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=GF()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new nB(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},lB=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hB=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function cB(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let r=lB.exec(t||""),s={},o=14;for(;o--;)s[hB[o]]=r[o]||"";return-1!=n&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||i.splice(0,1);"/"==e.slice(-1)&&i.splice(i.length-1,1);return i}(0,s.path),s.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,i){e&&(n[e]=i)})),n}(0,s.query),s}class uB extends IF{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"===typeof t&&(e=t,t=null),t?(t=cB(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=cB(e.host).host),UF(this,e),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let i=0,r=n.length;i<r;i++){let t=n[i].split("=");e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new aB[t](n)}open(){let t;if(this.opts.rememberUpgrade&&uB.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(S5){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;uB.priorWebsocketSuccess=!1;const i=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;uB.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function r(){n||(n=!0,h(),e.close(),e=null)}const s=t=>{const n=new Error("probe error: "+t);n.transport=e.name,r(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function l(t){e&&t.name!==e.name&&r()}const h=()=>{e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};e.once("open",i),e.once("error",s),e.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",uB.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+="string"===typeof(e=i)?function(t){let e=0,n=0;for(let i=0,r=t.length;i<r;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,i){if("function"===typeof e&&(i=e,e=void 0),"function"===typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:t,data:e,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){uB.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}uB.protocol=4;uB.protocol;const dB="function"===typeof ArrayBuffer,fB=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,pB=Object.prototype.toString,gB="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===pB.call(Blob),mB="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===pB.call(File);function OB(t){return dB&&(t instanceof ArrayBuffer||fB(t))||gB&&t instanceof Blob||mB&&t instanceof File}function yB(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(yB(t[e]))return!0;return!1}if(OB(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return yB(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&yB(t[n]))return!0;return!1}function vB(t){const e=[],n=t.data,i=t;return i.data=bB(n,e),i.attachments=e.length,{packet:i,buffers:e}}function bB(t,e){if(!t)return t;if(OB(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=bB(t[i],e);return n}if("object"===typeof t&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=bB(t[i],e));return n}return t}function wB(t,e){return t.data=xB(t.data,e),delete t.attachments,t}function xB(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"===typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=xB(t[n],e);else if("object"===typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=xB(t[n],e));return t}const kB=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],SB=5;var PB;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(PB||(PB={}));class _B{constructor(t){this.replacer=t}encode(t){return t.type!==PB.EVENT&&t.type!==PB.ACK||!yB(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===PB.EVENT?PB.BINARY_EVENT:PB.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==PB.BINARY_EVENT&&t.type!==PB.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=vB(t),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}}function QB(t){return"[object Object]"===Object.prototype.toString.call(t)}class TB extends IF{constructor(t){super(),this.reviver=t}add(t){let e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===PB.BINARY_EVENT;n||e.type===PB.BINARY_ACK?(e.type=n?PB.EVENT:PB.ACK,this.reconstructor=new CB(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!OB(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===PB[n.type])throw new Error("unknown packet type "+n.type);if(n.type===PB.BINARY_EVENT||n.type===PB.BINARY_ACK){const i=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const r=t.substring(i,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===t.charAt(e+1)){const i=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(i,e)}else n.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const i=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=this.tryParse(t.substr(e));if(!TB.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(S5){return!1}}static isPayloadValid(t,e){switch(t){case PB.CONNECT:return QB(e);case PB.DISCONNECT:return void 0===e;case PB.CONNECT_ERROR:return"string"===typeof e||QB(e);case PB.EVENT:case PB.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===kB.indexOf(e[0]));case PB.ACK:case PB.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class CB{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=wB(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function EB(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const RB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class AB extends IF{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[EB(t,"open",this.onopen.bind(this)),EB(t,"packet",this.onpacket.bind(this)),EB(t,"error",this.onerror.bind(this)),EB(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}emit(t){if(RB.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:PB.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const t=this.ids++,e=n.pop();this._registerAckCallback(t,e),r.id=t}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){var n,i=this;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const s=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r),o=function(){i.io.clearTimeoutFn(s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(i,n)};o.withError=!0,this.acks[t]=o}emitWithAck(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise(((e,i)=>{const r=(t,n)=>t?i(t):e(n);r.withError=!0,n.push(r),this.emit(t,...n)}))}_addToQueue(t){var e=this;let n;"function"===typeof t[t.length-1]&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((function(t){if(i!==e._queue[0])return;if(null!==t)i.tryCount>e._opts.retries&&(e._queue.shift(),n&&n(t));else if(e._queue.shift(),n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];n(null,...s)}return i.pending=!1,e._drainQueue()})),this._queue.push(i),this._drainQueue()}_drainQueue(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:PB.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case PB.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PB.EVENT:case PB.BINARY_EVENT:this.onevent(t);break;case PB.ACK:case PB.BINARY_ACK:this.onack(t);break;case PB.DISCONNECT:this.ondisconnect();break;case PB.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];e.packet({type:PB.ACK,id:t,data:r})}}}onack(t){const e=this.acks[t.id];"function"===typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PB.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function $B(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}$B.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},$B.prototype.reset=function(){this.attempts=0},$B.prototype.setMin=function(t){this.ms=t},$B.prototype.setMax=function(t){this.max=t},$B.prototype.setJitter=function(t){this.jitter=t};class NB extends IF{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,UF(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new $B({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new uB(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=EB(e,"open",(function(){n.onopen(),t&&t()})),r=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},s=EB(e,"error",r);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{i(),r(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(EB(t,"ping",this.onping.bind(this)),EB(t,"data",this.ondata.bind(this)),EB(t,"error",this.onerror.bind(this)),EB(t,"close",this.onclose.bind(this)),EB(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(S5){this.onclose("parse error",S5)}}ondecoded(t){rB((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new AB(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e){if(this.nsps[n].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const IB={};function MB(t,e){"object"===typeof t&&(e=t,t=void 0);const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),i=cB(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(t,(e=e||{}).path||"/socket.io"),i=n.source,r=n.id,s=n.path,o=IB[r]&&s in IB[r].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||o?a=new NB(i,e):(IB[r]||(IB[r]=new NB(i,e)),a=IB[r]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(MB,{Manager:NB,Socket:AB,io:MB,connect:MB});const DB=MB("http://localhost:3000");const qB=function(){const{uid:t,activityTitle:e,activityOrder:n}=st(),i=rt(),[r,s]=(0,o.useState)(null),[a,l]=(0,o.useState)([]),[h,c]=(0,o.useState)(!0),[u,d]=(0,o.useState)(null),[f,p]=(0,o.useState)(null),[g,m]=(0,o.useState)(""),[O,y]=(0,o.useState)(0),[v,b]=(0,o.useState)(0),[w,x]=(0,o.useState)(0),[k,S]=(0,o.useState)(!1),[P,_]=(0,o.useState)(!1),[Q,T]=(0,o.useState)(!1),[C,E]=(0,o.useState)([]),[R,A]=(0,o.useState)(""),[$,N]=(0,o.useState)(!1),[I,M]=(0,o.useState)(!1),[D,q]=(0,o.useState)("Python"),[j,U]=(0,o.useState)(!1),L=new Date;(0,o.useEffect)((()=>{(async()=>{try{if(!t||!e||!n)return void d("Missing URL parameters");const i=Pf(rm,"users",t),r=await Pp(i);if(!r.exists())return void d("User not found");const o=r.data();q(o.currentLanguage||"Python");const a=Sf(rm,"activities".concat(o.currentLanguage)),h=(await Qp(a)).docs.map((t=>({id:t.id,...t.data()}))),c=h.find((t=>t.title.replace(/\s+/g,"-")===e&&t.order.toString()===n));if(!c)return void d("Activity not found");s(c),l(Z(c.questions)),y(0);const u=Pf(rm,"users",t,"activities",o.currentLanguage,"activityOrder",n),f=await Pp(u);if(f.exists()){const t=f.data();b(t.correctCount||0),x(t.incorrectCount||0),t.completed&&z()}}catch(_5){d(_5.message)}finally{c(!1)}})()}),[t,e,n]),(0,o.useEffect)((()=>(DB.on("test_results",(e=>{console.log("Received test results:",e),E(e.testResults||[]),p(e.success?"Success! You got it right.":"Incorrect output:\n".concat(e.message)),e.success&&Q?(M(!0),setTimeout((()=>M(!1)),1e3),b((t=>t+1)),W({correctCount:v+1}),v+1===5?(W({completed:!0}),S(!0),_(!0),V(),(async e=>{const n=Pf(rm,"users",t),i=await Pp(n),r=L.toISOString().split("T")[0],s=Pf(rm,"userActivity",t),o=(await Pp(s)).data().loginData;let a=o.find((t=>t.day===r));if(a||(a={day:r,xp:0},o.push(a)),a.xp+=e,i.exists()){const t=i.data().xp||0;await Tp(n,{xp:t+e},{merge:!0}),await Cp(s,{loginData:o})}})(100),setTimeout((()=>{S(!1),y(a.length)}),3e3)):(y((t=>t+1)),p(null))):!e.success&&Q&&(N(!0),setTimeout((()=>N(!1)),1e3),x((t=>t+1)),W({incorrectCount:w+1}),w+1===3&&(alert("You have 3 incorrect answers. Restarting..."),b(0),x(0),y(0),l(Z(r.questions)),p(null))),T(!1)})),()=>{DB.off("test_results")})),[v,w,a,Q]);const W=async e=>{const i=Pf(rm,"users",t,"activities",D,"activityOrder",n),r=await Pp(i),s=r.exists()?r.data():{};await Tp(i,{...s,...e})},z=async()=>{const e=Pf(rm,"users",t,"activities",D,"activityOrder",n);await Tp(e,{correctCount:0,incorrectCount:0,completed:!1},{merge:!0}),b(0),x(0),_(!1)},V=async()=>{const e=Pf(rm,"users",t),i=await Pp(e);if(i.exists()){const t=i.data(),r=parseInt(n)+1,s=t.currentLanguage,o=t.programmingLanguages.map((t=>t.langName===s?{...t,currentActivity:r}:t));await Tp(e,{...t,currentActivity:r,programmingLanguages:o},{merge:!0}),console.log("Next activity unlocked: ".concat(r))}},Z=t=>{const e=t.slice();for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}return e},X=()=>{i("/activities/".concat(t,"/").concat(e,"/").concat(parseInt(n)+1))},Y=()=>{i("/roadmap/".concat(t))};if(h)return(0,om.jsx)("div",{className:"loading",children:"Loading..."});if(u)return(0,om.jsxs)("div",{className:"error",children:["Error: ",u]});if(r&&(O>=a.length||P))return(0,om.jsxs)("div",{className:"activity-page",children:[(0,om.jsx)("h2",{className:"activity-title",children:r.title}),(0,om.jsx)("p",{className:"activity-description",children:"Congratulations! You've completed all the questions."}),k&&(0,om.jsx)("div",{className:"animation",children:"Next Activity Unlocked!"}),(0,om.jsxs)("div",{className:"completion-buttons",children:[(0,om.jsx)("button",{className:"activity-button",onClick:X,children:"Next Activity"}),(0,om.jsx)("button",{className:"activity-button",onClick:Y,children:"Main Menu"})]})]});const F=a[O];return(0,om.jsxs)("div",{className:"activity-page ".concat($?"shake":""),children:[I&&(0,om.jsxs)("div",{className:"fireworks",children:[(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{})]}),r&&(0,om.jsxs)(om.Fragment,{children:[(0,om.jsxs)("div",{className:"activity-header",children:[(0,om.jsx)("button",{onClick:()=>{i(-1)},className:"back-btn",children:(0,om.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,om.jsx)("h2",{className:"activity-title",children:r.title})]}),(0,om.jsx)("p",{className:"activity-description",children:r.description}),(0,om.jsxs)("div",{className:"status-section",children:[(0,om.jsxs)("div",{className:"status correct-count",children:["Correct: ",v]}),(0,om.jsxs)("div",{className:"status incorrect-count",children:["Incorrect: ",w]})]}),(0,om.jsx)("div",{className:"activities-container ".concat(j?"slide-down":""),children:(0,om.jsx)(UZ,{currentQuestion:F,onCodeSubmit:async(e,i)=>{T(!0);const r=a[O],s=r.functionName;try{if(!r.id||!t||!n)return void d("Missing parameters for Firestore document reference");await Tp(Pf(rm,"users",t,"activities",D,"activityOrder",n,"questions",r.id),{functionName:s,userCode:e});const o={functionName:s,activityOrder:n,userId:t,questionId:r.id,userCode:e,language:D,testCount:i};await KY.post("http://localhost:3000/test-function",o,{headers:{"Content-Type":"application/json"}})}catch(u){console.error("Error testing ".concat(s,":"),u),T(!1)}},onRunTests:async(e,i)=>{const r=a[O],s=r.functionName;try{if(!r.id||!t||!n)return void d("Missing parameters for Firestore document reference");const o={functionName:s,activityOrder:n,userId:t,questionId:r.id,userCode:e,language:D,testCount:i};await KY.post("http://localhost:3000/test-function",o,{headers:{"Content-Type":"application/json"}})}catch(u){console.error("Error testing ".concat(s,":"),u)}},onCodeChange:t=>{A(t)},userId:t,language:D,activityOrder:n,setOutput:()=>{}})}),f&&(0,om.jsx)("div",{className:"result-section",children:(0,om.jsx)("pre",{children:f})}),Q&&(0,om.jsx)("div",{className:"loading",children:"Submitting..."}),(0,om.jsx)("div",{id:"mycanvas"}),(0,om.jsx)("button",{className:"code-editor-button",onClick:async()=>{try{const t=await KY.get("http://localhost:5002/ping");m(t.data.message)}catch(u){m("Error: Unable to reach the server.")}},children:"Check Server Status"}),g&&(0,om.jsx)("div",{className:"server-status",children:g}),C.length>0&&(0,om.jsx)(fF,{results:C,onClose:()=>E([])})]})]})},jB=()=>Math.random().toString(36).substring(2,12);function UB(t){const{setShowSignUpForm:e,toggleLoginPopUp:n}=t,[i,r]=(0,o.useState)(),[s,a]=(0,o.useState)(""),[l,h]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),[d,f]=(0,o.useState)(1),[p,g]=(0,o.useState)(""),[m,O]=(0,o.useState)(""),[y,v]=(0,o.useState)(""),[b,w]=(0,o.useState)(""),x=rt(),k=t=>{2!==d||p?3!==d||m?4!==d||y?d<5?(f(d+1),w("")):P(t):w("Please enter your age."):w("Please enter your username."):w("Please enter your name.")},S=async t=>{const e=jB();await Tp(Pf(rm,"users",t.uid),{email:t.email,currentActivity:0,programmingLanguages:[],uniqueId:e,isParent:!1,currentLanguage:"Python"},{merge:!0})},P=async t=>{const e=new Date;try{const n=Pf(rm,"users",i),r=(await Pp(n)).data(),s=r.programmingLanguages.find((e=>e.langName===t)),o=s?s.currentActivity:0;await Tp(Pf(rm,"users",i),{name:p,username:m,age:y,currentActivity:o,programmingLanguages:[{langName:t,currentActivity:o}],currentLanguage:t},{merge:!0}),await Tp(Pf(rm,"userActivity",i),{accountCreated:e.toISOString().split("T")[0],uniqueId:r.uniqueId,loginData:[{day:e.toISOString().split("T")[0],xp:0}]}),console.log("Programming language saved successfully"),x("/roadmap/".concat(i))}catch(b){w(b.message||"Failed to save programming language. Please try again.")}},_=new gr;_.setCustomParameters({prompt:"select_account"});return(0,om.jsx)(om.Fragment,{children:(0,om.jsxs)("div",{className:"main-container",children:[1===d&&(0,om.jsxs)("div",{className:"child-signup-container",children:[(0,om.jsx)("div",{className:"title",children:(0,om.jsx)("h1",{children:"Let's get started"})}),(0,om.jsxs)("div",{className:"signup-login-container",children:[(0,om.jsx)("h3",{children:"Already joined?"}),(0,om.jsx)("button",{className:"signin-button",onClick:()=>{e(!1),n()},children:"Log In"})]}),(0,om.jsx)("div",{className:"signup-box",children:(0,om.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l===c)try{const t=(await Tr(im,s,l)).user;await S(t),console.log("Signup successful",t.uid),r(t.uid),k()}catch(b){w(b.message||"Signup failed. Please try again.")}else w("Passwords need to match!")},children:[(0,om.jsx)("input",{className:"signup-input",type:"email",placeholder:"Your Email",value:s,onChange:t=>a(t.target.value),required:!0}),(0,om.jsx)("input",{className:"signup-input",type:"password",placeholder:"Password",value:l,onChange:t=>h(t.target.value),required:!0}),(0,om.jsx)("input",{className:"signup-input",type:"password",placeholder:"Confirm Password",value:c,onChange:t=>u(t.target.value),required:!0}),b&&(0,om.jsx)("p",{className:"error-message",children:b}),(0,om.jsxs)("div",{className:"signup-form-buttons",children:[(0,om.jsx)("button",{className:"signup-form-submit-btn",type:"submit",children:"Sign Up"}),(0,om.jsx)("h2",{className:"signup-form-or",children:"or"}),(0,om.jsxs)("button",{onClick:async()=>{try{const t=(await as(im,_)).user,e=Pf(rm,"users",t.uid);(await Pp(e)).exists()?x("/roadmap/".concat(t.uid)):(await S(t),r(t.uid),g(t.displayName||""),f(3))}catch(b){w(b.message)}},className:"signup-form-google-btn",children:[(0,om.jsx)("i",{className:"fa-brands fa-google"}),"Continue with Google"]})]})]})})]}),2===d&&(0,om.jsx)(LB,{step:d,type:"text",length:"30",placeholder:"Name",dataValue:p,setDataValue:g,handleNext:k,error:b}),3===d&&(0,om.jsx)(LB,{step:d,type:"text",length:"15",placeholder:"Username",dataValue:m,setDataValue:O,handleNext:k,error:b}),4===d&&(0,om.jsx)(LB,{step:d,type:"number",length:"2",placeholder:"Age",dataValue:y,setDataValue:v,handleNext:k,error:b}),5===d&&(0,om.jsx)(LB,{step:d,handleNext:k,error:b})]})})}function LB(t){let{step:e,type:n,length:i,placeholder:r,dataValue:s,setDataValue:o,handleNext:a,error:l}=t;return(0,om.jsx)("div",{className:"main-container info",children:(0,om.jsxs)("div",{className:"child-signup-container info",children:[(0,om.jsx)("div",{className:"title",children:(0,om.jsx)("h1",{children:"Almost there"})}),e<5&&(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)("input",{className:"info-input",type:n,maxLength:i,placeholder:r,value:s,onChange:t=>o(t.target.value),required:!0}),(0,om.jsx)("button",{className:"signup-form-submit-btn step",onClick:()=>a(),children:"Next"})]}),5===e&&(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)("p",{children:"Select a Fun Programming Language"}),(0,om.jsxs)("div",{className:"lang-selection-container",children:[(0,om.jsxs)("button",{type:"button",onClick:()=>a("HTML/CSS"),children:[(0,om.jsx)("span",{children:"\u2022"})," HTML/CSS: Create Beautiful Websites!"]}),(0,om.jsxs)("button",{type:"button",onClick:()=>a("Java"),children:[(0,om.jsx)("span",{children:"\u2022"})," Java: Build Amazing Apps!"]}),(0,om.jsxs)("button",{type:"button",onClick:()=>a("Python"),children:[(0,om.jsx)("span",{children:"\u2022"})," Python: Code Like a Pro!"]})]})]}),l&&(0,om.jsx)("p",{className:"error-message",children:l})]})})}function WB(t){const{handleRouteChange:e,toggleSignUpPopUp:n,toggleLoginPopUp:i}=t,[r,s]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[h,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),g=new Date;async function m(t){const e=Pf(rm,"userActivity",t);(await Pp(e)).exists()||(await Tp(e,{loginData:[]}),console.log("UserActivity created for user: ".concat(t)))}async function O(t,e,n){const i=Pf(rm,"userActivity",t);let r=(await Pp(i)).data().loginData||[];r.push({day:e,xp:n}),await Cp(i,{loginData:r})}return(0,om.jsxs)("div",{className:"child-signup-container",children:[(0,om.jsx)("div",{className:"title",children:(0,om.jsx)("h1",{children:"Let's get back"})}),(0,om.jsxs)("div",{className:"signup-login-container",children:[(0,om.jsx)("h3",{children:"New? Create an account here"}),(0,om.jsx)("button",{className:"signin-button",onClick:()=>{i(),n()},children:"Sign Up"})]}),(0,om.jsx)("div",{className:"signup-box",children:(0,om.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await function(t,e,n){return un(t.app)?Promise.reject(jn(t)):_r(Kt(t),ur.credential(e,n)).catch((async e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Qr(t),e}))}(im,r,a),o=t.user,l=Pf(rm,"users",o.uid),h=await Pp(l);if(!h.exists())return alert("User does not exist, please sign up!"),i(),void setTimeout((()=>{n()}),300);if(h.data().isParent)e("/parenthub/".concat(o.uid));else{var s;e("/roadmap/".concat(o.uid)),await m(o.uid);const t=Pf(rm,"userActivity",o.uid);let n=(await Pp(t)).data().loginData||[];const i=g.toISOString().split("T")[0];i!==(null===(s=n[n.length-1])||void 0===s?void 0:s.day)?(console.log("New login on",i),await O(o.uid,i,0)):console.log("User already logged in today")}}catch(h){c(h.message||"Login failed. Please try again.")}},children:[(0,om.jsx)("input",{className:"signup-input",type:"email",placeholder:"Your Email",value:r,onChange:t=>s(t.target.value),required:!0}),(0,om.jsx)("input",{className:"signup-input",type:"password",placeholder:"Password",value:a,onChange:t=>l(t.target.value),required:!0}),h&&(0,om.jsx)("p",{children:h}),(0,om.jsxs)("div",{className:"signup-form-buttons",children:[(0,om.jsx)("button",{className:"signup-form-submit-btn",type:"submit",children:"Log In"}),(0,om.jsx)("h2",{className:"signup-form-or",children:"or"}),(0,om.jsxs)("button",{onClick:async()=>{const t=new gr;t.setCustomParameters({prompt:"select_account"});try{const s=(await as(im,t)).user,o=Pf(rm,"users",s.uid),a=await Pp(o),l=Pf(rm,"parents",s.uid),h=await Pp(l);if(a.exists()||h.exists()){let t;if(h.exists()?t=h.data():a.exists()&&(t=a.data()),t.isParent)e("/parenthub/".concat(s.uid));else{var r;e("/roadmap/".concat(s.uid)),await m(s.uid);const t=Pf(rm,"userActivity",s.uid);let n=(await Pp(t)).data().loginData||[];const i=g.toISOString().split("T")[0];i!==(null===(r=n[n.length-1])||void 0===r?void 0:r.day)?(console.log("New login on",i),await O(s.uid,i,0)):console.log("User already logged in today")}}else d(!0),p(!0),i(),setTimeout((()=>{n()}),300)}catch(h){c(h.message||"Login with Google failed. Please try again.")}},className:"signup-form-google-btn",children:[(0,om.jsx)("i",{className:"fa-brands fa-google"}),"Continue with Google"]})]})]})}),f&&(0,om.jsx)("div",{className:"popup",children:(0,om.jsxs)("div",{className:"popup-inner",children:[(0,om.jsx)("h3",{children:"Account Not Found"}),(0,om.jsx)("p",{children:"No account found with the provided Google credentials. Please sign up."}),(0,om.jsx)("button",{onClick:()=>p(!1),children:"Close"})]})})]})}const zB=()=>Math.random().toString(36).substring(2,12);function VB(t){const{setShowSignUpForm:e,toggleLoginPopUp:n}=t,[i,r]=(0,o.useState)(),[s,a]=(0,o.useState)(""),[l,h]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),[d,f]=(0,o.useState)(1),[p,g]=(0,o.useState)(""),[m,O]=(0,o.useState)(""),[y,v]=(0,o.useState)([]),[b,w]=(0,o.useState)(""),[x,k]=(0,o.useState)(""),S=rt(),P=async()=>{if(2!==d||p)if(3!==d||m){if(4===d&&b){if(!await Q(b))return void k("Invalid child ID. Please enter a valid child ID.");C()}d<4?(f(d+1),k("")):E()}else k("Please enter your age.");else k("Please enter your name.")},_=()=>f(d-1),Q=async t=>{const e=hp(Sf(rm,"users"),up("uniqueId","==",t));return!(await Qp(e)).empty},T=async(t,e)=>{const n=zB();await Tp(Pf(rm,"parents",t),{email:s,name:p,age:m,children:e,uniqueId:n,isParent:!0},{merge:!0})},C=async()=>{if(y.includes(b))k("Child already added");else{if(!await Q(b))return void k("Invalid child ID. Please enter a valid child ID.");v([...y,b]),w(""),k("Child added successfully")}},E=async()=>{y.length>0?(console.log(y),await T(i,y),S("/parenthub/".concat(i))):k("Add at least one child")},R=new gr;R.setCustomParameters({prompt:"select_account"});return(0,om.jsx)(om.Fragment,{children:(0,om.jsxs)("div",{className:"main-container",children:[1===d&&(0,om.jsxs)("div",{className:"child-signup-container",children:[(0,om.jsx)("div",{className:"title",children:(0,om.jsx)("h1",{children:"Let's get started"})}),(0,om.jsxs)("div",{className:"signup-login-container",children:[(0,om.jsx)("h3",{children:"Already joined?"}),(0,om.jsx)("button",{className:"signin-button",onClick:()=>{e(!1),n()},children:"Log In"})]}),(0,om.jsx)("div",{className:"signup-box",children:(0,om.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l===c)try{const t=(await Tr(im,s,l)).user;await T(t),console.log("Signup successful",t.uid),r(t.uid),P()}catch(x){k(x.message||"Signup failed. Please try again.")}else k("Passwords need to match!")},children:[(0,om.jsx)("input",{className:"signup-input",type:"email",placeholder:"Your Email",value:s,onChange:t=>a(t.target.value),required:!0}),(0,om.jsx)("input",{className:"signup-input",type:"password",placeholder:"Password",value:l,onChange:t=>h(t.target.value),required:!0}),(0,om.jsx)("input",{className:"signup-input",type:"password",placeholder:"Confirm Password",value:c,onChange:t=>u(t.target.value),required:!0}),x&&(0,om.jsx)("p",{className:"error-message",children:x}),(0,om.jsxs)("div",{className:"signup-form-buttons",children:[(0,om.jsx)("button",{className:"signup-form-submit-btn",type:"submit",children:"Sign Up"}),(0,om.jsx)("h2",{className:"signup-form-or",children:"or"}),(0,om.jsxs)("button",{onClick:async()=>{try{const t=(await as(im,R)).user;console.log(t.displayName),r(t.uid),g(t.displayName||""),a(t.email),f(3)}catch(x){k(x.message)}},className:"signup-form-google-btn",children:[(0,om.jsx)("i",{className:"fa-brands fa-google"}),"Continue with Google"]})]})]})})]}),2===d&&(0,om.jsx)(ZB,{step:d,type:"text",length:"30",placeholder:"Name",dataValue:p,setDataValue:g,handleNext:P,handlePrev:_,error:x}),3===d&&(0,om.jsx)(ZB,{step:d,type:"number",length:"2",placeholder:"Age",dataValue:m,setDataValue:O,handleNext:P,handlePrev:_,error:x}),4===d&&(0,om.jsx)(ZB,{step:d,type:"text",length:"30",placeholder:"Child ID",dataValue:b,setDataValue:w,tempChildren:y,addChild:C,handleNext:P,handlePrev:_,error:x})]})})}function ZB(t){let{step:e,type:n,length:i,placeholder:r,dataValue:s,setDataValue:o,addChild:a,handleNext:l,handlePrev:h,error:c}=t;return(0,om.jsx)("div",{className:"main-container info",children:(0,om.jsxs)("div",{className:"parent-signup-container",children:[(0,om.jsx)("div",{className:"title",children:(0,om.jsx)("h1",{children:"Almost there"})}),(0,om.jsxs)("div",{className:"info-input-container",children:[(0,om.jsx)("input",{className:"info-input",type:n,maxLength:i,placeholder:r,value:s,onChange:t=>o(t.target.value),required:!0}),4===e&&(0,om.jsx)("button",{className:"add-child-button",onClick:a,children:"+"})]}),(0,om.jsxs)("div",{className:"signup-form-buttons",children:[e>1&&(0,om.jsx)("button",{className:"signup-form-submit-btn step",onClick:h,children:"Back"}),(0,om.jsx)("button",{className:"signup-form-submit-btn step",onClick:l,children:"Next"})]}),c&&(0,om.jsx)("p",{className:"error-message",children:c})]})})}function XB(t){const{showSignUpForm:e}=t,[n,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1);rt();return(0,om.jsxs)("div",{className:"main-container",children:[(0,om.jsx)(YB,{title:"Parents, over here!",imgSrc:"".concat("/DYA","/user.png"),overlayClass:"overlay-left",desc:"Few words about parent account",handleRouteChange:()=>i(!0)}),(0,om.jsx)(YB,{title:"Students!",imgSrc:"".concat("/DYA","/user.png"),overlayClass:"overlay-right",desc:"Few words about student account",handleRouteChange:()=>s(!0)}),n&&(0,om.jsx)("div",{className:"popup-overlay",onClick:()=>i(!1),children:(0,om.jsx)("div",{className:"popup-content",onClick:t=>t.stopPropagation(),children:(0,om.jsx)(VB,{setShowSignUpForm:i,toggleLoginPopUp:()=>{}})})}),r&&(0,om.jsx)("div",{className:"popup-overlay",onClick:()=>s(!1),children:(0,om.jsx)("div",{className:"popup-content",onClick:t=>t.stopPropagation(),children:(0,om.jsx)(UB,{setShowSignUpForm:s,toggleLoginPopUp:()=>{}})})})]})}function YB(t){let{title:e,imgSrc:n,overlayClass:i,desc:r,handleRouteChange:s}=t;return(0,om.jsxs)("div",{children:[(0,om.jsx)("h2",{className:"container-title",children:e}),(0,om.jsxs)("div",{className:"container",children:[(0,om.jsx)("img",{src:n,alt:e,className:"image"}),(0,om.jsx)("div",{className:i,children:(0,om.jsx)("div",{className:"desc",children:(0,om.jsx)("button",{className:"overlay-btn",onClick:s,children:"Sign Up"})})})]})]})}function FB(){return(0,om.jsxs)("footer",{className:"footer",children:[(0,om.jsxs)("section",{className:"hero",children:[(0,om.jsx)("img",{src:"".concat("/DYA","/branch-left.png"),alt:"left-img",className:"hero-img-left"}),(0,om.jsxs)("div",{className:"hero-content",children:[(0,om.jsx)("h2",{children:"Discover and Learn"}),(0,om.jsx)("p",{children:"Explore our interactive games, educational videos, and fun activities!"}),(0,om.jsx)("button",{className:"animated-button",children:"Get Started"})]}),(0,om.jsx)("img",{src:"".concat("/DYA","/branch-right.png"),alt:"right-img",className:"hero-img-right"})]}),(0,om.jsx)("p",{children:"\xa9 2024 DYA. All rights reserved."})]})}const BB=[{name:"Java",image:"".concat("/DYA","/java.png"),info:"Learn Java with fun activities and games."},{name:"Python",image:"".concat("/DYA","/python.png"),info:"Learn Python with fun activities and games."},{name:"Javascript",image:"".concat("/DYA","/js-icon.png"),info:"Learn HTML/CSS with fun activities and games."}];function GB(){const[t,e]=(0,o.useState)(null),n=()=>{e(null)};return(0,om.jsxs)("section",{className:"language-slider",children:[(0,om.jsx)("h2",{children:"Languages We Offer"}),(0,om.jsx)("div",{className:"slider",children:BB.map(((t,n)=>(0,om.jsxs)("div",{className:"language-card",onClick:()=>(t=>{e(t)})(t),children:[(0,om.jsx)("img",{src:t.image,alt:t.name,className:"language-image"}),(0,om.jsx)("h3",{children:t.name})]},n)))}),t&&(0,om.jsx)("div",{className:"popup-overlay",onClick:n,children:(0,om.jsxs)("div",{className:"popup-content",onClick:t=>t.stopPropagation(),children:[(0,om.jsx)("h3",{children:t.name}),(0,om.jsx)("p",{children:t.info}),(0,om.jsx)("button",{onClick:n,children:"Close"})]})})]})}function HB(){const{uid:t,language:e,lessonTitle:n}=st(),i=rt(),[r,s]=(0,o.useState)(),[a,l]=(0,o.useState)([]),[h,c]=(0,o.useState)("Introduction"),[u,d]=(0,o.useState)(""),[f,p]=(0,o.useState)(""),[g,m]=(0,o.useState)(n.replace(/-/g," ")),[O,y]=(0,o.useState)([]),v=t=>{c(t)};(0,o.useEffect)((()=>{(async()=>{try{if(!t||!n)return void s("Missing user ID or lesson");const i=hp(Sf(rm,"Lesson".concat(e)),up("title","==",g)),r=(await Qp(i)).docs.map((t=>({id:t.id,...t.data()})));r.length>0?(l(r[0]),y(r[0].steps)):s("Lesson not found")}catch(r){s(r.message)}})()}),[t,e,n,g]),console.log(a);const b=O.find((t=>t.title===h));return(0,om.jsx)(om.Fragment,{children:(0,om.jsxs)("div",{className:"lesson-page",children:[(0,om.jsxs)("div",{className:"lesson-page-header",children:[(0,om.jsx)("button",{onClick:()=>{i(-1)},className:"back-btn",children:(0,om.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,om.jsx)("h1",{children:g})]}),(0,om.jsxs)("div",{className:"lesson-content-container",children:[(0,om.jsxs)("div",{className:"lesson-tabs",children:[(0,om.jsx)("button",{className:"tablinks ".concat("Introduction"===h?"active":""),onClick:()=>v("Introduction"),children:"Introduction"}),O.map(((t,e)=>(0,om.jsx)("button",{className:"tablinks ".concat(h===t.title?"active":""),onClick:()=>v(t.title),children:t.title},e)))]}),(0,om.jsx)("div",{className:"lesson-main",children:"Introduction"===h?(0,om.jsxs)("div",{children:[(0,om.jsx)("h2",{children:a.description}),(0,om.jsx)("h2",{children:a.objective}),(0,om.jsx)("p",{children:a.materials})]}):(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)("h2",{children:h}),(0,om.jsx)("h3",{children:b.instruction}),(0,om.jsx)("p",{children:b.steps})]})})]})]})})}function KB(t){const{openDash:e,openProfile:n}=t,i=rt();return(0,om.jsxs)("div",{className:"parent-hub-sidebar-container",children:[(0,om.jsxs)("div",{className:"sidebar-title-container",children:[(0,om.jsx)("i",{className:"fa-solid fa-chart-line"}),(0,om.jsx)("h2",{children:"Parent Hub"})]}),(0,om.jsx)("div",{className:"border"}),(0,om.jsxs)("div",{className:"sidebar-buttons-container",children:[(0,om.jsxs)("button",{className:"sidebar-button",onClick:e,children:[(0,om.jsx)("i",{className:"fa-solid fa-table-columns"}),(0,om.jsx)("h3",{children:"Dash"})]}),(0,om.jsxs)("button",{className:"sidebar-button",onClick:n,children:[(0,om.jsx)("i",{className:"fa-solid fa-user"}),(0,om.jsx)("h3",{children:"Profile"})]}),(0,om.jsxs)("button",{className:"sidebar-button",onClick:()=>(t=>{Cr(t).then((()=>{i("/")})).catch((t=>{t.message}))})(im),children:[(0,om.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"}),(0,om.jsx)("h3",{children:"Sign Out"})]})]})]})}function JB(t){let{userId:e,children:n,getUserData:i,setShowAddChildPopUp:r}=t;const[s,a]=(0,o.useState)(""),[l,h]=(0,o.useState)("");return(0,om.jsx)("div",{className:"main-container",children:(0,om.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async t=>{if(t){const s=hp(Sf(rm,"users"),up("uniqueId","==",t));if((await Qp(s)).empty)h("Child ID not found");else{const s=n.some((e=>e.uniqueId===t));if(s)h("Child already added");else try{const n=Pf(rm,"parents",e);await Cp(n,{children:Np(t)}),a(""),await i(),r(!1)}catch(l){console.log(l.message)}}}})(s)},children:[(0,om.jsx)("div",{className:"input-container",children:(0,om.jsx)("input",{className:"child-id-input",type:"text",placeholder:"Child ID",onChange:t=>a(t.target.value),required:!0})}),(0,om.jsx)("div",{className:"submit-button-container",children:(0,om.jsx)("button",{type:"submit",children:"Add"})}),(0,om.jsx)("div",{className:"error-container",children:l&&(0,om.jsx)("p",{children:l})})]})})}function tG(t){let{childID:e,userId:n,setShowDeleteChildPopUp:i,getChildData:r,getUserData:s}=t;return(0,om.jsx)("div",{className:"main-container",children:(0,om.jsxs)("div",{className:"submit-button-container",children:[(0,om.jsx)("button",{className:"delete-button",onClick:()=>(async t=>{try{const e=Pf(rm,"parents",n),i=(await Pp(e)).data().children.filter((e=>e!==t));await Cp(e,{children:i}),await s(),await r(i)}catch(e){console.log(e.message)}i(!1)})(e),children:"Delete"}),(0,om.jsx)("button",{className:"cancel-delete-button",onClick:()=>i(!1),children:"Cancel"})]})})}function eG(t){return eG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eG(t)}function nG(t){var e=function(t,e){if("object"!=eG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=eG(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eG(e)?e:e+""}function iG(t,e,n){return(e=nG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rG(t){return t+.5|0}const sG=(t,e,n)=>Math.max(Math.min(t,n),e);function oG(t){return sG(rG(2.55*t),0,255)}function aG(t){return sG(rG(255*t),0,255)}function lG(t){return sG(rG(t/2.55)/100,0,1)}function hG(t){return sG(rG(100*t),0,100)}const cG={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uG=[..."0123456789ABCDEF"],dG=t=>uG[15&t],fG=t=>uG[(240&t)>>4]+uG[15&t],pG=t=>(240&t)>>4===(15&t);function gG(t){var e=(t=>pG(t.r)&&pG(t.g)&&pG(t.b)&&pG(t.a))(t)?dG:fG;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const mG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function OG(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function yG(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function vG(t,e,n){const i=OG(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function bG(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o=(r+s)/2;let a,l,h;return r!==s&&(h=r-s,l=o>.5?h/(2-r-s):h/(r+s),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,h,r),a=60*a+.5),[0|a,l||0,o]}function wG(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(aG)}function xG(t,e,n){return wG(OG,t,e,n)}function kG(t){return(t%360+360)%360}function SG(t){const e=mG.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?oG(+e[5]):aG(+e[5]));const r=kG(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return wG(vG,t,e,n)}(r,s,o):"hsv"===e[1]?function(t,e,n){return wG(yG,t,e,n)}(r,s,o):xG(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const PG={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_G={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let QG;function TG(t){QG||(QG=function(){const t={},e=Object.keys(_G),n=Object.keys(PG);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,PG[s]);s=parseInt(_G[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),QG.transparent=[0,0,0,0]);const e=QG[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const CG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const EG=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,RG=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function AG(t,e,n){if(t){let i=bG(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=xG(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function $G(t,e){return t?Object.assign(e||{},t):t}function NG(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=aG(t[3]))):(e=$G(t,{r:0,g:0,b:0,a:1})).a=aG(e.a),e}function IG(t){return"r"===t.charAt(0)?function(t){const e=CG.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?oG(t):sG(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?oG(n):sG(n,0,255)),i=255&(e[4]?oG(i):sG(i,0,255)),r=255&(e[6]?oG(r):sG(r,0,255)),{r:n,g:i,b:r,a:s}}}(t):SG(t)}class MG{constructor(t){if(t instanceof MG)return t;const e=typeof t;let n;"object"===e?n=NG(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*cG[t[1]],g:255&17*cG[t[2]],b:255&17*cG[t[3]],a:5===n?17*cG[t[4]]:255}:7!==n&&9!==n||(e={r:cG[t[1]]<<4|cG[t[2]],g:cG[t[3]]<<4|cG[t[4]],b:cG[t[5]]<<4|cG[t[6]],a:9===n?cG[t[7]]<<4|cG[t[8]]:255})),e}(t)||TG(t)||IG(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=$G(this._rgb);return t&&(t.a=lG(t.a)),t}set rgb(t){this._rgb=NG(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(lG(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?gG(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=bG(t),n=e[0],i=hG(e[1]),r=hG(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(lG(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=RG(lG(t.r)),r=RG(lG(t.g)),s=RG(lG(t.b));return{r:aG(EG(i+n*(RG(lG(e.r))-i))),g:aG(EG(r+n*(RG(lG(e.g))-r))),b:aG(EG(s+n*(RG(lG(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new MG(this.rgb)}alpha(t){return this._rgb.a=aG(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=rG(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return AG(this._rgb,2,t),this}darken(t){return AG(this._rgb,2,-t),this}saturate(t){return AG(this._rgb,1,t),this}desaturate(t){return AG(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=bG(t);n[0]=kG(n[0]+e),n=xG(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function DG(){}const qG=(()=>{let t=0;return()=>t++})();function jG(t){return null===t||"undefined"===typeof t}function UG(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function LG(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function WG(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function zG(t,e){return WG(t)?t:e}function VG(t,e){return"undefined"===typeof t?e:t}const ZG=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function XG(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function YG(t,e,n,i){let r,s,o;if(UG(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(LG(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function FG(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function BG(t){if(UG(t))return t.map(BG);if(LG(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=BG(t[n[r]]);return e}return t}function GG(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function HG(t,e,n,i){if(!GG(t))return;const r=e[t],s=n[t];LG(r)&&LG(s)?KG(r,s,i):e[t]=BG(s)}function KG(t,e,n){const i=UG(e)?e:[e],r=i.length;if(!LG(t))return t;const s=(n=n||{}).merger||HG;let o;for(let a=0;a<r;++a){if(o=i[a],!LG(o))continue;const e=Object.keys(o);for(let i=0,r=e.length;i<r;++i)s(e[i],t,o,n)}return t}function JG(t,e){return KG(t,e,{merger:tH})}function tH(t,e,n){if(!GG(t))return;const i=e[t],r=n[t];LG(i)&&LG(r)?JG(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=BG(r))}const eH={"":t=>t,x:t=>t.x,y:t=>t.y};function nH(t,e){const n=eH[e]||(eH[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function iH(t){return t.charAt(0).toUpperCase()+t.slice(1)}const rH=t=>"undefined"!==typeof t,sH=t=>"function"===typeof t,oH=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const aH=Math.PI,lH=2*aH,hH=lH+aH,cH=Number.POSITIVE_INFINITY,uH=aH/180,dH=aH/2,fH=aH/4,pH=2*aH/3,gH=Math.log10,mH=Math.sign;function OH(t,e,n){return Math.abs(t-e)<n}function yH(t){const e=Math.round(t);t=OH(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(gH(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function vH(t){return!isNaN(parseFloat(t))&&isFinite(t)}function bH(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function wH(t){return t*(aH/180)}function xH(t){return t*(180/aH)}function kH(t){if(!WG(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function SH(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*aH&&(s+=lH),{angle:s,distance:r}}function PH(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _H(t,e){return(t-e+hH)%lH-aH}function QH(t){return(t%lH+lH)%lH}function TH(t,e,n,i){const r=QH(t),s=QH(e),o=QH(n),a=QH(s-r),l=QH(o-r),h=QH(r-s),c=QH(r-o);return r===s||r===o||i&&s===o||a>l&&h<c}function CH(t,e,n){return Math.max(e,Math.min(n,t))}function EH(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function RH(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const AH=(t,e,n,i)=>RH(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),$H=(t,e,n)=>RH(t,n,(i=>t[i][e]>=n));const NH=["push","pop","shift","splice","unshift"];function IH(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(NH.forEach((e=>{delete t[e]})),delete t._chartjs)}function MH(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const DH="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function qH(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,DH.call(window,(()=>{i=!1,t.apply(e,n)})))}}const jH=t=>"start"===t?"left":"end"===t?"right":"center",UH=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function LH(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:h,max:c,minDefined:u,maxDefined:d}=o.getUserBounds();u&&(r=CH(Math.min(AH(a,l,h).lo,n?i:AH(e,l,o.getPixelForValue(h)).lo),0,i-1)),s=d?CH(Math.max(AH(a,o.axis,c,!0).hi+1,n?0:AH(e,l,o.getPixelForValue(c),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function WH(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const zH=t=>0===t||1===t,VH=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*lH/n),ZH=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*lH/n)+1,XH={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*dH),easeOutSine:t=>Math.sin(t*dH),easeInOutSine:t=>-.5*(Math.cos(aH*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>zH(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zH(t)?t:VH(t,.075,.3),easeOutElastic:t=>zH(t)?t:ZH(t,.075,.3),easeInOutElastic(t){const e=.1125;return zH(t)?t:t<.5?.5*VH(2*t,e,.45):.5+.5*ZH(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-XH.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*XH.easeInBounce(2*t):.5*XH.easeOutBounce(2*t-1)+.5};function YH(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function FH(t){return YH(t)?t:new MG(t)}function BH(t){return YH(t)?t:new MG(t).saturate(.5).darken(.1).hexString()}const GH=["x","y","borderWidth","radius","tension"],HH=["color","borderColor","backgroundColor"];const KH=new Map;function JH(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=KH.get(n);return i||(i=new Intl.NumberFormat(t,e),KH.set(n,i)),i}(e,n).format(t)}const tK={values:t=>UG(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=gH(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),JH(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(gH(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?tK.numeric.call(this,t,e,n):""}};var eK={formatters:tK};const nK=Object.create(null),iK=Object.create(null);function rK(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function sK(t,e,n){return"string"===typeof e?KG(rK(t,e),n):KG(rK(t,""),e)}class oK{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>BH(e.backgroundColor),this.hoverBorderColor=(t,e)=>BH(e.borderColor),this.hoverColor=(t,e)=>BH(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return sK(this,t,e)}get(t){return rK(this,t)}describe(t,e){return sK(iK,t,e)}override(t,e){return sK(nK,t,e)}route(t,e,n,i){const r=rK(this,t),s=rK(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return LG(t)?Object.assign({},e,t):VG(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var aK=new oK({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:HH},numbers:{type:"number",properties:GH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eK.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function lK(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function hK(t,e,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,h,c,u,d;for(l=0;l<a;l++)if(u=n[l],void 0===u||null===u||UG(u)){if(UG(u))for(h=0,c=u.length;h<c;h++)d=u[h],void 0===d||null===d||UG(d)||(o=lK(t,r,s,o,d))}else o=lK(t,r,s,o,u);t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function cK(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function uK(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function dK(t,e,n,i){fK(t,e,n,i,null)}function fK(t,e,n,i,r){let s,o,a,l,h,c,u,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*uH;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,lH):t.arc(n,i,g,0,lH),t.closePath();break;case"triangle":c=r?r/2:g,t.moveTo(n+Math.sin(m)*c,i-Math.cos(m)*g),m+=pH,t.lineTo(n+Math.sin(m)*c,i-Math.cos(m)*g),m+=pH,t.lineTo(n+Math.sin(m)*c,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":h=.516*g,l=g-h,o=Math.cos(m+fH)*l,u=Math.cos(m+fH)*(r?r/2-h:l),a=Math.sin(m+fH)*l,d=Math.sin(m+fH)*(r?r/2-h:l),t.arc(n-u,i-a,h,m-aH,m-dH),t.arc(n+d,i-o,h,m-dH,m),t.arc(n+u,i+a,h,m,m+dH),t.arc(n-d,i+o,h,m+dH,m+aH),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,c=r?r/2:l,t.rect(n-c,i-l,2*c,2*l);break}m+=fH;case"rectRot":u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-u,i-a),t.lineTo(n+d,i-o),t.lineTo(n+u,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":m+=fH;case"cross":u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),m+=fH,u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function pK(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function gK(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function mK(t){t.restore()}function OK(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function yK(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function vK(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,h=n+s.actualBoundingBoxDescent,c=r.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function bK(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function wK(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=UG(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,h;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),jG(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)h=o[l],s.backdrop&&bK(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),jG(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(h,n,i,s.maxWidth)),t.fillText(h,n,i,s.maxWidth),vK(t,n,i,h,s),i+=Number(r.lineHeight);t.restore()}function xK(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*aH,aH,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,aH,dH,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,dH,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-dH,!0),t.lineTo(n+o.topLeft,i)}const kK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SK=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PK(t,e){const n=(""+t).match(kK);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const _K=t=>+t||0;function QK(t,e){const n={},i=LG(e),r=i?Object.keys(e):e,s=LG(t)?i?n=>VG(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=_K(s(o));return n}function TK(t){return QK(t,{top:"y",right:"x",bottom:"y",left:"x"})}function CK(t){return QK(t,["topLeft","topRight","bottomLeft","bottomRight"])}function EK(t){const e=TK(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function RK(t,e){t=t||{},e=e||aK.font;let n=VG(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=VG(t.style,e.style);i&&!(""+i).match(SK)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:VG(t.family,e.family),lineHeight:PK(VG(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:VG(t.weight,e.weight),string:""};return r.string=function(t){return!t||jG(t.size)||jG(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function AK(t,e,n,i){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&UG(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function $K(t,e){return Object.assign(Object.create(t),e)}function NK(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=ZK("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>NK([i,...t],e,r,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>jK(n,i,(()=>function(t,e,n,i){let r;for(const s of e)if(r=ZK(DK(s,t),n),"undefined"!==typeof r)return qK(t,r)?zK(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>XK(t).includes(e),ownKeys:t=>XK(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function IK(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:MK(t,i),setContext:e=>IK(t,e,n,i),override:r=>IK(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>jK(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];sH(a)&&o.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);a.delete(t),qK(t,l)&&(l=zK(r._scopes,r,t,l));return l}(e,a,t,n));UG(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(t))return e[s.index%e.length];if(LG(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=zK(i,r,t,l);e.push(IK(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));qK(e,a)&&(a=IK(a,r,s&&s[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function MK(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:sH(n)?n:()=>n,isIndexable:sH(i)?i:()=>i}}const DK=(t,e)=>t?t+iH(e):e,qK=(t,e)=>LG(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function jK(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function UK(t,e,n){return sH(t)?t(e,n):t}const LK=(t,e)=>!0===t?e:"string"===typeof t?nH(e,t):void 0;function WK(t,e,n,i,r){for(const s of e){const e=LK(n,s);if(e){t.add(e);const s=UK(e._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function zK(t,e,n,i){const r=e._rootScopes,s=UK(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=VK(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=VK(a,o,s,l,i),null!==l))&&NK(Array.from(a),[""],r,s,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(UG(r)&&LG(n))return n;return r||{}}(e,n,i))))}function VK(t,e,n,i,r){for(;n;)n=WK(t,e,n,i,r);return n}function ZK(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function XK(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function YK(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,h,c;for(a=0,l=i;a<l;++a)h=a+n,c=e[h],o[a]={r:r.parse(nH(c,s),h)};return o}const FK=Number.EPSILON||1e-14,BK=(t,e)=>e<t.length&&!t[e].skip&&t[e],GK=t=>"x"===t?"y":"x";function HK(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=PH(s,r),l=PH(o,s);let h=a/(a+l),c=l/(a+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const u=i*h,d=i*c;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function KK(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=GK(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,h=BK(t,0);for(o=0;o<i;++o)if(a=l,l=h,h=BK(t,o+1),l){if(h){const t=h[e]-l[e];r[o]=0!==t?(h[n]-l[n])/t:0}s[o]=a?h?mH(r[o-1])!==mH(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(t,e,n){const i=t.length;let r,s,o,a,l,h=BK(t,0);for(let c=0;c<i-1;++c)l=h,h=BK(t,c+1),l&&h&&(OH(e[c],0,FK)?n[c]=n[c+1]=0:(r=n[c]/e[c],s=n[c+1]/e[c],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[c]=r*o*e[c],n[c+1]=s*o*e[c])))}(t,r,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=GK(n),r=t.length;let s,o,a,l=BK(t,0);for(let h=0;h<r;++h){if(o=a,a=l,l=BK(t,h+1),!a)continue;const r=a[n],c=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=c-s*e[h]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=c+s*e[h])}}(t,s,e)}function JK(t,e,n){return Math.max(Math.min(t,n),e)}function tJ(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)KK(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=HK(n,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r,s,o,a=pK(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&pK(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=JK(r.cp1x,e.left,e.right),r.cp1y=JK(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=JK(r.cp2x,e.left,e.right),r.cp2y=JK(r.cp2y,e.top,e.bottom)))}(t,n)}function eJ(){return"undefined"!==typeof window&&"undefined"!==typeof document}function nJ(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function iJ(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const rJ=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const sJ=["top","right","bottom","left"];function oJ(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=sJ[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const aJ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function lJ(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=rJ(n),s="border-box"===r.boxSizing,o=oJ(r,"padding"),a=oJ(r,"border","width"),{x:l,y:h,box:c}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(aJ(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),u=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/f*n.width/i),y:Math.round((h-d)/p*n.height/i)}}const hJ=t=>Math.round(10*t)/10;function cJ(t,e,n,i){const r=rJ(t),s=oJ(r,"margin"),o=iJ(r.maxWidth,t,"clientWidth")||cH,a=iJ(r.maxHeight,t,"clientHeight")||cH,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const s=t&&nJ(t);if(s){const t=s.getBoundingClientRect(),o=rJ(s),a=oJ(o,"border","width"),l=oJ(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=iJ(o.maxWidth,s,"clientWidth"),r=iJ(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||cH,maxHeight:r||cH}}(t,e,n);let{width:h,height:c}=l;if("content-box"===r.boxSizing){const t=oJ(r,"border","width"),e=oJ(r,"padding");h-=e.width+t.width,c-=e.height+t.height}h=Math.max(0,h-s.width),c=Math.max(0,i?h/i:c-s.height),h=hJ(Math.min(h,o,l.maxWidth)),c=hJ(Math.min(c,a,l.maxHeight)),h&&!c&&(c=hJ(h/2));return(void 0!==e||void 0!==n)&&i&&l.height&&c>l.height&&(c=l.height,h=hJ(Math.floor(c*i))),{width:h,height:c}}function uJ(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const dJ=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};eJ()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(S5){}return t}();function fJ(t,e){const n=function(t,e){return rJ(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function pJ(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gJ(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function mJ(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=pJ(t,r,n),a=pJ(r,s,n),l=pJ(s,e,n),h=pJ(o,a,n),c=pJ(a,l,n);return pJ(h,c,n)}function OJ(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function yJ(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function vJ(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function bJ(t){return"angle"===t?{between:TH,compare:_H,normalize:QH}:{between:EH,compare:(t,e)=>t-e,normalize:t=>t}}function wJ(t){let{start:e,end:n,count:i,loop:r,style:s}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:s}}function xJ(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:h}=bJ(i),{start:c,end:u,loop:d,style:f}=function(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=bJ(i),l=e.length;let h,c,{start:u,end:d,loop:f}=t;if(f){for(u+=l,d+=l,h=0,c=l;h<c&&o(a(e[u%l][i]),r,s);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,O,y=!1,v=null;const b=()=>y||l(r,O,g)&&0!==a(r,O),w=()=>!y||0===a(s,g)||l(s,O,g);for(let x=c,k=c;x<=u;++x)m=e[x%o],m.skip||(g=h(m[i]),g!==O&&(y=l(g,r,s),null===v&&b()&&(v=0===a(g,r)?x:k),null!==v&&w()&&(p.push(wJ({start:v,end:x,loop:d,count:o,style:f})),v=null),k=x,O=g));return null!==v&&p.push(wJ({start:v,end:u,loop:d,count:o,style:f})),p}function kJ(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=xJ(i[r],t.points,e);s.length&&n.push(...s)}return n}function SJ(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),s=PJ(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,h=[];let c=s,u=e[0].start,d=u;function f(t,e,i,r){const s=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(h.push({start:t%l,end:e%l,loop:i,style:r}),c=r,u=e%l)}}for(const p of e){u=a?u:p.start;let t,e=n[u%l];for(d=u+1;d<=p.end;d++){const s=n[d%l];t=PJ(i.setContext($K(r,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),_J(t,c)&&f(u,d-1,p.loop,c),e=s,c=t}u<d-1&&f(u,d-1,p.loop,c)}return h}(t,e,n,i):e}function PJ(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function _J(t,e){if(!e)return!1;const n=[],i=function(t,e){return YH(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}class QJ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=DH.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var TJ=new QJ;const CJ="transparent",EJ={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=FH(t||CJ),r=i.valid&&FH(e||CJ);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class RJ{constructor(t,e,n,i){const r=e[n];i=AK([t.to,i,r,t.from]);const s=AK([t.from,r,i]);this._active=!0,this._fn=t.fn||EJ[t.type||typeof s],this._easing=XH[t.easing]||XH.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=AK([t.to,e,i,t.from]),this._from=AK([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class AJ{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!LG(t))return;const e=Object.keys(aK.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!LG(r))return;const s={};for(const t of e)s[t]=r[t];(UG(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const h=e[l];let c=r[l];const u=n.get(l);if(c){if(u&&c.active()){c.update(u,h,o);continue}c.cancel()}u&&u.duration?(r[l]=c=new RJ(u,t,l,h),i.push(c)):t[l]=h}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(TJ.add(this._chart,n),!0):void 0}}function $J(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function NJ(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function IJ(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,s="single"===i.mode;let o,a,l,h;if(null!==e){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}h=t.values[l],WG(h)&&(s||0===e||mH(e)===mH(h))&&(e+=h)}return e}}function MJ(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function DJ(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function qJ(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function jJ(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,h=o.axis,c=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,o,i),u=e.length;let d;for(let f=0;f<u;++f){const t=e[f],{[l]:n,[h]:s}=t;d=(t._stacks||(t._stacks={}))[h]=DJ(r,c,n),d[a]=s,d._top=qJ(d,o,!0,i.type),d._bottom=qJ(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function UJ(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function LJ(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const WJ=t=>"reset"===t||"none"===t,zJ=(t,e)=>e?t:Object.assign({},t);class VJ{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=MJ(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&LJ(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=VG(n.xAxisID,UJ(t,"x")),s=e.yAxisID=VG(n.yAxisID,UJ(t,"y")),o=e.rAxisID=VG(n.rAxisID,UJ(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),h=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&IH(this._data,this),t._stacked&&LJ(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(LG(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,h,c;for(l=0,h=o.length;l<h;++l)c=o[l],a[l]={[r]:c,[s]:t[c]};return a}(e,t)}else if(n!==e){if(n){IH(n,this);const t=this._cachedMeta;LJ(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),NH.forEach((t=>{const e="_onData"+iH(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),o}})})))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=MJ(e.vScale,e),e.stack!==n.stack&&(i=!0,LJ(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&jJ(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,h,c=0===t&&e===i.length||n._sorted,u=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,h=i;else{h=UG(i[t])?this.parseArrayData(n,i,t,e):LG(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[o]||u&&l[o]<u[o];for(a=0;a<e;++a)n._parsed[a+t]=l=h[a],c&&(r()&&(c=!1),u=l);n._sorted=c}s&&jJ(this,h)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),h=r===s,c=new Array(i);let u,d,f;for(u=0,d=i;u<d;++u)f=u+n,c[u]={[o]:h||r.parse(l[f],f),[a]:s.parse(e[f],f)};return c}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,h,c;for(a=0,l=i;a<l;++a)h=a+n,c=e[h],o[a]={x:r.parse(c[0],h),y:s.parse(c[1],h)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let h,c,u,d;for(h=0,c=i;h<c;++h)u=h+n,d=e[u],l[h]={x:r.parse(nH(d,o),u),y:s.parse(nH(d,a),u)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis];return IJ({keys:NJ(i,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=IJ(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:NJ(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let u,d;function f(){d=i[u];const e=d[o.axis];return!WG(d[t.axis])||h>e||c<e}for(u=0;u<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++u);if(r)for(u=s-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],WG(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return LG(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(VG(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=$J(t,n),r=$J(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(t,r,o,a),h=o;h<o+a;++h){const e=i[h];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(h=0;h<s.length;++h)s[h].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return $K(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return $K(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&rH(n);if(o)return zJ(o,a);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],u=l.getOptionScopes(this.getDataset(),h),d=Object.keys(aK.elements[t]),f=l.resolveNamedOptions(u,d,(()=>this.getContext(n,i,e)),c);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(zJ(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(e),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new AJ(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||WJ(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){WJ(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!WJ(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&LJ(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ZJ(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=MH(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(rH(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function XJ(t,e,n,i){return UG(t)?function(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),e[n.axis]=h,e._custom={barStart:l,barEnd:h,start:r,end:s,min:o,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function YJ(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let h,c,u,d;for(h=n,c=n+i;h<c;++h)d=e[h],u={},u[r.axis]=a||r.parse(o[h],h),l.push(XJ(d,u,s,h));return l}function FJ(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function BJ(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:h,bottom:c}=function(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=c:(s[GJ(c,o,a,l)]=!0,r=h)),s[GJ(r,o,a,l)]=!0,t.borderSkipped=s}function GJ(t,e,n,i){var r,s,o;return i?(o=n,t=HJ(t=(r=t)===(s=e)?o:r===o?s:r,n,e)):t=HJ(t,e,n),t}function HJ(t,e,n){return"start"===t?e:"end"===t?n:t}function KJ(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}iG(VJ,"defaults",{}),iG(VJ,"datasetElementType",null),iG(VJ,"dataElementType",null);class JJ extends VJ{parsePrimitiveData(t,e,n,i){return YJ(t,e,n,i)}parseArrayData(t,e,n,i){return YJ(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,h="x"===s.axis?o:a,c=[];let u,d,f,p;for(u=n,d=n+i;u<d;++u)p=e[u],f={},f[r.axis]=r.parse(nH(p,l),u),c.push(XJ(nH(p,h),f,s,u));return c}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=FJ(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),h=this._getRuler(),{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||jG(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,h),p=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||FJ(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};u&&(g.options=c||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;BJ(g,m,p,s),KJ(g,m,h.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,s=[],o=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(jG(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!o(a))&&((!1===r||-1===s.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&s.push(a.stack),a.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness;return{min:o||ZJ(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,h=FJ(l);let c,u,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),h&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&mH(d)!==mH(l.barEnd)&&(f=0),f+=d);const g=jG(r)||h?f:r;let m=e.getPixelForValue(g);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,u=c-m,Math.abs(u)<s){u=function(t,e,n){return 0!==t?mH(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(u,e,o)*s,d===o&&(m-=u/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),l),c=m+u,n&&!h&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(c)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=mH(u)*e.getLineWidthForValue(o)/2;m+=t,u-=t}return{size:u,base:m,head:c,center:c+u/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=VG(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const h=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:h}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let s,o;return jG(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}(t,e,i,n),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=l.start+l.chunk*h+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}iG(JJ,"id","bar"),iG(JJ,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),iG(JJ,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class t0 extends VJ{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=VG(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=VG(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),h=s.axis,c=o.axis;for(let u=e;u<e+n;u++){const e=t[u],n=!r&&this.getParsed(u),d={},f=d[h]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[h]),p=d[c]=r?o.getBasePixel():o.getPixelForValue(n[c]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(u,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,u,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=VG(n&&n._custom,r),i}}iG(t0,"id","bubble"),iG(t0,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),iG(t0,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class e0 extends VJ{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=t=>+n[t];if(LG(n[t])){const{key:t="value"}=this._parsing;o=e=>+nH(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return wH(this.options.rotation-90)}_getCircumference(){return wH(this.options.circumference)}_getRotationExtents(){let t=lH,e=-lH;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min(((t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e)(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:h,rotation:c}=this._getRotationExtents(),{ratioX:u,ratioY:d,offsetX:f,offsetY:p}=function(t,e,n){let i=1,r=1,s=0,o=0;if(e<lH){const a=t,l=a+e,h=Math.cos(a),c=Math.sin(a),u=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>TH(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>TH(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,h,u),m=f(dH,c,d),O=p(aH,h,u),y=p(aH+dH,c,d);i=(g-O)/2,r=(m-y)/2,s=-(g+O)/2,o=-(m+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(c,h,a),g=(n.width-s)/u,m=(n.height-s)/d,O=Math.max(Math.min(g,m)/2,0),y=ZG(this.options.radius,O),v=(y-Math.max(y*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=p*y,i.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/lH)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,h=(o.top+o.bottom)/2,c=r&&a.animateScale,u=c?0:this.innerRadius,d=c?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],s={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:u};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=e,this.updateElement(n,g,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?lH*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=JH(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,o,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,o=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(VG(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}iG(e0,"id","doughnut"),iG(e0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),iG(e0,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),iG(e0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class n0 extends VJ{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=LH(e,i,s);this._drawStart=o,this._drawCount=a,WH(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:h,includeOptions:c}=this._getSharedOptions(e,i),u=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=vH(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,O=e+n,y=t.length;let v=e>0&&this.getParsed(e-1);for(let b=0;b<y;++b){const n=t[b],f=m?n:{};if(b<e||b>=O){f.skip=!0;continue}const y=this.getParsed(b),w=jG(y[d]),x=f[u]=s.getPixelForValue(y[u],b),k=f[d]=r||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],b);f.skip=isNaN(x)||isNaN(k)||w,f.stop=b>0&&Math.abs(y[u]-v[u])>g,p&&(f.parsed=y,f.raw=l.data[b]),c&&(f.options=h||this.resolveDataElementOptions(b,n.active?"active":i)),m||this.updateElement(n,b,f,i),v=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}iG(n0,"id","line"),iG(n0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),iG(n0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class i0 extends VJ{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=JH(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return YK.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,h=a.yCenter,c=a.getIndexAngle(0)-.5*aH;let u,d=c;const f=360/this.countVisibleElements();for(u=0;u<e;++u)d+=this._computeAngle(u,i,f);for(u=e;u<e+n;u++){const e=t[u];let n=d,p=d+this._computeAngle(u,i,f),g=s.getDataVisibility(u)?a.getDistanceFromCenterForValue(this.getParsed(u).r):0;d=p,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=c));const m={x:l,y:h,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(u,e.active?"active":i)};this.updateElement(e,u,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?wH(this.resolveDataElementOptions(t,e).angle||n):0}}iG(i0,"id","polarArea"),iG(i0,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),iG(i0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class r0 extends e0{}iG(r0,"id","pie"),iG(r0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class s0 extends VJ{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return YK.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,h=s?r.yCenter:a.y,c={x:l,y:h,angle:a.angle,skip:isNaN(l)||isNaN(h),options:n};this.updateElement(e,o,c,i)}}}iG(s0,"id","radar"),iG(s0,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),iG(s0,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class o0 extends VJ{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=LH(e,n,i);if(this._drawStart=r,this._drawCount=s,WH(e)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,i),c=this.getSharedOptions(h),u=this.includeOptions(i,c),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=vH(p)?p:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||r||"none"===i;let y=e>0&&this.getParsed(e-1);for(let v=e;v<e+n;++v){const e=t[v],n=this.getParsed(v),h=O?e:{},p=jG(n[f]),b=h[d]=s.getPixelForValue(n[d],v),w=h[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],v);h.skip=isNaN(b)||isNaN(w)||p,h.stop=v>0&&Math.abs(n[d]-y[d])>m,g&&(h.parsed=n,h.raw=l.data[v]),u&&(h.options=c||this.resolveDataElementOptions(v,e.active?"active":i)),O||this.updateElement(e,v,h,i),y=n}this.updateSharedOptions(c,i,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}iG(o0,"id","scatter"),iG(o0,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),iG(o0,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function a0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class l0{static override(t){Object.assign(l0.prototype,t)}constructor(t){iG(this,"options",void 0),this.options=t||{}}init(){}formats(){return a0()}parse(){return a0()}format(){return a0()}add(){return a0()}diff(){return a0()}startOf(){return a0()}endOf(){return a0()}}var h0=l0;function c0(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?$H:AH;if(!i)return t(s,e,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(s,e,n-r),o=t(s,e,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function u0(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:h}=c0(s[a],e,o,r);for(let e=l;e<=h;++e){const r=n[e];r.skip||i(r,t,e)}}}function d0(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return u0(t,n,e,(function(n,o,a){(r||pK(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function f0(t,e,n,i,r,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return u0(t,n,e,(function(n,h,c){const u=n.inRange(e.x,e.y,r);if(i&&!u)return;const d=n.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!u)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:h,index:c}],l=f):f===l&&o.push({element:n,datasetIndex:h,index:c})})),o}function p0(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?f0(t,e,n,i,r,s):function(t,e,n,i){let r=[];return u0(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=SH(t,{x:e.x,y:e.y});TH(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})})),r}(t,e,n,r):[]}function g0(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return u0(t,n,e,((t,i,l)=>{t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:s}var m0={evaluateInteractionItems:u0,modes:{index(t,e,n,i){const r=lJ(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?d0(t,r,s,i,o):p0(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=lJ(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?d0(t,r,s,i,o):p0(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>d0(t,lJ(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=lJ(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return p0(t,r,s,n.intersect,i,o)},x:(t,e,n,i)=>g0(t,lJ(e,t),"x",n.intersect,i),y:(t,e,n,i)=>g0(t,lJ(e,t),"y",n.intersect,i)}};const O0=["left","top","right","bottom"];function y0(t,e){return t.filter((t=>t.pos===e))}function v0(t,e){return t.filter((t=>-1===O0.indexOf(t.pos)&&t.box.axis===e))}function b0(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function w0(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!O0.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:o&&e.availableHeight)}return n}function x0(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function k0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function S0(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!LG(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&k0(o,s.getPadding());const a=Math.max(0,e.outerWidth-x0(o,t,"left","right")),l=Math.max(0,e.outerHeight-x0(o,t,"top","bottom")),h=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:h,other:c}:{same:c,other:h}}function P0(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function _0(t,e,n,i){const r=[];let s,o,a,l,h,c;for(s=0,o=t.length,h=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,P0(a.horizontal,e));const{same:o,other:u}=S0(e,n,a,i);h|=o&&r.length,c=c||u,l.fullSize||r.push(a)}return h&&_0(r,e,n,i)||c}function Q0(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function T0(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*h,s=l.size||t.height;rH(l.start)&&(o=l.start),t.fullSize?Q0(t,r.left,o,n.outerWidth-r.right-r.left,s):Q0(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*h,o=l.size||t.width;rH(l.start)&&(s=l.start),t.fullSize?Q0(t,s,r.top,o,n.outerHeight-r.bottom-r.top):Q0(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}var C0={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=EK(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=b0(e.filter((t=>t.box.fullSize)),!0),i=b0(y0(e,"left"),!0),r=b0(y0(e,"right")),s=b0(y0(e,"top"),!0),o=b0(y0(e,"bottom")),a=v0(e,"x"),l=v0(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:y0(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,h=a.horizontal;YG(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},r);k0(d,EK(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=w0(l.concat(h),u);_0(a.fullSize,f,u,p),_0(l,f,u,p),_0(h,f,u,p)&&_0(l,f,u,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),T0(a.leftAndTop,f,u,p),f.x+=f.w,f.y+=f.h,T0(a.rightAndBottom,f,u,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},YG(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class E0{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class R0 extends E0{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const A0="$chartjs",$0={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N0=t=>null===t||""===t;const I0=!!dJ&&{passive:!0};function M0(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,I0)}function D0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function q0(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||D0(n.addedNodes,i),e=e&&!D0(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function j0(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||D0(n.removedNodes,i),e=e&&!D0(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const U0=new Map;let L0=0;function W0(){const t=window.devicePixelRatio;t!==L0&&(L0=t,U0.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function z0(t,e,n){const i=t.canvas,r=i&&nJ(i);if(!r)return;const s=qH(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(t,e){U0.size||window.addEventListener("resize",W0),U0.set(t,e)}(t,s),o}function V0(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){U0.delete(t),U0.size||window.removeEventListener("resize",W0)}(t)}function Z0(t,e,n){const i=t.canvas,r=qH((e=>{null!==t.ctx&&n(function(t,e){const n=$0[t.type]||t.type,{x:i,y:r}=lJ(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,I0)}(i,e,r),r}class X0 extends E0{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[A0]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",N0(r)){const e=fJ(t,"width");void 0!==e&&(t.width=e)}if(N0(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=fJ(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[A0])return!1;const n=e[A0].initial;["height","width"].forEach((t=>{const i=n[t];jG(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[A0],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:q0,detach:j0,resize:z0}[e]||Z0;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:V0,detach:V0,resize:V0}[e]||M0)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return cJ(t,e,n,i)}isAttached(t){const e=t&&nJ(t);return!(!e||!e.isConnected)}}class Y0{constructor(){iG(this,"x",void 0),iG(this,"y",void 0),iG(this,"active",!1),iG(this,"options",void 0),iG(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return vH(this.x)&&vH(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function F0(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],h=[];if(o>r)return function(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}(e,h,s,o/r),h;const c=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}(s,e,r);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(B0(e,h,c,jG(i)?0:a-i,a),t=0,n=o-1;t<n;t++)B0(e,h,c,s[t],s[t+1]);return B0(e,h,c,l,jG(i)?e.length:l+i),h}return B0(e,h,c),h}function B0(t,e,n,i,r){const s=VG(i,0),o=Math.min(VG(r,t.length),t.length);let a,l,h,c=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),h=s;h<0;)c++,h=Math.round(s+c*n);for(l=Math.max(s,0);l<o;l++)l===h&&(e.push(t[l]),c++,h=Math.round(s+c*n))}iG(Y0,"defaults",{}),iG(Y0,"defaultRoutes",void 0);const G0=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,H0=(t,e)=>Math.min(e||t,t);function K0(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function J0(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,h=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(h-s,o-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(r-1))/2,h+=r<e?l:-l,h<s-a||h>o+a)))return h}function t1(t){return t.drawTicks?t.tickLength:0}function e1(t,e){if(!t.display)return 0;const n=RK(t.font,e),i=EK(t.padding);return(UG(t.text)?t.text.length:1)*n.lineHeight+i.height}function n1(t,e,n){let i=jH(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class i1 extends Y0{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=zG(t,Number.POSITIVE_INFINITY),e=zG(e,Number.NEGATIVE_INFINITY),n=zG(n,Number.POSITIVE_INFINITY),i=zG(i,Number.NEGATIVE_INFINITY),{min:zG(t,n),max:zG(e,i),minDefined:WG(t),maxDefined:WG(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:zG(n,zG(i,n)),max:zG(i,zG(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){XG(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,s=ZG(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?K0(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=F0(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){XG(this.options.afterUpdate,[this])}beforeSetDimensions(){XG(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){XG(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),XG(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){XG(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=XG(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){XG(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){XG(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=H0(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const h=this._getLabelSizes(),c=h.widest.width,u=h.highest.height,d=CH(this.chart.width-c,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),c+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-t1(t.grid)-e.padding-e1(t.title,this.chart.options.font),a=Math.sqrt(c*c+u*u),l=xH(Math.min(Math.asin(CH((h.highest.height+6)/s,-1,1)),Math.asin(CH(o/a,-1,1))-Math.asin(CH(u/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){XG(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){XG(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=e1(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=t1(r)+s):(t.height=this.maxHeight,t.width=t1(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=wH(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(o){const e=n.mirror?0:c*r.width+h*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:h*r.width+c*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,c,h)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,u=0;a?l?(c=i*t.width,u=n*e.height):(c=n*t.height,u=i*e.width):"start"===r?u=e.width:"end"===r?c=t.width:"inner"!==r&&(c=t.width/2,u=e.width/2),this.paddingLeft=Math.max((c-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-h+s)*this.width/(this.width-h),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){XG(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)jG(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=K0(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(e/H0(e,n));let l,h,c,u,d,f,p,g,m,O,y,v=0,b=0;for(l=0;l<e;l+=a){if(u=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=O=0,jG(u)||UG(u)){if(UG(u))for(h=0,c=u.length;h<c;++h)y=u[h],jG(y)||UG(y)||(m=lK(i,p.data,p.gc,m,y),O+=g)}else m=lK(i,p.data,p.gc,m,u),O=g;s.push(m),o.push(O),v=Math.max(m,v),b=Math.max(O,b)}!function(t,e){YG(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(r,e);const w=s.indexOf(v),x=o.indexOf(b),k=t=>({width:s[t]||0,height:o[t]||0});return{first:k(0),last:k(e-1),widest:k(w),highest:k(x),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function(t){return CH(t,-32768,32767)}(this._alignToPixels?cK(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return $K(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=$K(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=wH(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),h=this.ticks.length+(a?1:0),c=t1(r),u=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return cK(n,t,f)};let m,O,y,v,b,w,x,k,S,P,_,Q;if("top"===s)m=g(this.bottom),w=this.bottom-c,k=m-p,P=g(t.top)+p,Q=t.bottom;else if("bottom"===s)m=g(this.top),P=t.top,Q=g(t.bottom)-p,w=m+p,k=this.top+c;else if("left"===s)m=g(this.right),b=this.right-c,x=m-p,S=g(t.left)+p,_=t.right;else if("right"===s)m=g(this.left),S=t.left,_=g(t.right)-p,b=m+p,x=this.left+c;else if("x"===e){if("center"===s)m=g((t.top+t.bottom)/2+.5);else if(LG(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}P=t.top,Q=t.bottom,w=m+p,k=w+c}else if("y"===e){if("center"===s)m=g((t.left+t.right)/2);else if(LG(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}b=m-p,x=b-c,S=t.left,_=t.right}const T=VG(i.ticks.maxTicksLimit,h),C=Math.max(1,Math.ceil(h/T));for(O=0;O<h;O+=C){const t=this.getContext(O),e=r.setContext(t),i=o.setContext(t),s=e.lineWidth,h=e.color,c=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=J0(this,O,a),void 0!==y&&(v=cK(n,y,s),l?b=x=S=_=v:w=k=P=Q=v,u.push({tx1:b,ty1:w,tx2:x,ty2:k,x1:S,y1:P,x2:_,y2:Q,width:s,color:h,borderDash:c,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=h,this._borderValue=m,u}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:h,mirror:c}=r,u=t1(n.grid),d=u+h,f=c?-h:d,p=-wH(this.labelRotation),g=[];let m,O,y,v,b,w,x,k,S,P,_,Q,T="middle";if("top"===i)w=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(u);x=t.textAlign,b=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(u);x=t.textAlign,b=t.x}else if("x"===e){if("center"===i)w=(t.top+t.bottom)/2+d;else if(LG(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)b=(t.left+t.right)/2-d;else if(LG(i)){const t=Object.keys(i)[0],e=i[t];b=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(u).textAlign}"y"===e&&("start"===a?T="top":"end"===a&&(T="bottom"));const C=this._getLabelSizes();for(m=0,O=o.length;m<O;++m){y=o[m],v=y.label;const t=r.setContext(this.getContext(m));k=this.getPixelForTick(m)+r.labelOffset,S=this._resolveTickFontOptions(m),P=S.lineHeight,_=UG(v)?v.length:1;const e=_/2,n=t.color,a=t.textStrokeColor,h=t.textStrokeWidth;let u,d=x;if(s?(b=k,"inner"===x&&(d=m===O-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),Q="top"===i?"near"===l||0!==p?-_*P+P/2:"center"===l?-C.highest.height/2-e*P+P:-C.highest.height+P/2:"near"===l||0!==p?P/2:"center"===l?C.highest.height/2-e*P:C.highest.height-_*P,c&&(Q*=-1),0===p||t.showLabelBackdrop||(b+=P/2*Math.sin(p))):(w=k,Q=(1-_)*P/2),t.showLabelBackdrop){const e=EK(t.backdropPadding),n=C.heights[m],i=C.widths[m];let r=Q-e.top,s=0-e.left;switch(T){case"middle":r-=n/2;break;case"bottom":r-=n}switch(x){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":m===O-1?s-=i:m>0&&(s-=i/2)}u={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:v,font:S,textOffset:Q,options:{rotation:p,color:n,strokeColor:a,strokeWidth:h,textAlign:d,textBaseline:T,translation:[b,w],backdrop:u}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-wH(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=t+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,h,c,u;this.isHorizontal()?(l=cK(t,this.left,s)-s/2,h=cK(t,this.right,o)+o/2,c=u=a):(c=cK(t,this.top,s)-s/2,u=cK(t,this.bottom,o)+o/2,l=h=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,c),e.lineTo(h,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&gK(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;wK(e,r.label,0,r.textOffset,n,t)}n&&mK(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=RK(n.font),s=EK(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||LG(e)?(a+=s.bottom,UG(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:h,maxWidth:c,rotation:u}=function(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:h,scales:c}=l;let u,d,f,p=0;const g=o-r,m=a-s;if(t.isHorizontal()){if(d=UH(i,s,a),LG(n)){const t=Object.keys(n)[0],i=n[t];f=c[t].getPixelForValue(i)+g-e}else f="center"===n?(h.bottom+h.top)/2+g-e:G0(t,n,e);u=a-s}else{if(LG(n)){const t=Object.keys(n)[0],i=n[t];d=c[t].getPixelForValue(i)-m+e}else d="center"===n?(h.left+h.right)/2-m+e:G0(t,n,e);f=UH(i,o,r),p="left"===n?-dH:dH}return{titleX:d,titleY:f,maxWidth:u,rotation:p}}(this,a,e,o);wK(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:n1(o,e,i),textBaseline:"middle",translation:[l,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=VG(t.grid&&t.grid.z,-1),i=VG(t.border&&t.border.z,0);return this._isVisible()&&this.draw===i1.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return RK(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class r1{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=KG(Object.create(null),[n?aK.get(n):{},aK.get(e),t.defaults]);aK.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");aK.route(s,r,l,a)}))}(e,t.defaultRoutes);t.descriptors&&aK.describe(e,t.descriptors)}(t,s,n),this.override&&aK.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in aK[i]&&(delete aK[i][n],this.override&&delete nK[n])}}class s1{constructor(){this.controllers=new r1(VJ,"datasets",!0),this.elements=new r1(Y0,"elements"),this.plugins=new r1(Object,"plugins"),this.scales=new r1(i1,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):YG(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=iH(t);XG(n["before"+i],[],n),e[t](n),XG(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var o1=new s1;class a1{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===XG(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){jG(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=VG(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(o1.plugins.items);for(let s=0;s<i.length;s++)n.push(o1.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:s}=e;const o=[],a=t.getContext();for(const l of r){const e=l.id,r=l1(n[e],i);null!==r&&o.push({plugin:l,options:h1(t.config,{plugin:l,local:s[e]},r,a)})}return o}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function l1(t,e){return e||!1!==t?!0===t?{}:t:null}function h1(t,e,n,i){let{plugin:r,local:s}=e;const o=t.pluginScopeKeys(r),a=t.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function c1(t,e){const n=aK.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function u1(t){if("x"===t||"y"===t||"r"===t)return t}function d1(t){if(u1(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n){const e=s.axis||("top"===(r=s.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&u1(t[0].toLowerCase());if(e)return e}var r;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function f1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function p1(t,e){const n=nK[t.type]||{scales:{}},i=e.scales||{},r=c1(t.type,e),s=Object.create(null);return Object.keys(i).forEach((e=>{const o=i[e];if(!LG(o))return console.error("Invalid scale configuration for scale: ".concat(e));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=d1(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return f1(t,"x",n[0])||f1(t,"y",n[0])}return{}}(e,t),aK.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),h=n.scales||{};s[e]=JG(Object.create(null),[{axis:a},o,h[a],h[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,o=n.indexAxis||c1(r,e),a=(nK[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),r=n[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),JG(s[r],[{axis:e},i[r],a[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];JG(e,[aK.scales[e.type],aK.scale])})),s}function g1(t){const e=t.options||(t.options={});e.plugins=VG(e.plugins,{}),e.scales=p1(t,e)}function m1(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const O1=new Map,y1=new Set;function v1(t,e){let n=O1.get(t);return n||(n=e(),O1.set(t,n),y1.add(n)),n}const b1=(t,e,n)=>{const i=nH(e,n);void 0!==i&&t.add(i)};class w1{constructor(t){this._config=function(t){return(t=t||{}).data=m1(t.data),g1(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=m1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),g1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return v1(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return v1("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return v1("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return v1("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>b1(a,t,e)))),e.forEach((t=>b1(a,i,t))),e.forEach((t=>b1(a,nK[r]||{},t))),e.forEach((t=>b1(a,aK,t))),e.forEach((t=>b1(a,iK,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),y1.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,nK[e]||{},aK.datasets[e]||{},{type:e},aK,iK]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=x1(this._resolverCache,t,i);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=MK(t);for(const r of e){const e=n(r),s=i(r),o=(s||e)&&t[r];if(e&&(sH(o)||k1(o))||s&&UG(o))return!0}return!1}(s,e)){r.$shared=!1;a=IK(s,n=sH(n)?n():n,this.createResolver(t,n,o))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=x1(this._resolverCache,t,n);return LG(e)?IK(r,e,void 0,i):r}}function x1(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:NK(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,s)}return s}const k1=t=>LG(t)&&Object.getOwnPropertyNames(t).some((e=>sH(t[e])));const S1=["top","bottom","left","right","chartArea"];function P1(t,e){return"top"===t||"bottom"===t||-1===S1.indexOf(t)&&"x"===e}function _1(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Q1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),XG(n&&n.onComplete,[t],e)}function T1(t){const e=t.chart,n=e.options.animation;XG(n&&n.onProgress,[t],e)}function C1(t){return eJ()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const E1={},R1=t=>{const e=C1(t);return Object.values(E1).filter((t=>t.canvas===e)).pop()};function A1(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}function $1(t,e,n){return t.options.clip?t[n]:e[n]}class N1{static register(){o1.add(...arguments),I1()}static unregister(){o1.remove(...arguments),I1()}constructor(t,e){const n=this.config=new w1(e),i=C1(t),r=R1(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!eJ()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?R0:X0}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,h=a&&a.width;this.id=qG(),this.ctx=o,this.canvas=a,this.width=h,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new a1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],E1[this.id]=this,o&&a?(TJ.listen(this,"complete",Q1),TJ.listen(this,"progress",T1),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return jG(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return o1}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uJ(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uK(this.canvas,this.ctx),this}stop(){return TJ.stop(this),this}resize(t,e){TJ.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,uJ(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),XG(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){YG(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=d1(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),YG(r,(e=>{const r=e.options,s=r.id,o=d1(s,r),a=VG(r.type,e.dtype);void 0!==r.position&&P1(r.position,o)===P1(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(o1.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),YG(i,((t,e)=>{t||delete n[e]})),YG(n,(t=>{C0.configure(this,t,t.options),C0.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(_1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||c1(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=o1.getController(s),{datasetElementType:i,dataElementType:o}=aK.datasets[s];Object.assign(e,{dataElementType:o1.getElement(o),datasetElementType:i&&o1.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){YG(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,h=this.data.datasets.length;l<h;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||YG(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(_1("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){YG(this.scales,(t=>{C0.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);oH(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){A1(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!oH(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;C0.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],YG(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,sH(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(TJ.has(this)?this.attached&&!TJ.running(this)&&TJ.start(this):(this.draw(),Q1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:$1(n,e,"left"),right:$1(n,e,"right"),top:$1(i,e,"top"),bottom:$1(i,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&gK(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&mK(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return pK(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=m0.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=$K(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);rH(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),TJ.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),uK(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete E1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};YG(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){YG(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},YG(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!FG(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,XG(r.onHover,[t,o,this],this),a&&XG(r.onClick,[t,o,this],this));const h=!FG(o,i);return(h||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,h}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function I1(){return YG(N1.instances,(t=>t._plugins.invalidate()))}function M1(t,e,n,i){const r=function(t){return QK(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=t=>{const e=(n-Math.min(s,t))*i/2;return CH(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:CH(r.innerStart,0,o),innerEnd:CH(r.innerEnd,0,o)}}function D1(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function q1(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:h,innerRadius:c}=e,u=Math.max(e.outerRadius+i+n-h,0),d=c>0?c+i+n+h:0;let f=0;const p=r-l;if(i){const t=((c>0?c-i:0)+(u>0?u-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const g=(p-Math.max(.001,p*u-n/aH)/u)/2,m=l+g+f,O=r-g-f,{outerStart:y,outerEnd:v,innerStart:b,innerEnd:w}=M1(e,d,u,O-m),x=u-y,k=u-v,S=m+y/x,P=O-v/k,_=d+b,Q=d+w,T=m+b/_,C=O-w/Q;if(t.beginPath(),s){const e=(S+P)/2;if(t.arc(o,a,u,S,e),t.arc(o,a,u,e,P),v>0){const e=D1(k,P,o,a);t.arc(e.x,e.y,v,P,O+dH)}const n=D1(Q,O,o,a);if(t.lineTo(n.x,n.y),w>0){const e=D1(Q,C,o,a);t.arc(e.x,e.y,w,O+dH,C+Math.PI)}const i=(O-w/d+(m+b/d))/2;if(t.arc(o,a,d,O-w/d,i,!0),t.arc(o,a,d,i,m+b/d,!0),b>0){const e=D1(_,T,o,a);t.arc(e.x,e.y,b,T+Math.PI,m-dH)}const r=D1(x,m,o,a);if(t.lineTo(r.x,r.y),y>0){const e=D1(x,S,o,a);t.arc(e.x,e.y,y,m-dH,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*u+o,n=Math.sin(S)*u+a;t.lineTo(e,n);const i=Math.cos(P)*u+o,r=Math.sin(P)*u+a;t.lineTo(i,r)}t.closePath()}function j1(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:u,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!h)return;t.setLineDash(u||[]),t.lineDashOffset=d,f?(t.lineWidth=2*h,t.lineJoin=c||"round"):(t.lineWidth=h,t.lineJoin=c||"bevel");let p=e.endAngle;if(s){q1(t,e,n,i,p,r);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(p=o+(a%lH||lH))}f&&function(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let h=r/a;t.beginPath(),t.arc(s,o,a,i-h,n+h),l>r?(h=r/l,t.arc(s,o,l,n+h,i-h,!0)):t.arc(s,o,r,n+dH,i-dH),t.closePath(),t.clip()}(t,e,p),s||(q1(t,e,n,i,p,r),t.stroke())}iG(N1,"defaults",aK),iG(N1,"instances",E1),iG(N1,"overrides",nK),iG(N1,"registry",o1),iG(N1,"version","4.4.3"),iG(N1,"getChart",R1);class U1 extends Y0{constructor(t){super(),iG(this,"circumference",void 0),iG(this,"endAngle",void 0),iG(this,"fullCircles",void 0),iG(this,"innerRadius",void 0),iG(this,"outerRadius",void 0),iG(this,"pixelMargin",void 0),iG(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=SH(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:h,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,d=VG(c,a-o)>=lH||TH(r,o,a),f=EH(s,l+u,h+u);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,h=(i+r)/2,c=(s+o+l+a)/2;return{x:e+Math.cos(h)*c,y:n+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>lH?Math.floor(n/lH):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(aH,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){q1(t,e,n,i,l,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%lH||lH))}q1(t,e,n,i,l,r),t.fill()}(t,this,a,r,s),j1(t,this,a,r,s),t.restore()}}function L1(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=VG(n.borderCapStyle,e.borderCapStyle),t.setLineDash(VG(n.borderDash,e.borderDash)),t.lineDashOffset=VG(n.borderDashOffset,e.borderDashOffset),t.lineJoin=VG(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=VG(n.borderWidth,e.borderWidth),t.strokeStyle=VG(n.borderColor,e.borderColor)}function W1(t,e,n){t.lineTo(n.x,n.y)}function z1(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),h=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:h<l&&!c?i+h-l:h-l}}function V1(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:h}=z1(r,n,i),c=function(t){return t.stepped?OK:t.tension||"monotone"===t.cubicInterpolationMode?yK:W1}(s);let u,d,f,{move:p=!0,reverse:g}=i||{};for(u=0;u<=h;++u)d=r[(a+(g?h-u:u))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):c(t,f,d,g,s.stepped),f=d);return l&&(d=r[(a+(g?h:0))%o],c(t,f,d,g,s.stepped)),!!l}function Z1(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=z1(r,n,i),{move:l=!0,reverse:h}=i||{};let c,u,d,f,p,g,m=0,O=0;const y=t=>(o+(h?a-t:t))%s,v=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(u=r[y(0)],t.moveTo(u.x,u.y)),c=0;c<=a;++c){if(u=r[y(c)],u.skip)continue;const e=u.x,n=u.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),m=(O*m+e)/++O):(v(),t.lineTo(e,n),d=i,O=0,f=p=n),g=n}v()}function X1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Z1:V1}iG(U1,"id","arc"),iG(U1,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),iG(U1,"defaultRoutes",{backgroundColor:"backgroundColor"}),iG(U1,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Y1="function"===typeof Path2D;function F1(t,e,n,i){Y1&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),L1(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:s}=e,o=X1(e);for(const a of r)L1(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class B1 extends Y0{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;tJ(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}(n,r,s,i);return SJ(t,!0===i?[{start:o,end:a,loop:s}]:function(t,e,n,i){const r=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(o-1)%r,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!t._fullLoop&&0===o&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=kJ(this,{property:e,start:i,end:i});if(!s.length)return;const o=[],a=function(t){return t.stepped?gJ:t.tension||"monotone"===t.cubicInterpolationMode?mJ:pJ}(n);let l,h;for(l=0,h=s.length;l<h;++l){const{start:h,end:c}=s[l],u=r[h],d=r[c];if(u===d){o.push(u);continue}const f=a(u,d,Math.abs((i-u[e])/(d[e]-u[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return X1(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=X1(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)s&=r(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),F1(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function G1(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}iG(B1,"id","line"),iG(B1,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),iG(B1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),iG(B1,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class H1 extends Y0{constructor(t){super(),iG(this,"parsed",void 0),iG(this,"skip",void 0),iG(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return G1(this,t,"x",e)}inYRange(t,e){return G1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!pK(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,dK(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function K1(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,h,c,u;return t.horizontal?(u=o/2,a=Math.min(n,r),l=Math.max(n,r),h=i-u,c=i+u):(u=s/2,a=n-u,l=n+u,h=Math.min(i,r),c=Math.max(i,r)),{left:a,top:h,right:l,bottom:c}}function J1(t,e,n,i){return t?0:CH(e,n,i)}function t2(t){const e=K1(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=TK(i);return{t:J1(r.top,s.top,0,n),r:J1(r.right,s.right,0,e),b:J1(r.bottom,s.bottom,0,n),l:J1(r.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=CK(r),o=Math.min(e,n),a=t.borderSkipped,l=i||LG(r);return{topLeft:J1(!l||a.top||a.left,s.topLeft,0,o),topRight:J1(!l||a.top||a.right,s.topRight,0,o),bottomLeft:J1(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:J1(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function e2(t,e,n,i){const r=null===e,s=null===n,o=t&&!(r&&s)&&K1(t,i);return o&&(r||EH(e,o.left,o.right))&&(s||EH(n,o.top,o.bottom))}function n2(t,e){t.rect(e.x,e.y,e.w,e.h)}function i2(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}iG(H1,"id","point"),iG(H1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),iG(H1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class r2 extends Y0{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=t2(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?xK:n2;var a;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,i2(s,e,r)),t.clip(),o(t,i2(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,i2(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return e2(this,t,e,n)}inXRange(t,e){return e2(this,t,null,e)}inYRange(t,e){return e2(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}iG(r2,"id","bar"),iG(r2,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),iG(r2,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const s2=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class o2 extends Y0{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=XG(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=RK(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=s2(n,r);let l,h;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(s,r,o,a)+10):(h=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],h=i+o;let c=t;r.textAlign="left",r.textBaseline="middle";let u=-1,d=-h;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(c+=h,l[l.length-(f>0?0:1)]=0,d+=h,u++),a[f]={left:0,top:d,row:u,width:p,height:i},l[l.length-1]+=p+o})),c}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],h=s-t;let c=o,u=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,i,r){const s=function(t,e,n,i){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+i.measureText(r).width}(i,t,e,n),o=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=a2(e,n));return i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(n,e,r,t,i);s>0&&d+m+2*o>h&&(c+=u+o,l.push({width:u,height:d}),f+=u+o,p++,u=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},u=Math.max(u,g),d+=m+o})),c+=u,l.push({width:u,height:d}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=OJ(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=UH(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=UH(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=UH(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=UH(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;gK(t,this),this._draw(),mK(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,o=aK.color,a=OJ(t.rtl,this.left,this.width),l=RK(s.font),{padding:h}=s,c=l.size,u=c/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=s2(s,c),m=this.isHorizontal(),O=this._computeTitleHeight();d=m?{x:UH(r,this.left+h,this.right-n[0]),y:this.top+h+O,line:0}:{x:this.left+h,y:UH(r,this.top+O+h,this.bottom-e[0].height),line:0},yJ(this.ctx,t.textDirection);const y=g+h;this.legendItems.forEach(((v,b)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const w=i.measureText(v.text).width,x=a.textAlign(v.textAlign||(v.textAlign=s.textAlign)),k=f+u+w;let S=d.x,P=d.y;a.setWidth(this.width),m?b>0&&S+k+h>this.right&&(P=d.y+=y,d.line++,S=d.x=UH(r,this.left+h,this.right-n[d.line])):b>0&&P+y>this.bottom&&(S=d.x=S+e[d.line].width+h,d.line++,P=d.y=UH(r,this.top+O+h,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=VG(n.lineWidth,1);if(i.fillStyle=VG(n.fillStyle,o),i.lineCap=VG(n.lineCap,"butt"),i.lineDashOffset=VG(n.lineDashOffset,0),i.lineJoin=VG(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=VG(n.strokeStyle,o),i.setLineDash(VG(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2);fK(i,o,l,e+u,s.pointStyleWidth&&f)}else{const s=e+Math.max((c-p)/2,0),o=a.leftForLtr(t,f),l=CK(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?xK(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(S),P,v),S=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(x,S+f+u,m?S+k:this.right,t.rtl),function(t,e,n){wK(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),P,v),m)d.x+=k+h;else if("string"!==typeof v.text){const t=l.lineHeight;d.y+=a2(v,t)+h}else d.y+=y})),vJ(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=RK(e.font),i=EK(e.padding);if(!e.display)return;const r=OJ(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let h,c=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),h=this.top+l,c=UH(t.align,c,this.right-u);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+UH(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=UH(o,c,c+u);s.textAlign=r.textAlign(jH(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,wK(s,e.text,d,h,n)}_computeTitleHeight(){const t=this.options.title,e=RK(t.font),n=EK(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(EH(t,this.left,this.right)&&EH(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],EH(t,i.left,i.left+i.width)&&EH(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,n);i&&!r&&XG(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&XG(e.onHover,[t,n,this],this)}else n&&XG(e.onClick,[t,n,this],this)}}function a2(t,e){return e*(t.text?t.text.length:0)}var l2={id:"legend",_element:o2,start(t,e,n){const i=t.legend=new o2({ctx:t.ctx,options:n,chart:t});C0.configure(t,i,n),C0.addBox(t,i)},stop(t){C0.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;C0.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),h=EK(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class h2 extends Y0{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=UG(n.text)?n.text.length:1;this._padding=EK(n.padding);const r=i*RK(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,h,c=0;return this.isHorizontal()?(l=UH(o,n,r),h=e+t,a=r-n):("left"===s.position?(l=n+t,h=UH(o,i,e),c=-.5*aH):(l=r-t,h=UH(o,e,i),c=.5*aH),a=i-e),{titleX:l,titleY:h,maxWidth:a,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=RK(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);wK(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:jH(e.align),textBaseline:"middle",translation:[r,s]})}}var c2={id:"title",_element:h2,start(t,e,n){!function(t,e){const n=new h2({ctx:t.ctx,options:e,chart:t});C0.configure(t,n,e),C0.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;C0.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;C0.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const u2={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++s}}const o=[...i].reduce(((t,e)=>t+e))/i.size;return{x:o,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=PH(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function d2(t,e){return e&&(UG(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function f2(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function p2(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function g2(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=RK(e.bodyFont),h=RK(e.titleFont),c=RK(e.footerFont),u=s.length,d=r.length,f=i.length,p=EK(e.padding);let g=p.height,m=0,O=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(O+=t.beforeBody.length+t.afterBody.length,u&&(g+=u*h.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),O){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(O-f)*l.lineHeight+(O-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let y=0;const v=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=h.string,YG(t.title,v),n.font=l.string,YG(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,YG(i,(t=>{YG(t.before,v),YG(t.lines,v),YG(t.after,v)})),y=0,n.font=c.string,YG(t.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function m2(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let h="center";return"center"===i?h=r<=(a+l)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),function(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||"right"===t&&r-s-o<0||void 0}(h,t,e,n)&&(h="center"),h}function O2(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||m2(t,e,n,i),yAlign:i}}function y2(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,h=r+s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=CK(o);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,h);return"center"===l?"left"===a?p+=h:"right"===a&&(p-=h):"left"===a?p-=Math.max(c,d)+r:"right"===a&&(p+=Math.max(u,f)+r),{x:CH(p,0,i.width-e.width),y:CH(g,0,i.height-e.height)}}function v2(t,e,n){const i=EK(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function b2(t){return d2([],f2(t))}function w2(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const x2={beforeTitle:DG,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:DG,beforeBody:DG,beforeLabel:DG,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return jG(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:DG,afterBody:DG,beforeFooter:DG,footer:DG,afterFooter:DG};function k2(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?x2[e].call(n,i):r}class S2 extends Y0{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new AJ(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,$K(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=k2(n,"beforeTitle",this,t),r=k2(n,"title",this,t),s=k2(n,"afterTitle",this,t);let o=[];return o=d2(o,f2(i)),o=d2(o,f2(r)),o=d2(o,f2(s)),o}getBeforeBody(t,e){return b2(k2(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return YG(t,(t=>{const e={before:[],lines:[],after:[]},r=w2(n,t);d2(e.before,f2(k2(r,"beforeLabel",this,t))),d2(e.lines,k2(r,"label",this,t)),d2(e.after,f2(k2(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return b2(k2(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=k2(n,"beforeFooter",this,t),r=k2(n,"footer",this,t),s=k2(n,"afterFooter",this,t);let o=[];return o=d2(o,f2(i)),o=d2(o,f2(r)),o=d2(o,f2(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(p2(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),YG(l,(e=>{const n=w2(t.callbacks,e);i.push(k2(n,"labelColor",this,e)),r.push(k2(n,"labelPointStyle",this,e)),s.push(k2(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=u2[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=g2(this,n),o=Object.assign({},t,e),a=O2(this.chart,n,o),l=y2(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:h,bottomRight:c}=CK(o),{x:u,y:d}=t,{width:f,height:p}=e;let g,m,O,y,v,b;return"center"===r?(v=d+p/2,"left"===i?(g=u,m=g-s,y=v+s,b=v-s):(g=u+f,m=g+s,y=v-s,b=v+s),O=g):(m="left"===i?u+Math.max(a,h)+s:"right"===i?u+f-Math.max(l,c)-s:this.caretX,"top"===r?(y=d,v=y-s,g=m-s,O=m+s):(y=d+p,v=y+s,g=m+s,O=m-s),b=y),{x1:g,x2:m,x3:O,y1:y,y2:v,y3:b}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=OJ(n.rtl,this.x,this.width);for(t.x=v2(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=RK(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,h=RK(r.bodyFont),c=v2(this,"left",r),u=i.x(c),d=a<h.lineHeight?(h.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(u,l)+l/2,h=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,dK(t,e,n,h),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,dK(t,e,n,h)}else{t.lineWidth=LG(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(u,l),n=i.leftForLtr(i.xPlus(u,1),l-2),o=CK(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,xK(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),xK(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:h}=n,c=RK(n.bodyFont);let u=c.lineHeight,d=0;const f=OJ(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+u/2),t.y+=u+r},g=f.textAlign(s);let m,O,y,v,b,w,x;for(e.textAlign=s,e.textBaseline="middle",e.font=c.string,t.x=v2(this,g,n),e.fillStyle=n.bodyColor,YG(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+h:l+2+h:0,v=0,w=i.length;v<w;++v){for(m=i[v],O=this.labelTextColors[v],e.fillStyle=O,YG(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,v,f,n),u=Math.max(c.lineHeight,a)),b=0,x=y.length;b<x;++b)p(y[b]),u=c.lineHeight;YG(m.after,p)}d=0,u=c.lineHeight,YG(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=OJ(n.rtl,this.x,this.width);for(t.x=v2(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=RK(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:h}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=CK(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+c,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-u,a),e.quadraticCurveTo(o+l,a,o+l,a+u),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+h-f),e.quadraticCurveTo(o+l,a+h,o+l-f,a+h),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+h),e.quadraticCurveTo(o,a+h,o,a+h-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+c),e.quadraticCurveTo(o,a,o+c,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=u2[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=g2(this,t),o=Object.assign({},n,this._size),a=O2(e,t,o),l=y2(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=EK(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),yJ(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),vJ(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),r=!FG(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!FG(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=u2[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}iG(S2,"positioners",u2);var P2={id:"tooltip",_element:S2,positioners:u2,afterInit(t,e,n){n&&(t.tooltip=new S2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:x2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function _2(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function Q2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class T2 extends i1{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(jG(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:CH(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:_2(n,t,VG(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return Q2.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function C2(t,e){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:h,maxDigits:c,includeBounds:u}=t,d=r||1,f=h-1,{min:p,max:g}=e,m=!jG(s),O=!jG(o),y=!jG(l),v=(g-p)/(c+1);let b,w,x,k,S=yH((g-p)/f/d)*d;if(S<1e-14&&!m&&!O)return[{value:p},{value:g}];k=Math.ceil(g/S)-Math.floor(p/S),k>f&&(S=yH(k*S/f/d)*d),jG(a)||(b=Math.pow(10,a),S=Math.ceil(S*b)/b),"ticks"===i?(w=Math.floor(p/S)*S,x=Math.ceil(g/S)*S):(w=p,x=g),m&&O&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/r,S/1e3)?(k=Math.round(Math.min((o-s)/S,h)),S=(o-s)/k,w=s,x=o):y?(w=m?s:w,x=O?o:x,k=l-1,S=(x-w)/k):(k=(x-w)/S,k=OH(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const P=Math.max(kH(S),kH(w));b=Math.pow(10,jG(a)?P:a),w=Math.round(w*b)/b,x=Math.round(x*b)/b;let _=0;for(m&&(u&&w!==s?(n.push({value:s}),w<s&&_++,OH(Math.round((w+_*S)*b)/b,s,E2(s,v,t))&&_++):w<s&&_++);_<k;++_){const t=Math.round((w+_*S)*b)/b;if(O&&t>o)break;n.push({value:t})}return O&&u&&x!==o?n.length&&OH(n[n.length-1].value,o,E2(o,v,t))?n[n.length-1].value=o:n.push({value:o}):O&&x!==o||n.push({value:x}),n}function E2(t,e,n){let{horizontal:i,minRotation:r}=n;const s=wH(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}iG(T2,"id","category"),iG(T2,"defaults",{ticks:{callback:Q2}});class R2 extends i1{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return jG(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=mH(i),e=mH(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=C2({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&bH(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return JH(t,this.chart.options.locale,this.options.ticks.format)}}class A2 extends R2{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=WG(t)?t:0,this.max=WG(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=wH(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}iG(A2,"id","linear"),iG(A2,"defaults",{ticks:{callback:eK.formatters.numeric}});const $2=t=>Math.floor(gH(t)),N2=(t,e)=>Math.pow(10,$2(t)+e);function I2(t){return 1===t/Math.pow(10,$2(t))}function M2(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function D2(t,e){let{min:n,max:i}=e;n=zG(t.min,n);const r=[],s=$2(n);let o=function(t,e){let n=$2(e-t);for(;M2(t,e,n)>10;)n++;for(;M2(t,e,n)<10;)n--;return Math.min(n,$2(t))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),h=s>o?Math.pow(10,s):0,c=Math.round((n-h)*a)/a,u=Math.floor((n-h)/l/10)*l*10;let d=Math.floor((c-u)/Math.pow(10,o)),f=zG(t.min,Math.round((h+u+d*Math.pow(10,o))*a)/a);for(;f<i;)r.push({value:f,major:I2(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((h+u+d*Math.pow(10,o))*a)/a;const p=zG(t.max,f);return r.push({value:p,major:I2(p),significand:d}),r}class q2 extends i1{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=R2.prototype.parse.apply(this,[t,e]);if(0!==n)return WG(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=WG(t)?Math.max(0,t):null,this.max=WG(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!WG(this._userMin)&&(this.min=t===N2(this.min,0)?N2(this.min,-1):N2(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t;n===i&&(n<=0?(r(1),s(10)):(r(N2(n,-1)),s(N2(i,1)))),n<=0&&r(N2(i,-1)),i<=0&&s(N2(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=D2({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&bH(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":JH(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=gH(t),this._valueRange=gH(this.max)-gH(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(gH(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function j2(t){const e=t.ticks;if(e.display&&t.display){const t=EK(e.backdropPadding);return VG(e.font&&e.font.size,aK.font.size)+t.height}return 0}function U2(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function L2(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?aH/s:0;for(let u=0;u<s;u++){const s=o.setContext(t.getPointLabelContext(u));r[u]=s.padding;const d=t.getPointPosition(u,t.drawingArea+r[u],a),f=RK(s.font),p=(l=t.ctx,h=f,c=UG(c=t._pointLabels[u])?c:[c],{w:hK(l,h.string,c),h:c.length*h.lineHeight});i[u]=p;const g=QH(t.getIndexAngle(u)+a),m=Math.round(xH(g));W2(n,e,g,U2(m,d.x,p.w,0,180),U2(m,d.y,p.h,90,270))}var l,h,c;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:j2(s)/2,additionalAngle:o?aH/r:0};let h;for(let c=0;c<r;c++){l.padding=n[c],l.size=e[c];const r=z2(t,c,l);i.push(r),"auto"===a&&(r.visible=V2(r,h),r.visible&&(h=r))}return i}(t,i,r)}function W2(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function z2(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),h=Math.round(xH(QH(l.angle+dH))),c=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,h),u=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(h),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:d,top:c,right:d+a.w,bottom:c+a.h}}function V2(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(pK({x:n,y:i},e)||pK({x:n,y:s},e)||pK({x:r,y:i},e)||pK({x:r,y:s},e))}function Z2(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!jG(a)){const n=CK(e.borderRadius),l=EK(e.backdropPadding);t.fillStyle=a;const h=i-l.left,c=r-l.top,u=s-i+l.width,d=o-r+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),xK(t,{x:h,y:c,w:u,h:d,radius:n}),t.fill()):t.fillRect(h,c,u,d)}}function X2(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,lH);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}iG(q2,"id","logarithmic"),iG(q2,"defaults",{ticks:{callback:eK.formatters.logarithmic,major:{enabled:!0}}});class Y2 extends R2{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=EK(j2(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=WG(t)&&!isNaN(t)?t:0,this.max=WG(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/j2(this.options))}generateTickLabels(t){R2.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=XG(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?L2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return QH(t*(lH/(this._pointLabels.length||1))+wH(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(jG(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(jG(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return $K(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-dH+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),X2(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const s=i.setContext(t.getPointLabelContext(r));Z2(n,s,e);const o=RK(s.font),{x:a,y:l,textAlign:h}=e;wK(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=i.setContext(n),l=r.setContext(n);!function(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),X2(t,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(t.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(t.lineWidth=s,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=RK(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=EK(a.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}wK(t,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}iG(Y2,"id","radialLinear"),iG(Y2,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eK.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),iG(Y2,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),iG(Y2,"descriptors",{angleLines:{_fallback:"grid"}});const F2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},B2=Object.keys(F2);function G2(t,e){return t-e}function H2(t,e){if(jG(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),WG(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!vH(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function K2(t,e,n,i){const r=B2.length;for(let s=B2.indexOf(t);s<r-1;++s){const t=F2[B2[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return B2[s]}return B2[r-1]}function J2(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=RH(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function t5(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class e5 extends i1{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new h0(t.adapters.date);i.init(e),JG(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:H2(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=WG(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=WG(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?K2(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let s=B2.length-1;s>=B2.indexOf(n);s--){const n=B2[s];if(F2[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return B2[n?B2.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=B2.indexOf(t)+1,n=B2.length;e<n;++e)if(F2[B2[e]].common)return B2[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),t5(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=CH(i,0,s),r=CH(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||K2(r.minUnit,e,n,this._getLabelCapacity(e)),o=VG(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=vH(a)||!0===a,h={};let c,u,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(c=d,u=0;c<n;c=+t.add(c,o,s),u++)J2(h,c,f);return c!==n&&"ticks"!==i.bounds&&1!==u||J2(h,c,f),Object.keys(h).sort(G2).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return XG(s,[t,e,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,h=a&&o[a],c=l&&o[l],u=n[e],d=l&&c&&u&&u.major;return this._adapter.format(t,i||(d?c:h))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=wH(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,t5(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(H2(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return MH(t.sort(G2))}}function n5(t,e,n){let i,r,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=AH(t,"pos",e)),({pos:i,time:s}=t[a]),({pos:r,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=AH(t,"time",e)),({time:i,pos:s}=t[a]),({time:r,pos:o}=t[l]));const h=r-i;return h?s+(o-s)*(e-i)/h:s}iG(e5,"id","time"),iG(e5,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class i5 extends e5{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=n5(e,this.min),this._tableRange=n5(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,o,a,l,h;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)h=i[s+1],a=i[s-1],l=i[s],Math.round((h+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(n5(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return n5(this._table,n*this._tableRange+this._minPos,!0)}}iG(i5,"id","timeseries"),iG(i5,"defaults",e5.defaults);const r5="label";function s5(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function o5(t,e){t.labels=e}function a5(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r5;const i=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):{...e}}))}function l5(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r5;const n={labels:[],datasets:[]};return o5(n,t.labels),a5(n,t.datasets,e),n}function h5(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:l,options:h,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,p=(0,o.useRef)(null),g=(0,o.useRef)(),m=()=>{p.current&&(g.current=new N1(p.current,{type:a,data:l5(l,s),options:h&&{...h},plugins:c}),s5(e,g.current))},O=()=>{s5(e,null),g.current&&(g.current.destroy(),g.current=null)};return(0,o.useEffect)((()=>{!r&&g.current&&h&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,h)}),[r,h]),(0,o.useEffect)((()=>{!r&&g.current&&o5(g.current.config.data,l.labels)}),[r,l.labels]),(0,o.useEffect)((()=>{!r&&g.current&&l.datasets&&a5(g.current.config.data,l.datasets,s)}),[r,l.datasets]),(0,o.useEffect)((()=>{g.current&&(r?(O(),setTimeout(m)):g.current.update(d))}),[r,h,l.labels,l.datasets,d]),(0,o.useEffect)((()=>{g.current&&(O(),setTimeout(m))}),[a]),(0,o.useEffect)((()=>(m(),()=>O())),[]),o.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:i},f),u)}const c5=(0,o.forwardRef)(h5);function u5(t,e){return N1.register(e),(0,o.forwardRef)(((e,n)=>o.createElement(c5,Object.assign({},e,{ref:n,type:t}))))}const d5=u5("line",n0);function f5(t){const{childrenID:e}=t,[n,i]=(0,o.useState)({labels:[],datasets:[]}),r=(t,e)=>{const n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=t.split("-"),r=new Date(i[0],i[1]-1,i[2]).toLocaleDateString("en-US",{weekday:"long"}),s=n.indexOf(r);let o=[];return o=e?n.slice(s).concat(n.slice(0,s)):n.slice(s+1).concat(n.slice(0,s+1)),o};return(0,o.useEffect)((()=>{(async()=>{i({labels:[],datasets:[]}),await(async t=>{try{let e={labels:[],datasets:[]};const n=Sf(rm,"userActivity");let s="",o=0,a=[];for(let i=0;i<t.length;i++){const r=hp(n,up("uniqueId","==",t[i])),l=await Qp(r),h=hp(Sf(rm,"users"),up("uniqueId","==",t[i])),c=await Qp(h);l.forEach((t=>{const n=t.data(),i=n.loginData;i.length>o&&(o=i.length,s=n.uniqueId,a=i,c.forEach((t=>{const n={label:t.data().name,data:i.map((t=>t.xp)),borderColor:"rgb(".concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),")")};e.datasets.push(n)})))}))}if(s){let t=[];t=a.length<7?r(a[0].day,!0):r(a[a.length-1].day,!1),e.labels=t}else console.log("Longest login user is not found");for(let i=0;i<t.length;i++){const r=hp(n,up("uniqueId","==",t[i])),o=await Qp(r),l=hp(Sf(rm,"users"),up("uniqueId","==",t[i])),h=await Qp(l);o.forEach((t=>{if(t.data().uniqueId!==s){let n=[...t.data().loginData];const i=new Set(n.map((t=>t.day)));a.forEach((t=>{i.has(t.day)||n.push({day:t.day,xp:0})})),n.sort(((t,e)=>new Date(t.day)-new Date(e.day))),h.forEach((t=>{const i={label:t.data().name,data:n.map((t=>t.xp)),borderColor:"rgb(".concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),")")};e.datasets.push(i)}))}}))}i(e)}catch(e){console.log(e.message)}})(e)})()}),[e]),(0,om.jsx)(om.Fragment,{children:n.datasets.length>0?(0,om.jsx)(d5,{options:{responsive:!0},data:n}):(0,om.jsx)("p",{children:"Loading..."})})}function p5(t){const{children:e}=t;return(0,om.jsx)(om.Fragment,{children:e?(0,om.jsxs)("table",{className:"table",children:[(0,om.jsx)("thead",{children:(0,om.jsxs)("tr",{children:[(0,om.jsx)("th",{children:"Child"}),(0,om.jsx)("th",{children:"Total XP"}),(0,om.jsx)("th",{children:"Current Language"})]})}),(0,om.jsx)("tbody",{children:e.map(((t,e)=>(0,om.jsxs)("tr",{children:[(0,om.jsx)("td",{children:t.name}),(0,om.jsx)("td",{children:t.xp}),(0,om.jsx)("td",{children:t.currentLanguage})]},e)))})]}):(0,om.jsx)("p",{children:"Loading..."})})}function g5(t){const{child:e,close:n}=t,[i,r]=(0,o.useState)([]),[s,a]=(0,o.useState)({}),l=t=>{const e=i.find((e=>e.name===t));return e?e.totalSize:null};return(0,o.useEffect)((()=>{(async()=>{e.programmingLanguages&&await(async t=>{try{const e=[];for(let n=0;n<t.length;n++){const i=Sf(rm,"activities".concat(t[n].langName)),r=await Qp(i),s={name:t[n].langName,totalSize:r.size};e.push(s)}r(e)}catch(e){console.error("Error fetching total parts:",e)}})(e.programmingLanguages)})()}),[e.programmingLanguages]),(0,om.jsx)("div",{className:"child-card-overlay",onClick:n,children:(0,om.jsxs)("div",{className:"child-card-content",onClick:t=>t.stopPropagation(),children:[(0,om.jsx)("div",{className:"content-left",children:(0,om.jsx)("div",{className:"child-profile-pic",children:e.profilePicture?(0,om.jsx)("img",{src:e.profilePicture,alt:"profile-pic"}):(0,om.jsx)("i",{className:"fa-solid fa-child"})})}),(0,om.jsxs)("div",{className:"content-right",children:[(0,om.jsx)("div",{className:"child-name-container",children:(0,om.jsx)("p",{children:e.name})}),(0,om.jsxs)("div",{className:"languages-list-container",children:[(0,om.jsx)("p",{children:"Currently learning"}),(0,om.jsx)("div",{className:"languages",children:e.programmingLanguages.map(((t,e)=>{let n;return"Python"===t.langName?n="python-icon.png":"JavaScript"===t.langName?n="js-icon.png":"Java"===t.langName&&(n="java-icon.png"),(0,om.jsx)("div",{className:"language-icon",onClick:()=>a(t),children:(0,om.jsx)("img",{src:"".concat("/DYA","/").concat(n)})},e)}))}),s.langName&&(0,om.jsxs)("div",{className:"language-process-container",children:[(0,om.jsxs)("p",{children:[s.langName,": ",s.currentActivity," of ",l(s.langName)," completed"]}),(0,om.jsx)("div",{className:"progress-bar-outline",children:(0,om.jsx)("div",{className:"progress-bar",style:{width:"".concat((h=s.currentActivity,c=l(s.langName),h/c*100),"%")}})})]})]})]})]})});var h,c}function m5(t){const{userId:e,children:n,getUserData:i,getChildData:r,childrenID:s}=t,[a,l]=(0,o.useState)(!1),[h,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(""),[f,p]=(0,o.useState)(null);return(0,om.jsxs)("div",{className:"parent-hub-main-container",children:[(0,om.jsx)("div",{className:"children-title",children:(0,om.jsx)("h3",{children:"Your Children"})}),(0,om.jsxs)("div",{className:"children-container",children:[n&&n.length>0?n.map(((t,e)=>(0,om.jsxs)("div",{className:"child-container",onClick:()=>(t=>{p(t)})(t),children:[(0,om.jsx)("div",{className:"child-profile-pic",children:t.profilePicture?(0,om.jsx)("img",{src:t.profilePicture,alt:"profile-pic"}):(0,om.jsx)("i",{className:"fa-solid fa-child"})}),(0,om.jsxs)("div",{className:"child-stats-container",children:[(0,om.jsx)("div",{className:"lang-title",children:(0,om.jsx)("p",{children:"Current Language"})}),(0,om.jsx)("p",{children:t.currentLanguage}),(0,om.jsx)("div",{className:"activity-title",children:(0,om.jsx)("p",{children:"Current Activity"})}),(0,om.jsx)("p",{children:t.currentActivity+1})]}),(0,om.jsxs)("div",{className:"child-name-container",children:[(0,om.jsx)("p",{children:t.name}),(0,om.jsx)("button",{onClick:()=>(t=>{c(!h),d(t)})(t.uniqueId),children:(0,om.jsx)("i",{className:"fa-solid fa-trash"})})]})]},e))):(0,om.jsx)("p",{children:"No children added yet."}),(0,om.jsx)("div",{className:"add-child-button",children:(0,om.jsx)("button",{onClick:()=>{l(!a)},children:(0,om.jsx)("i",{className:"fa-solid fa-plus"})})})]}),(0,om.jsxs)("div",{className:"data-container",children:[(0,om.jsxs)("div",{className:"line-graph-container",children:[(0,om.jsx)("div",{className:"line-graph-title",children:(0,om.jsx)("h3",{children:"XP Graph"})}),(0,om.jsx)("div",{className:"line-graph",children:(0,om.jsx)(f5,{childrenID:s})})]}),(0,om.jsxs)("div",{className:"table-container",children:[(0,om.jsx)("div",{className:"table-title",children:(0,om.jsx)("h3",{children:"Leaderboard"})}),(0,om.jsx)("div",{className:"table-container",children:(0,om.jsx)(p5,{children:n})})]})]}),a&&(0,om.jsx)("div",{className:"add-child-pop-up-overlay",onClick:()=>l(!1),children:(0,om.jsx)("div",{className:"child-popup-content",onClick:t=>t.stopPropagation(),children:(0,om.jsx)(JB,{userId:e,children:n,getUserData:i,setShowAddChildPopUp:l})})}),h&&(0,om.jsx)("div",{className:"delete-child-pop-up-overlay",onClick:()=>c(!1),children:(0,om.jsx)("div",{className:"delete-popup-content",onClick:t=>t.stopPropagation(),children:(0,om.jsx)(tG,{childID:u,userId:e,setShowDeleteChildPopUp:c,getChildData:r,getUserData:i})})}),f&&(0,om.jsx)(g5,{child:f,close:()=>{p(null)}})]})}function O5(t){const{userId:e,children:n}=t,[i,r]=(0,o.useState)("".concat("/DYA","/profile-avatar.png")),[s,a]=(0,o.useState)({name:"",email:"",profilePicture:""}),[l,h]=(0,o.useState)(!1);(0,o.useEffect)((()=>{e&&(async t=>{try{const e=Pf(rm,"parents",t),n=await Pp(e);if(n.exists()){const t=n.data();a({name:t.name,email:t.email,profilePicture:t.profilePicture||"".concat("/DYA","/profile-avatar.png")}),r(t.profilePicture||"".concat("/DYA","/profile-avatar.png"))}}catch(e){console.log(e.message)}})(e)}),[e]);const c=t=>{a({...s,[t.target.name]:t.target.value})};return(0,om.jsx)("div",{className:"parent-hub-profile-main-container",children:(0,om.jsxs)("div",{className:"profile-window-content",children:[(0,om.jsxs)("div",{className:"user-data-container-left",children:[(0,om.jsxs)("div",{className:"user-picture",children:[(0,om.jsx)("img",{src:i,alt:"Profile Avatar",onClick:()=>document.getElementById("fileInput").click()}),(0,om.jsx)("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:async t=>{const n=t.target.files[0];if(n){const t=Gg(sm,"profilePictures/".concat(e));await Fg(t,n);const o=await Bg(t);a({...s,profilePicture:o}),r(o);try{await Cp(Pf(rm,"parents",e),{profilePicture:o})}catch(i){console.error("Error updating profile picture:",i)}}}})]}),(0,om.jsxs)("div",{className:"user-data",children:[(0,om.jsxs)("div",{className:"head",children:[(0,om.jsx)("h2",{children:"Profile"}),!l&&(0,om.jsx)("i",{className:"fa-solid fa-pen-to-square",onClick:()=>{h(!0)}})]}),l?(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)("input",{type:"text",name:"name",value:s.name,onChange:c}),(0,om.jsx)("div",{className:"border-gray"}),(0,om.jsx)("input",{type:"text",name:"email",value:s.email,onChange:c}),(0,om.jsx)("i",{className:"fa-solid fa-check",onClick:async()=>{try{await Cp(Pf(rm,"parents",e),{name:s.name,email:s.email,profilePicture:s.profilePicture})}catch(t){console.error("Error saving user data:",t)}h(!1)}})]}):(0,om.jsxs)(om.Fragment,{children:[(0,om.jsx)("p",{className:"data",children:s.name}),(0,om.jsx)("div",{className:"border-gray"}),(0,om.jsx)("p",{className:"data",children:s.email})]})]})]}),(0,om.jsxs)("div",{className:"user-data-container-right",children:[(0,om.jsx)("h2",{children:"Children"}),(0,om.jsx)("div",{className:"border-gray"}),n&&n.length>0?n.map(((t,e)=>(0,om.jsx)("p",{children:t.name},e))):(0,om.jsx)("p",{children:"No children found"})]})]})})}function y5(){const[t,e]=(0,o.useState)(!0),[n,i]=(0,o.useState)(!1),{userId:r}=st(),[s,a]=(0,o.useState)([]),[l,h]=(0,o.useState)([]),[c,u]=(0,o.useState)({}),d=async()=>{const t=Pf(rm,"parents",r),e=await Pp(t);if(!e.exists())return void console.log("Missing user");const n=e.data();u(n)},f=async t=>{if(0===t.length)return;let e=[];for(let n=0;n<t.length;n++){const i=hp(Sf(rm,"users"),up("uniqueId","==",t[n]));(await Qp(i)).forEach((t=>{e.push({id:t.id,...t.data()})}))}a(e)};return(0,o.useEffect)((()=>{(async()=>{await d()})()}),[r]),(0,o.useEffect)((()=>{if(c.children&&c.children.length>0){(async()=>{await f(c.children),h(c.children)})()}}),[c]),(0,om.jsxs)("div",{className:"parent-hub-page",children:[(0,om.jsx)(KB,{openDash:()=>{e(!0),i(!1)},openProfile:()=>{i(!0),e(!1)}}),t&&(0,om.jsx)(m5,{userId:r,children:s,getUserData:d,getChildData:f,childrenID:l}),n&&(0,om.jsx)(O5,{userId:r,children:s})]})}N1.register(T2,A2,H1,B1,c2,P2,l2);const v5=MB("http://localhost:5002");const b5=function(){const{uid:t}=st(),e=rt(),[n,i]=(0,o.useState)(null),[r,s]=(0,o.useState)([]),[a,l]=(0,o.useState)(!0),[h,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),[f,p]=(0,o.useState)(""),[g,m]=(0,o.useState)(0),[O,y]=(0,o.useState)(0),[v,b]=(0,o.useState)(0),[w,x]=(0,o.useState)(!1),[k,S]=(0,o.useState)([]),[P,_]=(0,o.useState)(""),[Q,T]=(0,o.useState)(!1),[C,E]=(0,o.useState)(!1),[R,A]=(0,o.useState)("Python"),[$,N]=(0,o.useState)(!1),I=new Date,M=(0,o.useCallback)((async e=>{if(n){const i=Pf(rm,"users",t,"activities",R,"activityOrder",n.order.toString()),r=await Pp(i),s=r.exists()?r.data():{};await Tp(i,{...s,...e})}}),[n,R,t]),D=(0,o.useCallback)((async e=>{const n=Pf(rm,"users",t,"activities",R,"activityOrder",e);await Tp(n,{correctCount:0,incorrectCount:0,completed:!1},{merge:!0}),y(0),b(0)}),[R,t]),q=(0,o.useCallback)((async e=>{const n=Pf(rm,"users",t),i=await Pp(n),r=I.toISOString().split("T")[0],s=Pf(rm,"userActivity",t),o=(await Pp(s)).data().loginData;let a=o.find((t=>t.day===r));const l=a.xp;if(console.log(l),a.xp=l+e,console.log(a),i.exists()){const t=i.data().xp||0;await Tp(n,{xp:t+e},{merge:!0}),await Cp(s,{loginData:o})}}),[t]);(0,o.useEffect)((()=>{(async()=>{try{if(!t)return void c("Missing URL parameters");const e=Pf(rm,"users",t),n=await Pp(e);if(!n.exists())return void c("User not found");const r=n.data();A(r.currentLanguage||"Python");const o=Sf(rm,"activities".concat(r.currentLanguage)),a=(await Qp(o)).docs.map((t=>({id:t.id,...t.data()})));if(0===a.length)return void c("No activities found");const l=a[Math.floor(Math.random()*a.length)];i(l),s(j(l.questions)),m(0);const h=Pf(rm,"users",t,"activities",r.currentLanguage,"activityOrder",l.order.toString()),u=await Pp(h);if(u.exists()){const t=u.data();y(t.correctCount||0),b(t.incorrectCount||0),t.completed&&D(l.order.toString())}else y(0),b(0)}catch(_5){c(_5.message)}finally{l(!1)}})()}),[t,D]),(0,o.useEffect)((()=>(v5.on("test_results",(t=>{console.log("Received test results:",t),S(t.testResults||[]),d(t.success?"Success! You got it right.":"Incorrect output:\n".concat(t.message)),t.success&&w?(E(!0),setTimeout((()=>E(!1)),1e3),y((t=>t+1)),M({correctCount:O+1}),q(r[g].xp),d(null)):!t.success&&w&&(T(!0),setTimeout((()=>T(!1)),1e3),b((t=>t+1)),M({incorrectCount:v+1}),d(null)),x(!1)})),()=>{v5.off("test_results")})),[O,v,r,w,q,g,M]);const j=t=>{const e=t.slice();for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}return e};if(a)return(0,om.jsx)("div",{className:"loading",children:"Loading..."});if(h)return(0,om.jsxs)("div",{className:"error",children:["Error: ",h]});const U=r[g];return(0,om.jsxs)("div",{className:"activity-page ".concat(Q?"shake":""),children:[C&&(0,om.jsxs)("div",{className:"fireworks",children:[(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{}),(0,om.jsx)("div",{})]}),n&&(0,om.jsxs)(om.Fragment,{children:[(0,om.jsxs)("div",{className:"activity-header",children:[(0,om.jsx)("button",{onClick:()=>{e(-1)},className:"back-btn",children:(0,om.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,om.jsx)("h2",{className:"activity-title",children:"Pratice"})]}),(0,om.jsx)("p",{className:"activity-description",children:n.description}),(0,om.jsxs)("div",{className:"status-section",children:[(0,om.jsxs)("div",{className:"status correct-count",children:["Correct: ",O]}),(0,om.jsxs)("div",{className:"status incorrect-count",children:["Incorrect: ",v]})]}),(0,om.jsxs)("div",{className:"activities-container ".concat($?"slide-down":""),children:[(0,om.jsx)(UZ,{currentQuestion:U,onCodeSubmit:async(e,i)=>{x(!0);const s=r[g],o=s.functionName;try{if(!s.id||!t||!n.order)return void c("Missing parameters for Firestore document reference");await Tp(Pf(rm,"users",t,"activities",R,"activityOrder",n.order.toString(),"questions",s.id),{functionName:o,userCode:e});const r={functionName:o,activityOrder:n.order.toString(),userId:t,questionId:s.id,userCode:e,language:R,testCount:i};await KY.post("http://localhost:5002/test-function",r,{headers:{"Content-Type":"application/json"}})}catch(h){console.error("Error testing ".concat(o,":"),h),x(!1)}},onRunTests:async(e,i)=>{const s=r[g],o=s.functionName;try{if(!s.id||!t||!n.order)return void c("Missing parameters for Firestore document reference");const r={functionName:o,activityOrder:n.order.toString(),userId:t,questionId:s.id,userCode:e,language:R,testCount:i};await KY.post("http://localhost:5002/test-function",r,{headers:{"Content-Type":"application/json"}})}catch(h){console.error("Error testing ".concat(o,":"),h)}},onCodeChange:t=>{_(t)},userId:t,language:R,activityOrder:n.order.toString(),setOutput:()=>{}}),(0,om.jsxs)("div",{className:"question-info",children:[(0,om.jsxs)("p",{children:["Level: ",U.difficulty]}),(0,om.jsxs)("p",{children:["XP: ",U.xp]})]})]}),u&&(0,om.jsx)("div",{className:"result-section",children:(0,om.jsx)("pre",{children:u})}),w&&(0,om.jsx)("div",{className:"loading",children:"Submitting..."}),(0,om.jsx)("div",{id:"mycanvas"}),(0,om.jsx)("button",{className:"code-editor-button",onClick:()=>{const t=Math.floor(Math.random()*r.length);m(t)},children:"Randomize Question"}),(0,om.jsx)("button",{className:"code-editor-button",onClick:async()=>{try{const t=await KY.get("http://localhost:5002/ping");p(t.data.message)}catch(h){p("Error: Unable to reach the server.")}},children:"Check Server Status"}),f&&(0,om.jsx)("div",{className:"server-status",children:f}),k.length>0&&(0,om.jsx)(fF,{results:k,onClose:()=>S([])})]})]})};const w5=function(){const{uid:t}=st(),[e,n]=(0,o.useState)(null),[i,r]=(0,o.useState)([]),[s,a]=(0,o.useState)("week"),[l,h]=(0,o.useState)(!0),[c,u]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=t=>{const e=new Date;let n=0;return t.forEach((t=>{const i=new Date(t.day);let r=!1;if("week"===s){const t=new Date(e);t.setDate(e.getDate()-e.getDay()),r=i>=t&&i<=e}else if("month"===s){r=i>=new Date(e.getFullYear(),e.getMonth(),1)&&i<=e}else if("year"===s){r=i>=new Date(e.getFullYear(),0,1)&&i<=e}r&&(n+=t.xp)})),n};(async()=>{try{const e=Pf(rm,"users",t),i=await Pp(e);i.exists()&&n(i.data())}catch(e){console.error("Error fetching user data:",e)}})(),(async()=>{try{const t=Sf(rm,"users"),n=await Qp(t),i=await Promise.all(n.docs.map((async t=>{const n=t.data(),i=Pf(rm,"userActivity",t.id),r=await Pp(i);let s=0;if(r.exists()){const t=r.data().loginData;s=e(t)}return{id:t.id,username:n.username,xp:s,profilePicture:n.profilePicture}})));i.sort(((t,e)=>e.xp-t.xp)),r(i)}catch(t){console.error("Error fetching ranking data:",t)}finally{h(!1)}})()}),[t,s]);const d=t=>{a(t)};return(0,om.jsxs)("div",{className:"ranking-page",children:[(0,om.jsx)(lm,{userData:e}),(0,om.jsxs)("div",{className:"ranking-content",children:[(0,om.jsxs)("div",{className:"ranking-header",children:[(0,om.jsx)("h2",{children:"Ranking"}),(0,om.jsxs)("div",{className:"timeframe-buttons",children:[(0,om.jsx)("button",{className:"week"===s?"active":"",onClick:()=>d("week"),children:"Week"}),(0,om.jsx)("button",{className:"month"===s?"active":"",onClick:()=>d("month"),children:"Month"}),(0,om.jsx)("button",{className:"year"===s?"active":"",onClick:()=>d("year"),children:"Year"})]})]}),l?(0,om.jsx)("div",{className:"loading",children:"Loading..."}):(0,om.jsx)("div",{className:"ranking-list",children:i.map(((e,n)=>(0,om.jsxs)("div",{className:"ranking-item ".concat(e.id===t?"highlight":""),onClick:()=>(t=>{u(t)})(e),children:[(0,om.jsx)("img",{src:e.profilePicture||"".concat("/DYA","/profile-avatar.png"),alt:"Profile",className:"profile-pic"}),(0,om.jsxs)("p",{children:[n+1,". ",e.username," - ",e.xp," XP"]})]},n)))})]}),c&&(0,om.jsx)(am,{userData:c,close:()=>{u(null)}})]})};const x5=function(){const t=rt(),e=e=>{e?t(e):console.error("Undefined route passed to handleRouteChange")},[n,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),[a,l]=(0,o.useState)(!1);(0,o.useEffect)((()=>{i(!1),s(!1),l(!1)}),[t]);const h=()=>{i(!n),s(!1),l(!1)},c=()=>{i(!1),l(!a)};return(0,om.jsx)("div",{className:"App",children:(0,om.jsxs)(bt,{children:[(0,om.jsx)(yt,{path:"/",element:(0,om.jsxs)("div",{children:[(0,om.jsxs)("header",{className:"App-header",children:[(0,om.jsxs)("div",{className:"auth-buttons",children:[(0,om.jsx)("button",{className:"auth-button",onClick:c,children:"Log In"}),(0,om.jsx)("button",{className:"auth-button",onClick:h,children:"Sign Up"})]}),(0,om.jsx)("h1",{children:"Welcome to DYA!"}),(0,om.jsx)("p",{children:"Your ultimate fun and learning destination for kids."})]}),(0,om.jsxs)("main",{children:[n&&(0,om.jsx)("div",{className:"popup-overlay",onClick:()=>i(!1),children:(0,om.jsx)("div",{className:"popup-content",onClick:t=>t.stopPropagation(),children:r?(0,om.jsx)(UB,{setShowSignUpForm:s,toggleLoginPopUp:c}):(0,om.jsx)(XB,{showSignUpForm:()=>{s(!0)},handleRouteChange:e,toggleLoginPopUp:c})})}),a&&(0,om.jsx)("div",{className:"popup-overlay",onClick:()=>l(!1),children:(0,om.jsx)("div",{className:"popup-content",onClick:t=>t.stopPropagation(),children:(0,om.jsx)(WB,{handleRouteChange:e,toggleSignUpPopUp:h,toggleLoginPopUp:c})})}),(0,om.jsxs)("div",{className:"main-content ".concat(n||a?"blur":""),children:[(0,om.jsxs)("section",{className:"features",children:[(0,om.jsxs)("div",{className:"feature feature-games",children:[(0,om.jsx)("h3",{children:"Games"}),(0,om.jsx)("p",{children:"Engage in exciting and educational games designed for kids."})]}),(0,om.jsxs)("div",{className:"feature feature-videos",children:[(0,om.jsx)("h3",{children:"Interactive"}),(0,om.jsx)("p",{children:"Everything is fun and interactive making it easier to learn!"})]}),(0,om.jsxs)("div",{className:"feature feature-activities",children:[(0,om.jsx)("h3",{children:"Activities"}),(0,om.jsx)("p",{children:"Participate in creative and fun activities to learn new things."})]})]}),(0,om.jsx)(GB,{})]})]}),(0,om.jsx)(FB,{})]})}),(0,om.jsx)(yt,{path:"/login",element:(0,om.jsx)(WB,{handleRouteChange:e})}),(0,om.jsx)(yt,{path:"/signup",element:(0,om.jsx)(XB,{handleRouteChange:e})}),(0,om.jsx)(yt,{path:"/signup/child",element:(0,om.jsx)(UB,{handleRouteChange:e})}),(0,om.jsx)(yt,{path:"/parenthub/:userId",element:(0,om.jsx)(y5,{})}),(0,om.jsx)(yt,{path:"/roadmap/:uid",element:(0,om.jsx)(cm,{})}),(0,om.jsx)(yt,{path:"/practice/:uid",element:(0,om.jsx)(b5,{})})," ",(0,om.jsx)(yt,{path:"/activity/:uid/:activityTitle/:activityOrder",element:(0,om.jsx)(qB,{})}),(0,om.jsx)(yt,{path:"/lessons/:uid/:language/:lessonTitle",element:(0,om.jsx)(HB,{})}),(0,om.jsx)(yt,{path:"/ranking/:uid",element:(0,om.jsx)(w5,{})})," "]})})},k5=t=>{t&&t instanceof Function&&n.e(845).then(n.bind(n,845)).then((e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:o}=e;n(t),i(t),r(t),s(t),o(t)}))};l.createRoot(document.getElementById("root")).render((0,om.jsx)(o.StrictMode,{children:(0,om.jsx)(kt,{children:(0,om.jsx)(x5,{})})})),k5()})();
//# sourceMappingURL=main.8a10dd6e.js.map